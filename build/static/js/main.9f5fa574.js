/*! For license information please see main.9f5fa574.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},370:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,a){r=r||"&",i=i||"=";var o={};if("string"!==typeof e||0===e.length)return o;var u=/\+/g;e=e.split(r);var s=1e3;a&&"number"===typeof a.maxKeys&&(s=a.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,h,d,p,v=e[l].replace(u,"%20"),m=v.indexOf(i);m>=0?(f=v.substr(0,m),h=v.substr(m+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),t(o,d)?n(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},290:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,o,u){return a=a||"&",o=o||"=",null===e&&(e=void 0),"object"===typeof e?r(i(e),(function(i){var u=encodeURIComponent(t(i))+o;return n(e[i])?r(e[i],(function(e){return u+encodeURIComponent(t(e))})).join(a):u+encodeURIComponent(t(e[i]))})).join(a):u?encodeURIComponent(t(u))+o+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},344:function(e,t,n){n(370),t.stringify=n(290)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Re(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,Rt=null,At=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Rt&&Ut(Rt)&&(Rt=null),null!==At&&Ut(At)&&(At=null),Nt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),null!==At&&zt(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Mt(Rt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Rr=Ir("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Er:case Tr:case Cr:s=yn;break;case Rr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ri=Si(!1),Ai=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ri),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ri,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ri),Ii(Ci),Ei(Ci,e)):Ii(Ri),Ei(Ri,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{kt=t,ji=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Rs)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Rs)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Rs.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ro,useRef:jo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ri.current||Aa?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ri.current||Aa?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,a,i)}function Ru(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Rs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ri),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ri),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Rs=null,As=null,Ns=0,Ps=0,Os=Si(0),Ds=0,Ls=null,Ms=0,Fs=0,Us=0,Vs=null,js=null,zs=0,Bs=1/0,qs=null,Ks=!1,Gs=null,Ws=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Rs||(e===Rs&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Rs?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Rs?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Rs===e&&Ns===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Rs=null,Ns=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,Vi&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ri),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Rs=e,As=e=Oc(e.current,null),Ns=Ps=t,Ds=0,Ls=null,Us=Fs=Ms=0,js=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Rs||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Rs,Ns)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Rs===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Rs=null,Ns=0,Ds}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Rs&&(As=Rs=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Rc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ns&n)===n&&(4===Ds||3===Ds&&(130023424&Ns)===Ns&&500>Xe()-zs?hc(e,0):Us|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Rc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case R:return(e=Nc(13,n,t,i)).elementType=R,e.lanes=o,e;case A:return(e=Nc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ru(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ri.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Ru(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Re=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=R(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=R(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return fi},SDK_VERSION:function(){return _a},_DEFAULT_ENTRY_NAME:function(){return la},_addComponent:function(){return pa},_addOrOverwriteComponent:function(){return va},_apps:function(){return ha},_clearComponents:function(){return ka},_components:function(){return da},_getProvider:function(){return ya},_registerComponent:function(){return ma},_removeServiceInstance:function(){return ga},deleteApp:function(){return Ta},getApp:function(){return Ia},getApps:function(){return Ea},initializeApp:function(){return Sa},onLog:function(){return Aa},registerVersion:function(){return Ra},setLogLevel:function(){return Na}});var t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var d=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r},p=n(110),v=n.n(p),m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y="object"===("undefined"===typeof window?"undefined":m(window))&&"object"===("undefined"===typeof document?"undefined":m(document))&&9===document.nodeType;function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _={}.constructor;function S(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(S);if(e.constructor!==_)return e;var t={};for(var n in e)t[n]=S(e[n]);return t}function I(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=S(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var E=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},T=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=E(e[n]," ");else t=E(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function C(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function R(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function A(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=C(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=R(h+":"+c+T(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=R(p+":"+c+T(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=R(m+":"+c+T(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),R(""+e+c+"{"+r,--a)+R("}",a)):r}var N=/([[\].#*$><+~=|^:(),"'`\s])/g,P="undefined"!==typeof CSS&&CSS.escape,O=function(e){return P?P(e):e.replace(N,"\\$1")},D=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),L=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(x(x(i)),u),i.selectorText="."+O(i.id)),i}w(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=T(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return A(this.selectorText,this.style,n)},k(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(D),M={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new L(e,t,n)}},F={indent:1,children:!0},U=/@([\w-]+)/,V=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(U);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=F);var t=C(e).linebreak;if(null==e.indent&&(e.indent=F.indent),null==e.children&&(e.children=F.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),j=/@media|@supports\s+/,z={onCreateRule:function(e,t,n){return j.test(e)?new V(e,t,n):null}},B={indent:1,children:!0},q=/@keyframes\s+([\w-]+)/,K=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(q);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:O(o(this,a)),this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(u,t[u],c({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=B);var t=C(e).linebreak;if(null==e.indent&&(e.indent=B.indent),null==e.children&&(e.children=B.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),G=/@keyframes\s+/,W=/\$([\w-]+)/g,H=function(e,t){return"string"===typeof e?e.replace(W,(function(e,n){return n in t?t[n]:e})):e},Q=function(e,t,n){var r=e[t],i=H(r,n);i!==r&&(e[t]=i)},$={onCreateRule:function(e,t,n){return"string"===typeof e&&G.test(e)?new K(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Q(e,"animation-name",n.keyframes),"animation"in e&&Q(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return H(e,r.keyframes);default:return e}}},Y=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return A(this.key,this.style,n)},t}(D),X={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Y(e,t,n):null}},J=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=C(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=A(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return A(this.at,this.style,e)},e}(),Z=/@font-face/,ee={onCreateRule:function(e,t,n){return Z.test(e)?new J(e,t,n):null}},te=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return A(this.key,this.style,e)},e}(),ne={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new te(e,t,n):null}},re=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ie={"@charset":!0,"@import":!0,"@namespace":!0},ae={onCreateRule:function(e,t,n){return e in ie?new re(e,t,n):null}},oe=[M,z,$,X,ee,ne,ae],ue={process:!0},se={force:!0,process:!0},ce=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,l=r.scoped,f=c({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+O(this.classes[h]));var d=I(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=c({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof L?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof K&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof L?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof K&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ue);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,se)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,se)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=C(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),le=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=c({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ce(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),fe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),he=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=l(t,["attached"]),i=C(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},k(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),de=new he,pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ve="2f1acc6c3a606b082e5eef5e54414ffb";null==pe[ve]&&(pe[ve]=0);var me=pe[ve]++,ye=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+me+i+t:a+n.key+"-"+me+(i?"-"+i:"")+"-"+t}},ge=function(e){var t;return function(){return t||(t=e()),t}},ke=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},be=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=T(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},we=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},xe=function(e,t){return e.selectorText=t,e.selectorText===t},_e=ge((function(){return document.querySelector("head")}));function Se(e){var t=de.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=_e(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ie=ge((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Ee=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Te=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ce=function(){function e(e){this.getPropertyValue=ke,this.setProperty=be,this.removeProperty=we,this.setSelector=xe,this.hasInsertedRules=!1,this.cssRules=[],e&&de.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Ie();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Se(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else _e().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Te(n,t);if(!1===(i=Ee(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Te(n,t),s=Ee(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof le&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Re=0,Ae=function(){function e(e){this.id=Re++,this.version="10.9.2",this.plugins=new fe,this.options={id:{minify:!1},createGenerateId:ye,Renderer:y?Ce:null,plugins:[]},this.generateId=ye({minify:!1});for(var t=0;t<oe.length;t++)this.plugins.use(oe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=c({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===de.index?0:de.index+1);var r=new le(e,c({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),de.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=c({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=I(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ne=function(e){return new Ae(e)},Pe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Oe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Oe(r);a&&(t||(t={}),t[n]=a)}}return t}Ne();function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=c({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Le={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Me=Le;var Fe=t.createContext(null);function Ue(){return t.useContext(Fe)}var Ve="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",je=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ze=Date.now(),Be="fnValues"+ze,qe="fnStyle"+ ++ze,Ke=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=I(e,{},n);return r[qe]=t,r},onProcessStyle:function(e,t){if(Be in t||qe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Be]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[qe];a&&(i.style=a(e)||{});var o=i[Be];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ge="@global",We="@global ",He=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(e,t,n){this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(We.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),$e=/\s*,\s*/g;function Ye(e,t){for(var n=e.split($e),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Xe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ge)return new He(e,t,n);if("@"===e[0]&&e.substr(0,We.length)===We)return new Qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ge]:null;if(i){for(var a in i)t.addRule(a,i[a],c({},n,{selector:Ye(a,e.selector)}));delete r[Ge]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ge.length)===Ge){var a=Ye(i.substr(Ge.length),e.selector);t.addRule(a,r[i],c({},n,{selector:a})),delete r[i]}}(e,t))}}},Je=/\s*,\s*/g,Ze=/&/g,et=/\$([\w-]+)/g;var tt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Je),r=e.split(Je),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Ze,o):o+" "+s}return i}function n(e,t,n){if(n)return c({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=c({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,l=s.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(s,l,o),h){var p=t(f,s.selector);u||(u=e(l,a)),p=p.replace(et,u);var v=s.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],c({},o,{selector:p})):l.addRule(v,r[f],c({},o,{selector:p}))}else d&&l.addRule(f,{},o).addRule(s.key,r[f],{selector:s.selector});delete r[f]}}return r}}},nt=/[A-Z]/g,rt=/^ms-/,it={};function at(e){return"-"+e.toLowerCase()}var ot=function(e){if(it.hasOwnProperty(e))return it[e];var t=e.replace(nt,at);return it[e]=rt.test(t)?"-"+t:t};function ut(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ot(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ut):t.fallbacks=ut(e.fallbacks)),t}var st=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ut(e[t]);return e}return ut(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ot(t);return t===r?e:(n.prop(r,e),null)}}},ct=Pe&&CSS?CSS.px:"px",lt=Pe&&CSS?CSS.ms:"ms",ft=Pe&&CSS?CSS.percent:"%";function ht(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var dt=ht({"animation-delay":lt,"animation-duration":lt,"background-position":ct,"background-position-x":ct,"background-position-y":ct,"background-size":ct,border:ct,"border-bottom":ct,"border-bottom-left-radius":ct,"border-bottom-right-radius":ct,"border-bottom-width":ct,"border-left":ct,"border-left-width":ct,"border-radius":ct,"border-right":ct,"border-right-width":ct,"border-top":ct,"border-top-left-radius":ct,"border-top-right-radius":ct,"border-top-width":ct,"border-width":ct,"border-block":ct,"border-block-end":ct,"border-block-end-width":ct,"border-block-start":ct,"border-block-start-width":ct,"border-block-width":ct,"border-inline":ct,"border-inline-end":ct,"border-inline-end-width":ct,"border-inline-start":ct,"border-inline-start-width":ct,"border-inline-width":ct,"border-start-start-radius":ct,"border-start-end-radius":ct,"border-end-start-radius":ct,"border-end-end-radius":ct,margin:ct,"margin-bottom":ct,"margin-left":ct,"margin-right":ct,"margin-top":ct,"margin-block":ct,"margin-block-end":ct,"margin-block-start":ct,"margin-inline":ct,"margin-inline-end":ct,"margin-inline-start":ct,padding:ct,"padding-bottom":ct,"padding-left":ct,"padding-right":ct,"padding-top":ct,"padding-block":ct,"padding-block-end":ct,"padding-block-start":ct,"padding-inline":ct,"padding-inline-end":ct,"padding-inline-start":ct,"mask-position-x":ct,"mask-position-y":ct,"mask-size":ct,height:ct,width:ct,"min-height":ct,"max-height":ct,"min-width":ct,"max-width":ct,bottom:ct,left:ct,top:ct,right:ct,inset:ct,"inset-block":ct,"inset-block-end":ct,"inset-block-start":ct,"inset-inline":ct,"inset-inline-end":ct,"inset-inline-start":ct,"box-shadow":ct,"text-shadow":ct,"column-gap":ct,"column-rule":ct,"column-rule-width":ct,"column-width":ct,"font-size":ct,"font-size-delta":ct,"letter-spacing":ct,"text-decoration-thickness":ct,"text-indent":ct,"text-stroke":ct,"text-stroke-width":ct,"word-spacing":ct,motion:ct,"motion-offset":ct,outline:ct,"outline-offset":ct,"outline-width":ct,perspective:ct,"perspective-origin-x":ft,"perspective-origin-y":ft,"transform-origin":ft,"transform-origin-x":ft,"transform-origin-y":ft,"transform-origin-z":ft,"transition-delay":lt,"transition-duration":lt,"vertical-align":ct,"flex-basis":ct,"shape-margin":ct,size:ct,gap:ct,grid:ct,"grid-gap":ct,"row-gap":ct,"grid-row-gap":ct,"grid-column-gap":ct,"grid-template-rows":ct,"grid-template-columns":ct,"grid-auto-rows":ct,"grid-auto-columns":ct,"box-shadow-x":ct,"box-shadow-y":ct,"box-shadow-blur":ct,"box-shadow-spread":ct,"font-line-height":ct,"text-shadow-x":ct,"text-shadow-y":ct,"text-shadow-blur":ct});function pt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=pt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=pt(i,t[i],n);else for(var a in t)t[a]=pt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||dt[e];return!o||0===t&&o===ct?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var vt=function(e){void 0===e&&(e={});var t=ht(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=pt(r,e[r],t);return e},onChangeValue:function(e,n){return pt(n,e,t)}}};function mt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||mt(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gt="",kt="",bt="",wt="",xt=y&&"ontouchstart"in document.documentElement;if(y){var _t={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},St=document.createElement("p").style;for(var It in _t)if(It+"Transform"in St){gt=It,kt=_t[It];break}"Webkit"===gt&&"msHyphens"in St&&(gt="ms",kt=_t.ms,wt="edge"),"Webkit"===gt&&"-apple-trailing-word"in St&&(bt="apple")}var Et=gt,Tt=kt,Ct=bt,Rt=wt,At=xt;var Nt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Et?"-webkit-"+e:Tt+e)}},Pt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Et?Tt+"print-"+e:e)}},Ot=/[-\s]+(.)?/g;function Dt(e,t){return t?t.toUpperCase():""}function Lt(e){return e.replace(Ot,Dt)}function Mt(e){return Lt("-"+e)}var Ft,Ut={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Et){var n="mask-image";if(Lt(n)in t)return e;if(Et+Mt(n)in t)return Tt+e}return e}},Vt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Ct||At?e:Tt+e)}},jt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Tt+e)}},zt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Tt+e)}},Bt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Et||"ms"===Et&&"edge"!==Rt?Tt+e:e)}},qt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Et||"ms"===Et||"apple"===Ct?Tt+e:e)}},Kt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Et?"WebkitColumn"+Mt(e)in t&&Tt+"column-"+e:"Moz"===Et&&("page"+Mt(e)in t&&"page-"+e))}},Gt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Et)return e;var n=e.replace("-inline","");return Et+Mt(n)in t&&Tt+n}},Wt={supportedProperty:function(e,t){return Lt(e)in t&&e}},Ht={supportedProperty:function(e,t){var n=Mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Et+n in t?Tt+e:"Webkit"!==Et&&"Webkit"+n in t&&"-webkit-"+e}},Qt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Et?""+Tt+e:e)}},$t={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Et?Tt+"scroll-chaining":e)}},Yt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Xt={supportedProperty:function(e,t){var n=Yt[e];return!!n&&(Et+Mt(n)in t&&Tt+n)}},Jt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Zt=Object.keys(Jt),en=function(e){return Tt+e},tn={supportedProperty:function(e,t,n){var r=n.multiple;if(Zt.indexOf(e)>-1){var i=Jt[e];if(!Array.isArray(i))return Et+Mt(i)in t&&Tt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Et+Mt(i[0])in t))return!1;return i.map(en)}return!1}},nn=[Nt,Pt,Ut,Vt,jt,zt,Bt,qt,Kt,Gt,Wt,Ht,Qt,$t,Xt,tn],rn=nn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),an=nn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,yt(t.noPrefill)),e}),[]),on={};if(y){Ft=document.createElement("p");var un=window.getComputedStyle(document.documentElement,"");for(var sn in un)isNaN(sn)||(on[un[sn]]=un[sn]);an.forEach((function(e){return delete on[e]}))}function cn(e,t){if(void 0===t&&(t={}),!Ft)return e;if(null!=on[e])return on[e];"transition"!==e&&"transform"!==e||(t[e]=e in Ft.style);for(var n=0;n<rn.length&&(on[e]=rn[n](e,Ft.style,t),!on[e]);n++);try{Ft.style[e]=""}catch(r){return!1}return on[e]}var ln,fn={},hn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},dn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function pn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?cn(t):", "+cn(n);return r||(t||n)}function vn(e,t){var n=t;if(!ln||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=fn[r])return fn[r];try{ln.style[e]=n}catch(i){return fn[r]=!1,!1}if(hn[e])n=n.replace(dn,pn);else if(""===ln.style[e]&&("-ms-flex"===(n=Tt+n)&&(ln.style[e]="-ms-flexbox"),ln.style[e]=n,""===ln.style[e]))return fn[r]=!1,!1;return ln.style[e]="",fn[r]=n,fn[r]}y&&(ln=document.createElement("p"));var mn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=cn(n);a&&a!==n&&(i=!0);var o=!1,u=vn(a,T(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Et?e:"@"+Tt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return vn(t,T(e))||e}}};var yn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var gn=Ne({plugins:[Ke(),Xe(),tt(),st(),vt(),"undefined"===typeof window?null:mn(),yn()]}),kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==je.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ve]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),bn={disableGeneration:!1,generateClassName:kn,jss:gn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},wn=t.createContext(bn);var xn=-1e9;function _n(){return xn+=1}function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function In(e){return e&&"object"===Sn(e)&&e.constructor===Object}function En(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return In(e)&&In(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(In(t[i])&&i in e?r[i]=En(e[i],t[i],n):r[i]=t[i])})),r}function Tn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=c({},i);return Object.keys(a).forEach((function(e){o[e]=En(o[e],a[e])})),o},options:{}}}var Cn={};function Rn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=De({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function An(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Me.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Me.set(i.sheetsManager,a,r,u));var s=c({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Me.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,c({link:!1},s))).attach(),i.sheetsCache&&Me.set(i.sheetsCache,a,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Oe(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,c({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=De({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Nn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Me.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Me.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function On(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Dn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,u=void 0===o?Cn:o,s=f(n,["name","classNamePrefix","Component","defaultTheme"]),l=Tn(e),h=r||i||"makeStyles";l.options={index:_n(),name:r,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ue()||u,i=c({},t.useContext(wn),s),o=t.useRef(),f=t.useRef();On((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return An(t,e),f.current=!1,o.current=t,function(){Pn(t)}}),[n,l]),t.useEffect((function(){f.current&&Nn(o.current,e),f.current=!0}));var h=Rn(o.current,e.classes,a);return h};return d}function Ln(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,u=n.name,s=f(n,["defaultTheme","withTheme","name"]);var l=u,h=Dn(e,c({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:l},s)),d=t.forwardRef((function(e,n){e.classes;var a,s=e.innerRef,l=f(e,["classes","innerRef"]),d=h(c({},r.defaultProps,e)),p=l;return("string"===typeof u||o)&&(a=Ue()||i,u&&(p=Ln({theme:a,name:u,props:l})),o&&!p.theme&&(p.theme=a)),t.createElement(r,c({ref:s||n,classes:d},p))}));return v()(d,r),d}},Fn=["xs","sm","md","lg","xl"];function Un(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=Fn.indexOf(t);return r===Fn.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Fn[r+1]]?n[Fn[r+1]]:t)-o/100).concat(i,")")}return c({keys:Fn,values:n,up:s,down:function(e){var t=Fn.indexOf(e)+1,r=n[Fn[t]];return t===Fn.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},u)}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t,n){var r;return c({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),c({paddingLeft:t(2),paddingRight:t(2)},n,Vn({},e.up("sm"),c({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Vn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Vn(r,e.up("sm"),{minHeight:64}),r)},n)}function zn(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Bn={black:"#000",white:"#fff"},qn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Kn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Gn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Wn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Xn(e){if(e.type)return e;if("#"===e.charAt(0))return Xn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(zn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Jn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Zn(e){var t="hsl"===(e=Xn(e)).type?Xn(function(e){var t=(e=Xn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Jn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function er(e,t){return e=Xn(e),t=Yn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Jn(e)}function tr(e,t){if(e=Xn(e),t=Yn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Jn(e)}function nr(e,t){if(e=Xn(e),t=Yn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Jn(e)}var rr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Bn.white,default:qn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ir={text:{primary:Bn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:qn[800],default:"#303030"},action:{active:Bn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ar(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=nr(e.main,i):"dark"===t&&(e.dark=tr(e.main,a)))}function or(e){var t=e.primary,n=void 0===t?{light:Kn[300],main:Kn[500],dark:Kn[700]}:t,r=e.secondary,i=void 0===r?{light:Gn.A200,main:Gn.A400,dark:Gn.A700}:r,a=e.error,o=void 0===a?{light:Wn[300],main:Wn[500],dark:Wn[700]}:a,u=e.warning,s=void 0===u?{light:Hn[300],main:Hn[500],dark:Hn[700]}:u,l=e.info,h=void 0===l?{light:Qn[300],main:Qn[500],dark:Qn[700]}:l,d=e.success,p=void 0===d?{light:$n[300],main:$n[500],dark:$n[700]}:d,v=e.type,m=void 0===v?"light":v,y=e.contrastThreshold,g=void 0===y?3:y,k=e.tonalOffset,b=void 0===k?.2:k,w=f(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=Zn(e),r=Zn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ir.text.primary)>=g?ir.text.primary:rr.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=c({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(zn(4,t));if("string"!==typeof e.main)throw new Error(zn(5,JSON.stringify(e.main)));return ar(e,"light",n,b),ar(e,"dark",r,b),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:ir,light:rr};return En(c({common:Bn,type:m,primary:_(n),secondary:_(i,"A400","A200","A700"),error:_(o),warning:_(s),info:_(h),success:_(p),grey:qn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:b},S[m]),w)}function ur(e){return Math.round(1e5*e)/1e5}function sr(e){return ur(e)}var cr={textTransform:"uppercase"},lr='"Roboto", "Helvetica", "Arial", sans-serif';function fr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?lr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=f(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===lr?{letterSpacing:"".concat(ur(r/t),"em")}:{},a,k)},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,cr),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,cr)};return En(c({htmlFontSize:g,pxToRem:_,round:sr,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},I),w,{clone:!1})}function hr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var dr=["none",hr(0,2,1,-1,0,1,1,0,0,1,3,0),hr(0,3,1,-2,0,2,2,0,0,1,5,0),hr(0,3,3,-2,0,3,4,0,0,1,8,0),hr(0,2,4,-1,0,4,5,0,0,1,10,0),hr(0,3,5,-1,0,5,8,0,0,1,14,0),hr(0,3,5,-1,0,6,10,0,0,1,18,0),hr(0,4,5,-2,0,7,10,1,0,2,16,1),hr(0,5,5,-3,0,8,10,1,0,3,14,2),hr(0,5,6,-3,0,9,12,1,0,3,16,2),hr(0,6,6,-3,0,10,14,1,0,4,18,3),hr(0,6,7,-4,0,11,15,1,0,4,20,3),hr(0,7,8,-4,0,12,17,2,0,5,22,4),hr(0,7,8,-4,0,13,19,2,0,5,24,4),hr(0,7,9,-4,0,14,21,2,0,5,26,4),hr(0,8,9,-5,0,15,22,2,0,6,28,5),hr(0,8,10,-5,0,16,24,2,0,6,30,5),hr(0,8,11,-5,0,17,26,2,0,6,32,5),hr(0,9,11,-5,0,18,28,2,0,7,34,6),hr(0,9,12,-6,0,19,29,2,0,7,36,6),hr(0,10,13,-6,0,20,31,3,0,8,38,7),hr(0,10,13,-6,0,21,33,3,0,8,40,7),hr(0,10,14,-6,0,22,35,3,0,8,42,7),hr(0,11,14,-7,0,23,36,3,0,9,44,8),hr(0,11,15,-7,0,24,38,3,0,9,46,8)],pr={borderRadius:4},vr={xs:0,sm:600,md:960,lg:1280,xl:1920},mr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(vr[e],"px)")}};var yr=function(e,t){return t?En(e,t,{clone:!1}):e};var gr={m:"margin",p:"padding"},kr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},br={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!br[e])return[e];e=br[e]}var t=s(e.split(""),2),n=t[0],r=t[1],i=gr[n],a=kr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),xr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function _r(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Sr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Ir(e){var t=_r(e.theme);return Object.keys(e).map((function(n){if(-1===xr.indexOf(n))return null;var r=Sr(wr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||mr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===Sn(t)){var i=e.theme.breakpoints||mr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(yr,{})}Ir.propTypes={},Ir.filterProps=xr;function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=_r({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Tr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Rr(e){return"".concat(Math.round(e),"ms")}var Ar={easing:Tr,duration:Cr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Cr.standard:n,i=t.easing,a=void 0===i?Tr.easeInOut:i,o=t.delay,u=void 0===o?0:o;f(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Rr(r)," ").concat(a," ").concat("string"===typeof u?u:Rr(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Nr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=f(e,["breakpoints","mixins","palette","spacing","typography"]),h=or(o),d=Un(n),p=Er(u),v=En({breakpoints:d,direction:"ltr",mixins:jn(d,p,i),overrides:{},palette:h,props:{},shadows:dr,typography:fr(h,c),spacing:p,shape:pr,transitions:Ar,zIndex:Nr},l),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return En(e,t)}),v)}var Or=Pr();var Dr=function(e,t){return Mn(e,c({defaultTheme:Or},t))};function Lr(e){if("string"!==typeof e)throw new Error(zn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Mr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,l=void 0===s?"svg":s,h=e.fontSize,p=void 0===h?"medium":h,v=e.htmlColor,m=e.titleAccess,y=e.viewBox,g=void 0===y?"0 0 24 24":y,k=f(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(l,c({className:d(i.root,a,"inherit"!==u&&i["color".concat(Lr(u))],"default"!==p&&"medium"!==p&&i["fontSize".concat(Lr(p))]),focusable:"false",viewBox:g,color:v,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:n},k),r,m?t.createElement("title",null,m):null)}));Mr.muiName="SvgIcon";var Fr=Dr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Mr);var Ur=function(e,n){var r=function(n,r){return t.createElement(Fr,c({ref:r},n),e)};return r.muiName=Fr.muiName,t.memo(t.forwardRef(r))}(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var Vr=t.forwardRef((function(e,n){var r=e.alt,i=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,l=e.imgProps,h=e.sizes,p=e.src,v=e.srcSet,m=e.variant,y=void 0===m?"circular":m,g=f(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,b=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:p,srcSet:v}),w=p||v,x=w&&"error"!==b;return k=x?t.createElement("img",c({alt:r,src:p,srcSet:v,sizes:h,className:a.img},l)):null!=i?i:w&&r?r[0]:t.createElement(Ur,{className:a.fallback}),t.createElement(s,c({className:d(a.root,a.system,a[y],o,!x&&a.colorDefault),ref:n},g),k)})),jr=Dr((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Vr);function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function qr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}function Gr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Wr(e,t){if(t&&("object"===Sn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function Hr(e){var t=Gr();return function(){var n,r=Kr(e);if(t){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wr(this,n)}}function Qr(e,t,n){return Qr=Gr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},Qr.apply(null,arguments)}function $r(e){var t="function"===typeof Map?new Map:void 0;return $r=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Qr(e,arguments,Kr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},$r(e)}var Yr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Jr=function(e){return function(e){var t=Yr(e);return Xr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Zr=function(e){try{return Xr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ei(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ti(n)&&(e[n]=ei(e[n],t[n]));return e}function ti(e){return"__proto__"!==e}var ni=function(){function e(){var t=this;zr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ri(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Jr(JSON.stringify({alg:"none",type:"JWT"})),Jr(JSON.stringify(a)),""].join(".")}function ii(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ai(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ii())}function oi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ui(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function si(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ci(){var e=ii();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function li(){return"object"===typeof indexedDB}var fi=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),hi.prototype.create),a}return k(n)}($r(Error)),hi=function(){function e(t,n,r){zr(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?di(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new fi(n,a,t);return o}}]),e}();function di(e,t){return e.replace(pi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var pi=/\{\$([^}]+)}/g;function vi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function mi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(yi(u)&&yi(s)){if(!mi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function yi(e){return null!==e&&"object"===typeof e}function gi(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ki(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function bi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wi(e,t){var n=new xi(e,t);return n.subscribe.bind(n)}var xi=function(){function e(t,n){var r=this;zr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Br(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_i),void 0===r.error&&(r.error=_i),void 0===r.complete&&(r.complete=_i);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _i(){}function Si(e){return e&&e._delegate?e._delegate:e}function Ii(){Ii=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Sn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ei(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ei(a,r,i,o,u,"next",e)}function u(e){Ei(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ci=function(){function e(t,n,r){zr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ri="[DEFAULT]",Ai=function(){function e(t,n){zr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ni;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch(c){}var t,n=Br(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(yt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),yt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Br(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ri?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.component?this.component.multipleInstances?e:Ri:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ni,Pi,Oi=function(){function e(t){zr(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ai(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Di=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pi||(Pi={}));var Li={debug:Pi.DEBUG,verbose:Pi.VERBOSE,info:Pi.INFO,warn:Pi.WARN,error:Pi.ERROR,silent:Pi.SILENT},Mi=Pi.INFO,Fi=(Vn(Ni={},Pi.DEBUG,"log"),Vn(Ni,Pi.VERBOSE,"log"),Vn(Ni,Pi.INFO,"info"),Vn(Ni,Pi.WARN,"warn"),Vn(Ni,Pi.ERROR,"error"),Ni),Ui=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vi=function(){function e(t){zr(this,e),this.name=t,this._logLevel=Mi,this._logHandler=Ui,this._userLogHandler=null,Di.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Pi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Li[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Pi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Pi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pi.INFO].concat(t)),this._logHandler.apply(this,[this,Pi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pi.WARN].concat(t)),this._logHandler.apply(this,[this,Pi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pi.ERROR].concat(t)),this._logHandler.apply(this,[this,Pi.ERROR].concat(t))}}]),e}();function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bi,qi;var Ki=new WeakMap,Gi=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Qi=new WeakMap;var $i={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qi||(qi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zi(this),n),Ji(Ki.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ji(e.apply(Zi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zi(this),t].concat(r));return Wi.set(a,t.sort?t.sort():[t]),Ji(a)}}function Xi(e){return"function"===typeof e?Yi(e):(e instanceof IDBTransaction&&function(e){if(!Gi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gi.set(e,t)}}(e),t=e,(Bi||(Bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,$i):e);var t}function Ji(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ji(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ki.set(t,e)})).catch((function(){})),Qi.set(t,e),t}(e);if(Hi.has(e))return Hi.get(e);var t=Xi(e);return t!==e&&(Hi.set(e,t),Qi.set(t,e)),t}var Zi=function(e){return Qi.get(e)};var ea,ta,na=["get","getKey","getAll","getAllKeys","count"],ra=["put","add","delete","clear"],ia=new Map;function aa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ia.get(t))return ia.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ra.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||na.includes(n))){var a=function(){var e=Ti(Ii().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ia.set(t,a),a}}}$i=function(e){return zi(zi({},e),{},{get:function(t,n,r){return aa(t,n)||e.get(t,n,r)},has:function(t,n){return!!aa(t,n)||e.has(t,n)}})}($i);var oa=function(){function e(t){zr(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ua="@firebase/app",sa="0.7.31",ca=new Vi("@firebase/app"),la="[DEFAULT]",fa=(Vn(ea={},ua,"fire-core"),Vn(ea,"@firebase/app-compat","fire-core-compat"),Vn(ea,"@firebase/analytics","fire-analytics"),Vn(ea,"@firebase/analytics-compat","fire-analytics-compat"),Vn(ea,"@firebase/app-check","fire-app-check"),Vn(ea,"@firebase/app-check-compat","fire-app-check-compat"),Vn(ea,"@firebase/auth","fire-auth"),Vn(ea,"@firebase/auth-compat","fire-auth-compat"),Vn(ea,"@firebase/database","fire-rtdb"),Vn(ea,"@firebase/database-compat","fire-rtdb-compat"),Vn(ea,"@firebase/functions","fire-fn"),Vn(ea,"@firebase/functions-compat","fire-fn-compat"),Vn(ea,"@firebase/installations","fire-iid"),Vn(ea,"@firebase/installations-compat","fire-iid-compat"),Vn(ea,"@firebase/messaging","fire-fcm"),Vn(ea,"@firebase/messaging-compat","fire-fcm-compat"),Vn(ea,"@firebase/performance","fire-perf"),Vn(ea,"@firebase/performance-compat","fire-perf-compat"),Vn(ea,"@firebase/remote-config","fire-rc"),Vn(ea,"@firebase/remote-config-compat","fire-rc-compat"),Vn(ea,"@firebase/storage","fire-gcs"),Vn(ea,"@firebase/storage-compat","fire-gcs-compat"),Vn(ea,"@firebase/firestore","fire-fst"),Vn(ea,"@firebase/firestore-compat","fire-fst-compat"),Vn(ea,"fire-js","fire-js"),Vn(ea,"firebase","fire-js-all"),ea),ha=new Map,da=new Map;function pa(e,t){try{e.container.addComponent(t)}catch(n){ca.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function va(e,t){e.container.addOrOverwriteComponent(t)}function ma(e){var t=e.name;if(da.has(t))return ca.debug("There were multiple attempts to register component ".concat(t,".")),!1;da.set(t,e);var n,r=Br(ha.values());try{for(r.s();!(n=r.n()).done;){pa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ya(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ga(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la;ya(e,t).clearInstance(n)}function ka(){da.clear()}var ba=(Vn(ta={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Vn(ta,"bad-app-name","Illegal App name: '{$appName}"),Vn(ta,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Vn(ta,"app-deleted","Firebase App named '{$appName}' already deleted"),Vn(ta,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vn(ta,"invalid-log-argument","First argument to `onLog` must be null or a function."),Vn(ta,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Vn(ta,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Vn(ta,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Vn(ta,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ta),wa=new hi("app","Firebase",ba),xa=function(){function e(t,n,r){var i=this;zr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}]),e}(),_a="9.9.3";function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:la,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wa.create("bad-app-name",{appName:String(i)});var a=ha.get(i);if(a){if(mi(e,a.options)&&mi(r,a.config))return a;throw wa.create("duplicate-app",{appName:i})}var o,u=new Oi(i),s=Br(da.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xa(e,r,u);return ha.set(i,l),l}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=ha.get(e);if(!t)throw wa.create("no-app",{appName:e});return t}function Ea(){return Array.from(ha.values())}function Ta(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ha.has(n)){e.next=6;break}return ha.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t,n){var r,i=null!==(r=fa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ca.warn(u.join(" "))}ma(new Ci("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Aa(e,t){if(null!==e&&"function"!==typeof e)throw wa.create("invalid-log-argument");!function(e,t){var n,r=Br(Di);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Li[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Pi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Na(e){var t;t=e,Di.forEach((function(e){e.setLogLevel(t)}))}var Pa="firebase-heartbeat-store",Oa=null;function Da(){return Oa||(Oa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ji(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ji(u.result),e.oldVersion,e.newVersion,Ji(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Pa)}}).catch((function(e){throw wa.create("idb-open",{originalErrorMessage:e.message})}))),Oa}function La(e){return Ma.apply(this,arguments)}function Ma(){return Ma=Ti(Ii().mark((function e(t){var n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Da();case 3:return r=e.sent,e.abrupt("return",r.transaction(Pa).objectStore(Pa).get(Va(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof fi?ca.warn(e.t0.message):(i=wa.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ca.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ma.apply(this,arguments)}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=Ti(Ii().mark((function e(t,n){var r,i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Da();case 3:return i=e.sent,a=i.transaction(Pa,"readwrite"),o=a.objectStore(Pa),e.next=8,o.put(n,Va(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof fi?ca.warn(e.t0.message):(u=wa.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ca.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ua.apply(this,arguments)}function Va(e){return"".concat(e.name,"!").concat(e.options.appId)}var ja=function(){function e(t){var n=this;zr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ga(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=za(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=za(),n=Ba(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Jr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function za(){return(new Date).toISOString().substring(0,10)}function Ba(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Br(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var qa,Ka,Ga=function(){function e(t){zr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(li()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,La(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(yt(r.heartbeats),yt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wa(e){return Jr(JSON.stringify({version:2,heartbeats:e})).length}qa="",ma(new Ci("platform-logger",(function(e){return new oa(e)}),"PRIVATE")),ma(new Ci("heartbeat",(function(e){return new ja(e)}),"PRIVATE")),Ra(ua,sa,qa),Ra(ua,sa,"esm2017"),Ra("fire-js","");var Ha=function(){function e(t,n){var r=this;zr(this,e),this._delegate=t,this.firebase=n,pa(t,new Ci("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ta(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qa=(Vn(Ka={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Vn(Ka,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ka),$a=new hi("app-compat","Firebase",Qa);var Ya=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Sa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(vi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ra,setLogLevel:Na,onLog:Aa,apps:null,SDK_VERSION:_a,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ma(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw $a.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ei(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!vi(n,e=e||la))throw $a.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ha);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ei(n,e)},createSubscribe:wi,ErrorFactory:hi,deepExtend:ei}),n}(),Xa=new Vi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ja=self.firebase.SDK_VERSION;Ja&&Ja.indexOf("LITE")>=0&&Xa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Za=Ya;!function(e){Ra("@firebase/app-compat","0.1.32",e)}();function eo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}function to(){return to="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=eo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},to.apply(this,arguments)}Za.registerVersion("firebase","9.9.3","app-compat");function no(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ro;Object.create;var io="facebook.com",ao="github.com",oo="google.com",uo="password",so="twitter.com",co="EMAIL_SIGNIN",lo="PASSWORD_RESET",fo="RECOVER_EMAIL",ho="REVERT_SECOND_FACTOR_ADDITION",po="VERIFY_AND_CHANGE_EMAIL",vo="VERIFY_EMAIL";function mo(){return Vn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yo=function(){var e;return Vn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Vn(e,"argument-error",""),Vn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Vn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Vn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Vn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Vn(e,"cordova-not-ready","Cordova framework is not ready."),Vn(e,"cors-unsupported","This browser is not supported."),Vn(e,"credential-already-in-use","This credential is already associated with a different user account."),Vn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Vn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Vn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Vn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Vn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Vn(e,"email-already-in-use","The email address is already in use by another account."),Vn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Vn(e,"expired-action-code","The action code has expired."),Vn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Vn(e,"internal-error","An internal AuthError has occurred."),Vn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Vn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Vn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Vn(e,"invalid-auth-event","An internal AuthError has occurred."),Vn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Vn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Vn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Vn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Vn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Vn(e,"invalid-email","The email address is badly formatted."),Vn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Vn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Vn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Vn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Vn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Vn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Vn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Vn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Vn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Vn(e,"wrong-password","The password is invalid or the user does not have a password."),Vn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Vn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Vn(e,"invalid-provider-id","The specified provider ID is invalid."),Vn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Vn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Vn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Vn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Vn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Vn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Vn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Vn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Vn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Vn(e,"missing-continue-uri","A continue URL must be provided in the request."),Vn(e,"missing-iframe-start","An internal AuthError has occurred."),Vn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Vn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Vn(e,"missing-multi-factor-info","No second factor identifier is provided."),Vn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Vn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Vn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Vn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Vn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Vn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Vn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Vn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Vn(e,"no-auth-event","An internal AuthError has occurred."),Vn(e,"no-such-provider","User was not linked to an account with the given provider."),Vn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Vn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Vn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Vn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Vn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Vn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Vn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Vn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Vn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Vn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Vn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Vn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Vn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Vn(e,"timeout","The operation has timed out."),Vn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Vn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Vn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Vn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Vn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Vn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Vn(e,"unverified-email","The operation requires a verified email."),Vn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Vn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Vn(e,"user-disabled","The user account has been disabled by an administrator."),Vn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Vn(e,"user-signed-out",""),Vn(e,"weak-password","The password must be 6 characters long or more."),Vn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Vn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},go=mo,ko=new hi("auth","Firebase",mo()),bo=new Vi("@firebase/auth");function wo(e){if(bo.logLevel<=Pi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bo.error.apply(bo,["Auth (".concat(_a,"): ").concat(e)].concat(n))}}function xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Eo.apply(void 0,[e].concat(n))}function _o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Eo.apply(void 0,[e].concat(n))}function So(e,t,n){var r=Object.assign(Object.assign({},go()),Vn({},t,n));return new hi("auth","Firebase",r).create(t,{appName:e.name})}function Io(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xo(e,"argument-error"),So(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=yt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(yt(o)))}return ko.create.apply(ko,[e].concat(n))}function To(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Eo.apply(void 0,[t].concat(r))}}function Co(e){var t="INTERNAL ASSERTION FAILED: "+e;throw wo(t),new Error(t)}function Ro(e,t){e||Co(t)}var Ao=new Map;function No(e){Ro(e instanceof Function,"Expected a class definition");var t=Ao.get(e);return t?(Ro(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ao.set(e,t),t)}function Po(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Oo(){return"http:"===Do()||"https:"===Do()}function Do(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Lo=function(){function e(t,n){zr(this,e),this.shortDelay=t,this.longDelay=n,Ro(n>t,"Short delay should be less than long delay!"),this.isMobile=ai()||si()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Oo()||ui()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Mo(e,t){Ro(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Fo=function(){function e(){zr(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Uo=(Vn(ro={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Vn(ro,"MISSING_CUSTOM_TOKEN","internal-error"),Vn(ro,"INVALID_IDENTIFIER","invalid-email"),Vn(ro,"MISSING_CONTINUE_URI","internal-error"),Vn(ro,"INVALID_PASSWORD","wrong-password"),Vn(ro,"MISSING_PASSWORD","internal-error"),Vn(ro,"EMAIL_EXISTS","email-already-in-use"),Vn(ro,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Vn(ro,"INVALID_IDP_RESPONSE","invalid-credential"),Vn(ro,"INVALID_PENDING_TOKEN","invalid-credential"),Vn(ro,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Vn(ro,"MISSING_REQ_TYPE","internal-error"),Vn(ro,"EMAIL_NOT_FOUND","user-not-found"),Vn(ro,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Vn(ro,"EXPIRED_OOB_CODE","expired-action-code"),Vn(ro,"INVALID_OOB_CODE","invalid-action-code"),Vn(ro,"MISSING_OOB_CODE","internal-error"),Vn(ro,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Vn(ro,"INVALID_ID_TOKEN","invalid-user-token"),Vn(ro,"TOKEN_EXPIRED","user-token-expired"),Vn(ro,"USER_NOT_FOUND","user-token-expired"),Vn(ro,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Vn(ro,"INVALID_CODE","invalid-verification-code"),Vn(ro,"INVALID_SESSION_INFO","invalid-verification-id"),Vn(ro,"INVALID_TEMPORARY_PROOF","invalid-credential"),Vn(ro,"MISSING_SESSION_INFO","missing-verification-id"),Vn(ro,"SESSION_EXPIRED","code-expired"),Vn(ro,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Vn(ro,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Vn(ro,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Vn(ro,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Vn(ro,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Vn(ro,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Vn(ro,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Vn(ro,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Vn(ro,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Vn(ro,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Vn(ro,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ro),Vo=new Lo(3e4,6e4);function jo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function zo(e,t,n,r){return Bo.apply(this,arguments)}function Bo(){return Bo=Ti(Ii().mark((function e(t,n,r,i){var a,o=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qo(t,a,Ti(Ii().mark((function e(){var a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=gi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Fo.fetch()(Ho(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Uo),n),e.prev=2,a=new Qo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw $o(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw $o(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw $o(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw $o(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw So(t,p,d);case 34:xo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof fi)){e.next=41;break}throw e.t0;case 41:xo(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ko.apply(this,arguments)}function Go(e,t,n,r){return Wo.apply(this,arguments)}function Wo(){return Wo=Ti(Ii().mark((function e(t,n,r,i){var a,o,u=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,zo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&xo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ho(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qo=function(){function e(t){var n=this;zr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_o(n.auth,"network-request-failed"))}),Vo.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function $o(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_o(e,t,r);return i.customData._tokenResponse=n,i}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ru(){return ru=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Si(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,To((a=au(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:nu(iu(a.auth_time)),issuedAtTime:nu(iu(a.iat)),expirationTime:nu(iu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e){return 1e3*Number(e)}function au(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return wo("JWT malformed, contained fewer than 3 sections"),null;try{var o=Zr(i);return o?JSON.parse(o):(wo("Failed to decode base64 JWT payload"),null)}catch(u){return wo("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Ti(Ii().mark((function e(t,n){var r=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fi&&su(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),uu.apply(this,arguments)}function su(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var cu=function(){function e(t){zr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),lu=function(){function e(t,n){zr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fu(e){return hu.apply(this,arguments)}function hu(){return hu=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ou(t,eu(r,{idToken:i}));case 6:To(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?vu(o.providerUserInfo):[],s=pu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new lu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return(du=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Si(t),e.next=3,fu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(yt(n),yt(t))}function vu(e){return e.map((function(e){var t=e.providerId,n=no(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function mu(e,t){return yu.apply(this,arguments)}function yu(){return yu=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(t,{},Ti(Ii().mark((function e(){var r,i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ho(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Fo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var gu=function(){function e(){zr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){To(e.idToken,"internal-error"),To("undefined"!==typeof e.idToken,"internal-error"),To("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=au(e);return To(t,"internal-error"),To("undefined"!==typeof t.exp,"internal-error"),To("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ti(Ii().mark((function e(t){var n,r=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],To(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Co("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(To("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(To("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(To("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ku(e,t){To("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bu=function(){function e(t){zr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=no(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?yt(a.providerData):[],this.metadata=new lu(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(To(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ru.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return du.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(To(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){To(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ou(this,Yo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;To(k&&_,t,"internal-error");var S=gu.fromJSON(this.name,_);To("string"===typeof k,t,"internal-error"),ku(f,t.name),ku(h,t.name),To("boolean"===typeof b,t,"internal-error"),To("boolean"===typeof w,t,"internal-error"),ku(d,t.name),ku(p,t.name),ku(v,t.name),ku(m,t.name),ku(y,t.name),ku(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ti(Ii().mark((function t(n,r){var i,a,o,u=arguments;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new gu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),wu=function(){function e(){zr(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wu.type="NONE";var xu=wu;function _u(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Su=function(){function e(t,n,r){zr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=_u(this.userKey,a.apiKey,o),this.fullPersistenceKey=_u("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ti(Ii().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(No(xu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||No(xu),u=_u(i,n.config.apiKey,n.name),s=null,c=Br(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=bu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Iu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ru(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Eu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nu(t))return"Blackberry";if(Pu(t))return"Webos";if(Tu(t))return"Safari";if((t.includes("chrome/")||Cu(t))&&!t.includes("edge/"))return"Chrome";if(Au(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/firefox\//i.test(e)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/crios\//i.test(e)}function Ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/iemobile/i.test(e)}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/android/i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/blackberry/i.test(e)}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/webos/i.test(e)}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Du(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return Ou(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Lu(){return ci()&&10===document.documentMode}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return Ou(e)||Au(e)||Pu(e)||Nu(e)||/windows phone/i.test(e)||Ru(e)}function Fu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Iu(ii());break;case"Worker":t="".concat(Iu(ii()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_a,"/").concat(r)}var Uu=function(){function e(t){zr(this,e),this.auth=t,this.queue=[]}return k(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s,c;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Br(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Br(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vu=function(){function e(t,n,r){zr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zu(this),this.idTokenSubscription=new zu(this),this.beforeStateQueue=new Uu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ko,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=No(t)),this._initializationPromise=this.queue(Ti(Ii().mark((function r(){var i,a;return Ii().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Su.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return To(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Si(t):null)&&To(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ti(Ii().mark((function e(t){var n,r=this,i=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&To(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ti(Ii().mark((function n(){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(No(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new hi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return To(n=t&&No(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Su.create(this,[No(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ti(Ii().mark((function e(t){var n=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return To(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return To(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ju(e){return Si(e)}var zu=function(){function e(t){var n=this;zr(this,e),this.auth=t,this.observer=null,this.addObserver=wi((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return To(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Bu(e,t,n){var r=ju(e);To(r._canInitEmulator,r,"emulator-config-failed"),To(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=qu(t),o=function(e){var t=qu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ku(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Ku(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ku(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Gu=function(){function e(t,n){zr(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return Co("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Co("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Co("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Co("not implemented")}}]),e}();function Wu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:resetPassword",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(e,t){return Xu.apply(this,arguments)}function Xu(){return Xu=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:update",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPassword",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:sendOobCode",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,n));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,n));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}var ps=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return zr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ju(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ls(t,{email:this._email,oobCode:this._password}));case 5:xo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:xo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Gu);function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithIdp",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}var ys=function(e){qr(n,e);var t=Hr(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=no(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Gu);function gs(e,t){return ks.apply(this,arguments)}function ks(){return ks=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:sendVerificationCode",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(){return bs=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPhoneNumber",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(){return ws=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(t,"POST","/v1/accounts:signInWithPhoneNumber",jo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw $o(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=Vn({},"USER_NOT_FOUND","user-not-found");function _s(){return _s=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPhoneNumber",jo(t,r),xs));case 2:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}var Ss=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return bs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ws.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return _s.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Gu);var Is=function(){function e(t){var n,r,i,a,o,u;zr(this,e);var s=ki(bi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);To(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ki(bi(e)).link,n=t?ki(bi(t)).deep_link_id:null,r=ki(bi(e)).deep_link_id;return(r?ki(bi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Es=function(){function e(){zr(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return ps._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Is.parseLink(t);return To(n,"argument-error"),ps._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Es.PROVIDER_ID="password",Es.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Es.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ts=function(){function e(t){zr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Cs=function(e){qr(n,e);var t=Hr(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return yt(this.scopes)}}]),n}(Ts),Rs=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return To(e.idToken||e.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return To("providerId"in t&&"signInMethod"in t,"argument-error"),ys._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Cs),As=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return ys._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Cs);As.FACEBOOK_SIGN_IN_METHOD="facebook.com",As.PROVIDER_ID="facebook.com";var Ns=function(e){qr(n,e);var t=Hr(n);function n(){var e;return zr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return ys._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Cs);Ns.GOOGLE_SIGN_IN_METHOD="google.com",Ns.PROVIDER_ID="google.com";var Ps=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return ys._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Cs);Ps.GITHUB_SIGN_IN_METHOD="github.com",Ps.PROVIDER_ID="github.com";var Os=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return vs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Gu),Ds=function(e){qr(n,e);var t=Hr(n);function n(e){return zr(this,n),To(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Os.fromJSON(e);return To(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Os._create(r,n)}catch(i){return null}}}]),n}(Ts),Ls=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return ys._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Cs);function Ms(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signUp",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}Ls.TWITTER_SIGN_IN_METHOD="twitter.com",Ls.PROVIDER_ID="twitter.com";var Us=function(){function e(t){zr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ti(Ii().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,bu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Vs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ti(Ii().mark((function t(n,r,i){var a;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Vs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Vs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function js(){return js=Ti(Ii().mark((function e(t){var n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Us({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ms(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Us._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}var zs=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a){var o,u;return zr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(fi);function Bs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw zs._fromErrorAndOperation(e,n,t,r);throw n}))}function qs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(t),e.next=3,Qs(!0,r,n);case 3:return e.t0=Jo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=qs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Ws(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=Ti(Ii().mark((function e(t,n){var r,i,a=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ou,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Us._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return($s=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fu(n);case 2:i=qs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",To(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,ou(t,Bs(a,o,n,t),r);case 6:return To((u=e.sent).idToken,a,"internal-error"),To(s=au(u.idToken),a,"internal-error"),c=s.sub,To(t.uid===c,a,"user-mismatch"),e.abrupt("return",Us._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&xo(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Xs.apply(this,arguments)}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Ti(Ii().mark((function e(t,n){var r,i,a,o,u=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Bs(t,i,n);case 4:return a=e.sent,e.next=7,Us._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Js(ju(t),n));case 1:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return(rc=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(t),e.next=3,Qs(!1,r,n.providerId);case 3:return e.abrupt("return",Ws(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return(ac=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(Si(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithCustomToken",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(){return sc=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(t),e.next=3,oc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Us._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}var cc=function(){function e(t,n){zr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lc._fromServerResponse(e,t):xo(e,"internal-error")}}]),e}(),lc=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(cc);function fc(e,t,n){var r;To((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),To("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(To(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(To(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function hc(){return hc=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),a={requestType:"PASSWORD_RESET",email:n},r&&fc(i,a,r),e.next=5,is(i,a);case 5:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(){return dc=Ti(Ii().mark((function e(t,n,r){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(Si(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(){return pc=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Si(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(t),e.next=3,Wu(r,{oobCode:n});case 3:i=e.sent,To(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return To(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:To(i.mfaInfo,r,"internal-error");case 13:To(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=cc._fromServerResponse(ju(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(){return yc=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(Si(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t,n){return kc.apply(this,arguments)}function kc(){return kc=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),e.next=3,Ms(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Us._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(){return bc=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),a={requestType:"EMAIL_SIGNIN",email:n},To(r.handleCodeInApp,i,"argument-error"),r&&fc(i,a,r),e.next=6,os(i,a);case 6:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(){return wc=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),To((a=Es.credentialWithLink(n,r||Po()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ec(i,a));case 4:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e,t){return _c.apply(this,arguments)}function _c(){return _c=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:createAuthUri",jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Sc(){return Sc=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oo()?Po():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xc(Si(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(){return(Ic=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fc(r.auth,a,n),e.next=8,ns(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(){return(Ec=Ti(Ii().mark((function e(t,n,r){var i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fc(i.auth,o,r),e.next=8,ss(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Rc(){return(Rc=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s,c;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Si(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ou(a,Tc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t,n){return Nc.apply(this,arguments)}function Nc(){return Nc=Ti(Ii().mark((function e(t,n,r){var i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ou(t,Qu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}var Pc=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Oc=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a){var o;return zr(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(Pc),Dc=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(Pc),Lc=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(Oc),Mc=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"google.com",r)}return k(n)}(Pc),Fc=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){return zr(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(Oc);function Uc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=au(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Pc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Dc(a,i);case"github.com":return new Lc(a,i);case"google.com":return new Mc(a,i);case"twitter.com":return new Fc(a,i,e.screenName||null);case"custom":case"anonymous":return new Pc(a,null);default:return new Pc(a,r,i)}}(n)}var Vc=function(){function e(t,n){zr(this,e),this.type=t,this.credential=n}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:Vn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),jc=function(){function e(t,n,r){zr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ju(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return cc._fromServerResponse(r,e)}));To(i.mfaPendingCredential,r,"internal-error");var o=Vc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ti(Ii().mark((function e(t){var a,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Us._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return To(n.user,r,"internal-error"),e.abrupt("return",Us._forOperation(n.user,n.operationType,u));case 17:xo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function zc(e,t){return zo(e,"POST","/v2/accounts/mfaEnrollment:start",jo(e,t))}function Bc(e,t){return zo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jo(e,t))}var qc=function(){function e(t){var n=this;zr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return cc._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Vc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ou(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,ou(this.user,Bc(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Kc=new WeakMap;var Gc="__sak",Wc=function(){function e(t,n){zr(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hc=function(e){qr(n,e);var t=Hr(n);function n(){var e;return zr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ii();return Tu(e)||Ou(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Mu(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Lu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ti(Ii().mark((function e(t,r){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(Kr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ti(Ii().mark((function e(t){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(Kr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(Kr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Wc);Hc.type="LOCAL";var Qc=Hc,$c=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Wc);$c.type="SESSION";var Yc=$c;function Xc(e){return Promise.all(e.map(function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Jc=function(){function e(t){zr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s,c;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Xc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Zc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Jc.receivers=[];var el=function(){function e(t){zr(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Zc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function tl(){return window}function nl(){return"undefined"!==typeof tl().WorkerGlobalScope&&"function"===typeof tl().importScripts}function rl(){return il.apply(this,arguments)}function il(){return(il=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function al(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ol="firebaseLocalStorageDb",ul="firebaseLocalStorage",sl="fbase_key",cl=function(){function e(t){zr(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ll(e,t){return e.transaction([ul],t?"readwrite":"readonly").objectStore(ul)}function fl(){var e=indexedDB.deleteDatabase(ol);return new cl(e).toPromise()}function hl(){var e=indexedDB.open(ol,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ul,{keyPath:sl})}catch(r){n(r)}})),e.addEventListener("success",Ti(Ii().mark((function n(){var r;return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ul)){n.next=12;break}return r.close(),n.next=5,fl();case 5:return n.t0=t,n.next=8,hl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function dl(e,t,n){return pl.apply(this,arguments)}function pl(){return pl=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ll(t,!0).put((Vn(i={},sl,n),Vn(i,"value",r),i)),e.abrupt("return",new cl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ll(t,!1).get(n),e.next=3,new cl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t){var n=ll(e,!0).delete(t);return new cl(n).toPromise()}var gl=function(){function e(){zr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ti(Ii().mark((function e(){var t=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jc._getInstance(nl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ti(Ii().mark((function e(n,r){var i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new el(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&al()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hl();case 5:return t=e.sent,e.next=8,dl(t,Gc,"1");case 8:return e.next=10,yl(t,Gc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ti(Ii().mark((function e(t,n){var r=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return dl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ti(Ii().mark((function e(t){var n=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return yl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ll(e,!1).getAll();return new cl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Br(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gl.type="LOCAL";var kl=gl;function bl(e,t){return zo(e,"POST","/v2/accounts/mfaSignIn:start",jo(e,t))}function wl(e){return xl.apply(this,arguments)}function xl(){return xl=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_o("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Sl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Il=1e12,El=function(){function e(t){zr(this,e),this.auth=t,this.counter=Il,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Tl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Il;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Il;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Il,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Tl=function(){function e(t,n,r){var i=this;zr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;To(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Cl=Sl("rcb"),Rl=new Lo(3e4,6e4),Al="https://www.google.com/recaptcha/api.js?",Nl=function(){function e(){var t;zr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=tl().grecaptcha)||void 0===t?void 0:t.render)}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return To(Pl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(tl().grecaptcha):new Promise((function(r,i){var a=tl().setTimeout((function(){i(_o(e,"network-request-failed"))}),Rl.get());tl()[Cl]=function(){tl().clearTimeout(a),delete tl()[Cl];var o=tl().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(_o(e,"internal-error"))},_l("".concat(Al,"?").concat(gi({onload:Cl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(_o(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=tl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Pl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ol=function(){function e(){zr(this,e)}return k(e,[{key:"load",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new El(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Dl="recaptcha",Ll={theme:"light",type:"image"},Ml=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ll),r=arguments.length>2?arguments[2]:void 0;zr(this,e),this.parameters=n,this.type=Dl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ju(r),this.isInvisible="invisible"===this.parameters.size,To("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;To(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ol:new Nl,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){To(!this.parameters.sitekey,this.auth,"argument-error"),To(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),To("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=tl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){To(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ti(Ii().mark((function e(){var t,n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To(Oo()&&!nl(),this.auth,"internal-error"),e.next=3,Fl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,wl(this.auth);case 8:To(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return To(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Fl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ul=function(){function e(t,n){zr(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=Ss._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Vl(){return Vl=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),e.next=3,ql(i,n,Si(r));case 3:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return ec(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function jl(e,t,n){return zl.apply(this,arguments)}function zl(){return(zl=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),e.next=3,Qs(!1,i,"phone");case 3:return e.next=5,ql(i.auth,n,Si(r));case 5:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return nc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(){return(Bl=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Si(t),e.next=3,ql(i.auth,n,Si(r));case 3:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return ic(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e,t,n){return Kl.apply(this,arguments)}function Kl(){return Kl=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,To("string"===typeof a,t,"argument-error"),To(r.type===Dl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return To("enroll"===u.type,t,"internal-error"),e.next=13,zc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return To("signin"===u.type,t,"internal-error"),To(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Kl.apply(this,arguments)}function Gl(){return(Gl=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ws(Si(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wl=function(){function e(t){zr(this,e),this.providerId=e.PROVIDER_ID,this.auth=ju(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return ql(this.auth,e,Si(t))}}],[{key:"credential",value:function(e,t){return Ss._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ss._fromTokenResponse(n,r):null}}]),e}();function Hl(e,t){return t?No(t):(To(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wl.PROVIDER_ID="phone",Wl.PHONE_SIGN_IN_METHOD="phone";var Ql=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return vs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Gu);function $l(e){return Js(e.auth,new Ql(e),e.bypassAuthState)}function Yl(e){var t=e.auth,n=e.user;return To(n,t,"internal-error"),Ys(n,new Ql(e),e.bypassAuthState)}function Xl(e){return Jl.apply(this,arguments)}function Jl(){return Jl=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,To(r=t.user,n,"internal-error"),e.abrupt("return",Ws(r,new Ql(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}var Zl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];zr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ti(Ii().mark((function t(n,r){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ti(Ii().mark((function e(t){var n,r,i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $l;case"linkViaPopup":case"linkViaRedirect":return Xl;case"reauthViaPopup":case"reauthViaRedirect":return Yl;default:xo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ef=new Lo(2e3,1e4);function tf(e,t,n){return nf.apply(this,arguments)}function nf(){return nf=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),Io(t,n,Ts),a=Hl(i,r),o=new uf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}function rf(){return(rf=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Io((i=Si(t)).auth,n,Ts),a=Hl(i.auth,r),o=new uf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t,n){return of.apply(this,arguments)}function of(){return(of=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Io((i=Si(t)).auth,n,Ts),a=Hl(i.auth,r),o=new uf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uf=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a,o){var u;return zr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return k(n,[{key:"executeNotNull",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return To(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ti(Ii().mark((function e(){var t,n=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro(1===this.filter.length,"Popup operations only handle one event"),t=Zc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_o(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_o(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_o(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ef.get())}()}}]),n}(Zl);uf.currentPopupAction=null;var sf=new Map,cf=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=Ti(Ii().mark((function e(){var t,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,lf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,to(Kr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:sf.set(this.auth._key(),t);case 21:return this.bypassAuthState||sf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ti(Ii().mark((function e(t){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",to(Kr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",to(Kr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Zl);function lf(e,t){return ff.apply(this,arguments)}function ff(){return ff=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mf(n),i=vf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(e,t){return df.apply(this,arguments)}function df(){return df=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vf(t)._set(mf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e,t){sf.set(e._key(),t)}function vf(e){return No(e._redirectPersistence)}function mf(e){return _u("pendingRedirect",e.config.apiKey,e.name)}function yf(e,t,n){return function(e,t,n){return gf.apply(this,arguments)}(e,t,n)}function gf(){return gf=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ju(t),Io(t,n,Ts),a=Hl(i,r),e.next=5,hf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t,n){return function(e,t,n){return bf.apply(this,arguments)}(e,t,n)}function bf(){return(bf=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Io((i=Si(t)).auth,n,Ts),a=Hl(i.auth,r),e.next=5,hf(a,i.auth);case 5:return e.next=7,Tf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e,t,n){return function(e,t,n){return xf.apply(this,arguments)}(e,t,n)}function xf(){return(xf=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Io((i=Si(t)).auth,n,Ts),a=Hl(i.auth,r),e.next=5,Qs(!1,i,n.providerId);case 5:return e.next=7,hf(a,i.auth);case 7:return e.next=9,Tf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju(t)._initializationPromise;case 2:return e.abrupt("return",If(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function If(e,t){return Ef.apply(this,arguments)}function Ef(){return Ef=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ju(t),a=Hl(i,n),o=new cf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}function Tf(e){return Cf.apply(this,arguments)}function Cf(){return(Cf=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rf=function(){function e(t){zr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Nf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_o(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Af(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Af(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Af(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Nf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Pf(e){return Of.apply(this,arguments)}function Of(){return Of=Ti(Ii().mark((function e(t){var n,r=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}var Df=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lf=/^https?/;function Mf(){return Mf=Ti(Ii().mark((function e(t){var n,r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pf(t);case 4:n=e.sent,r=n.authorizedDomains,i=Br(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ff(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:xo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Mf.apply(this,arguments)}function Ff(e){var t=Po(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Lf.test(r))return!1;if(Df.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Uf=new Lo(3e4,6e4);function Vf(){var e=tl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=yt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var jf=null;function zf(e){return jf=jf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Vf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Vf(),n(_o(e,"network-request-failed"))},timeout:Uf.get()})}if(null===(i=null===(r=tl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=tl().gapi)||void 0===a?void 0:a.load)){var u=Sl("iframefcb");return tl()[u]=function(){gapi.load?o():n(_o(e,"network-request-failed"))},_l("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw jf=null,e}))}(e),jf}var Bf=new Lo(5e3,15e3),qf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gf(e){var t=e.config;To(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_a},i=Kf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(gi(r).slice(1))}function Wf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zf(t);case 2:return n=e.sent,To(r=tl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qf,dontclear:!0},(function(e){return new Promise(function(){var n=Ti(Ii().mark((function n(r,i){var a,o,u;return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){tl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_o(t,"network-request-failed"),o=tl().setTimeout((function(){i(a)}),Bf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}var Qf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$f="_blank",Yf="http://localhost",Xf=function(){function e(t){zr(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Jf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Qf),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ii().toLowerCase();n&&(u=Cu(l)?$f:n),Eu(l)&&(t=t||Yf,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Du(l)&&"_self"!==u)return Zf(t||"",u),new Xf(null);var h=window.open(t||"",u,f);To(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Xf(h)}function Zf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var eh="__/auth/handler",th="emulator/auth/handler";function nh(e,t,n,r,i,a){To(e.config.authDomain,e,"auth-domain-config-required"),To(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_a,eventId:i};if(t instanceof Ts){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Cs){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(eh);return Mo(t,th)}(e),"?").concat(gi(p).slice(1))}var rh="webStorageSupport",ih=function(){function e(){zr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yc,this._completeRedirectFn=If,this._overrideRedirectResult=pf}return k(e,[{key:"_openPopup",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){var a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=nh(t,n,r,Po(),i),e.abrupt("return",Jf(t,o,Zc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=nh(t,n,r,Po(),i),tl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ro(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wf(t);case 2:return n=e.sent,r=new Rf(t),n.register("authEvent",(function(e){return To(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rh,{type:rh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),xo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Mf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Mu()||Tu()||Ou()}}]),e}(),ah=ih,oh=function(){function e(t){zr(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Co("unexpected MultiFactorSessionType")}}}]),e}(),uh=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return zo(e,"POST","/v2/accounts/mfaEnrollment:finalize",jo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return zo(e,"POST","/v2/accounts/mfaSignIn:finalize",jo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(oh),sh=function(){function e(){zr(this,e)}return k(e,null,[{key:"assertion",value:function(e){return uh._fromCredential(e)}}]),e}();sh.FACTOR_ID="phone";var ch,lh="@firebase/auth",fh="0.20.5",hh=function(){function e(t){zr(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){To(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function dh(){return window}ch="Browser",ma(new Ci("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){To(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),To(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ch,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fu(ch)},i=new Vu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ma(new Ci("auth-internal",(function(e){return function(e){return new hh(e)}(ju(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(lh,fh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ch)),Ra(lh,fh,"esm2017");function ph(e,t,n){return vh.apply(this,arguments)}function vh(){return vh=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dh(),o=a.BuildInfo,Ro(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,wh(n.sessionId);case 4:return u=e.sent,s={},Ou()?s.ibi=o.packageName:Au()?s.apn=o.packageName:xo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",nh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function mh(){return mh=Ti(Ii().mark((function e(t){var n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dh(),r=n.BuildInfo,i={},Ou()?i.iosBundleId=r.packageName:Au()?i.androidPackageName=r.packageName:xo(t,"operation-not-supported-in-this-environment"),e.next=5,Pf(t,i);case 5:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e){var t=dh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function gh(e,t,n){return kh.apply(this,arguments)}function kh(){return kh=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(_o(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Au()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),kh.apply(this,arguments)}function bh(e){var t,n,r,i,a,o,u,s,c,l,f=dh();To("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),To("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),To("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),To("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),To("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function wh(e){return xh.apply(this,arguments)}function xh(){return(xh=Ti(Ii().mark((function e(t){var n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_h(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e){if(Ro(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Sh=function(e){qr(n,e);var t=Hr(n);function n(){var e;return zr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),to(Kr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Rf);function Ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ah(),postBody:null,tenantId:e.tenantId,error:_o(e,"no-auth-event")}}function Eh(e,t){return Nh()._set(Ph(e),t)}function Th(e){return Ch.apply(this,arguments)}function Ch(){return Ch=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nh()._get(Ph(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Nh()._remove(Ph(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Rh(e,t){var n,r,i=function(e){var t=Oh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Oh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Oh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Oh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?_o(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ah(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Nh(){return No(Qc)}function Ph(e){return _u("authEvent",e.config.apiKey,e.name)}function Oh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||mt(t)||o(t)||u();r[0];return ki(r.slice(1).join("?"))}var Dh=function(){function e(){zr(this,e),this._redirectPersistence=Yc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=If,this._overrideRedirectResult=pf}return k(e,[{key:"_initialize",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Sh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){xo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){var a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),sf.clear(),e.next=10,this._originValidation(t);case 10:return o=Ih(t,r,i),e.next=13,Eh(t,o);case 13:return e.next=15,ph(t,o,n);case 15:return u=e.sent,e.next=18,yh(u);case 18:return s=e.sent,e.abrupt("return",gh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=dh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ti(Ii().mark((function n(){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Th(e);case 2:t.onEvent(Mh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ti(Ii().mark((function n(r){var i,a;return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Th(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rh(i,r.url)),t.onEvent(a||Mh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");dh().handleOpenURL=function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Lh=Dh;function Mh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_o("no-auth-event")}}function Fh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Uh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return!("file:"!==Fh()&&"ionic:"!==Fh()&&"capacitor:"!==Fh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vh(){return ci()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return/Edge\/\d+/.test(e)}function zh(){try{var e=self.localStorage,t=Zc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();return Vh()||jh(e)}()||li()}catch(n){return Bh()&&li()}return!1}function Bh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qh(){return("http:"===Fh()||"https:"===Fh()||ui()||Uh())&&!(si()||oi())&&zh()&&!Bh()}function Kh(){return Uh()&&"undefined"!==typeof document}function Gh(){return Wh.apply(this,arguments)}function Wh(){return(Wh=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hh={LOCAL:"local",NONE:"none",SESSION:"session"},Qh=To,$h="persistence";function Yh(e,t){Qh(Object.values(Hh).includes(t),e,"invalid-persistence-type"),si()?Qh(t!==Hh.SESSION,e,"unsupported-persistence-type"):oi()?Qh(t===Hh.NONE,e,"unsupported-persistence-type"):Bh()?Qh(t===Hh.NONE||t===Hh.LOCAL&&li(),e,"unsupported-persistence-type"):Qh(t===Hh.NONE||zh(),e,"unsupported-persistence-type")}function Xh(e){return Jh.apply(this,arguments)}function Jh(){return Jh=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Zh(),r=_u($h,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Zh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ed=To,td=function(){function e(){zr(this,e),this.browserResolver=No(ah),this.cordovaResolver=No(Lh),this.underlyingResolver=null,this._redirectPersistence=Yc,this._completeRedirectFn=If,this._overrideRedirectResult=pf}return k(e,[{key:"_initialize",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Kh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ed(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nd(e){return e.unwrap()}function rd(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new sd(e,function(e,t){var n,r=Si(e),i=t;return To(t.customData.operationType,r,"argument-error"),To(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jc._fromError(r,i)}(e,t));else if(i){var a=id(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function id(e){var t=(e instanceof fi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof fi)&&"temporaryProof"in t&&"phoneNumber"in t)return Wl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===uo)return null;switch(r){case oo:n=Ns;break;case io:n=As;break;case ao:n=Ps;break;case so:n=Ls;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Os._create(r,u):ys._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Rs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof fi?n.credentialFromError(e):n.credentialFromResult(e)}function ad(e,t){return t.catch((function(t){throw t instanceof fi&&rd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,id(t)),additionalUserInfo:Uc(e),user:cd.getOrCreate(r)}}))}function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ad(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}var sd=function(){function e(t,n){zr(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ad(nd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),cd=function(){function e(t){zr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Si(e);return Kc.has(t)||Kc.set(t,qc._fromUser(t)),Kc.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(this.auth,nc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",od(this.auth,jl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(this.auth,af(this._delegate,t,td)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xh(ju(this.auth));case 2:return e.abrupt("return",wf(this._delegate,t,td));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(this.auth,ic(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return od(this.auth,function(e,t,n){return Bl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ad(this.auth,function(e,t,n){return rf.apply(this,arguments)}(this._delegate,e,td))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xh(ju(this.auth));case 2:return e.abrupt("return",kf(this._delegate,t,td));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ic.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ac(Si(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ac(Si(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Gl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Rc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();cd.USER_MAP=new WeakMap;var ld=To,fd=function(){function e(t,n){if(zr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ld(r,"invalid-api-key",{appName:t.name}),ld(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?td:void 0;this._delegate=n.initialize({options:{persistence:dd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(yo),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?cd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Bu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return pc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return vc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return dc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(this._delegate,gc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Sc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Is.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ld(qh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_f(this._delegate,td);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ad(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ju(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=hd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=hd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return bc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return hc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yh(this._delegate,t),e.t0=t,e.next=e.t0===Hh.SESSION?4:e.t0===Hh.LOCAL?6:e.t0===Hh.NONE?11:13;break;case 4:return n=Yc,e.abrupt("break",14);case 6:return e.next=8,No(kl)._isAvailable();case 8:return r=e.sent,n=r?kl:Qc,e.abrupt("break",14);case 11:return n=xu,e.abrupt("break",14);case 13:return e.abrupt("return",xo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ad(this._delegate,function(e){return js.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ad(this._delegate,ec(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ad(this._delegate,function(e,t){return sc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ad(this._delegate,function(e,t,n){return ec(Si(e),Es.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ad(this._delegate,function(e,t,n){return wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return od(this._delegate,function(e,t,n){return Vl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ld(qh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ad(this._delegate,tf(this._delegate,t,td)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ld(qh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xh(this._delegate);case 3:return e.abrupt("return",yf(this._delegate,t,td));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return yc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function hd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&cd.getOrCreate(e))},error:t,complete:n}}function dd(e,t){var n=function(e,t){var n=Zh();if(!n)return[];var r=_u($h,e,t);switch(n.getItem(r)){case Hh.NONE:return[xu];case Hh.LOCAL:return[kl,Yc];case Hh.SESSION:return[Yc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(kl)||n.push(kl),"undefined"!==typeof window)for(var r=0,i=[Qc,Yc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(xu)||n.push(xu),n}fd.Persistence=Hh;var pd=function(){function e(){zr(this,e),this.providerId="phone",this._delegate=new Wl(nd(Za.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Wl.credential(e,t)}}]),e}();pd.PHONE_SIGN_IN_METHOD=Wl.PHONE_SIGN_IN_METHOD,pd.PROVIDER_ID=Wl.PROVIDER_ID;var vd,md=To,yd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Za.app();zr(this,e),md(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ml(t,n,i.auth()),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(vd=Za).INTERNAL.registerComponent(new Ci("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:co,PASSWORD_RESET:lo,RECOVER_EMAIL:fo,REVERT_SECOND_FACTOR_ADDITION:ho,VERIFY_AND_CHANGE_EMAIL:po,VERIFY_EMAIL:vo}},EmailAuthProvider:Es,FacebookAuthProvider:As,GithubAuthProvider:Ps,GoogleAuthProvider:Ns,OAuthProvider:Rs,SAMLAuthProvider:Ds,PhoneAuthProvider:pd,PhoneMultiFactorGenerator:sh,RecaptchaVerifier:yd,TwitterAuthProvider:Ls,Auth:fd,AuthCredential:Gu,Error:fi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),vd.registerVersion("@firebase/auth-compat","0.2.18");var gd="firebasestorage.googleapis.com",kd=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,bd(e),"Firebase Storage: ".concat(r," (").concat(bd(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(x(i),n.prototype),i}return k(n,[{key:"_codeEquals",value:function(e){return bd(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(fi);function bd(e){return"storage/"+e}function wd(){return new kd("unknown","An unknown error occurred, please check the error payload for server response.")}function xd(){return new kd("canceled","User canceled the upload/download.")}function _d(){return new kd("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Sd(e){return new kd("invalid-argument",e)}function Id(){return new kd("app-deleted","The Firebase app was deleted.")}function Ed(e){return new kd("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Td(e,t){return new kd("invalid-format","String does not match format '"+e+"': "+t)}function Cd(e){throw new kd("internal-error","Internal error: "+e)}var Rd,Ad=function(){function e(t,n){zr(this,e),this.bucket=t,this.path_=n}return k(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new kd("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===gd?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new kd("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Nd=function(){function e(t){zr(this,e),this.promise_=Promise.reject(t)}return k(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Pd(e){return"string"===typeof e||e instanceof String}function Od(e){return Dd()&&e instanceof Blob}function Dd(){return"undefined"!==typeof Blob}function Ld(e,t,n,r){if(r<t)throw Sd("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Sd("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Md(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Fd(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Rd||(Rd={}));var Ud=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;zr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return k(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=wd();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Id():xd());else i(new kd("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Vd(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Vd(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Rd.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Vd(o,r))}else{var u=r.getErrorCode()===Rd.ABORT;t(!1,new Vd(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Vd=k((function e(t,n,r){zr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function jd(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function zd(){for(var e=jd(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Dd())return new Blob(n);throw new kd("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Bd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qd=k((function e(t,n){zr(this,e),this.data=t,this.contentType=n||null}));function Kd(e,t){switch(e){case Bd.RAW:return new qd(Gd(t));case Bd.BASE64:case Bd.BASE64URL:return new qd(Wd(e,t));case Bd.DATA_URL:return new qd(function(e){var t=new Hd(e);return t.base64?Wd(Bd.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Td(Bd.DATA_URL,"Malformed data URL.")}return Gd(t)}(t.rest)}(t),new Hd(t).contentType)}throw wd()}function Gd(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wd(e,t){switch(e){case Bd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Td(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Bd.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Td(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Td(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Hd=k((function e(t){zr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Td(Bd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Qd=function(){function e(t,n){zr(this,e);var r=0,i="";Od(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return k(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Od(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Dd()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(zd.apply(null,i))}var a=n.map((function(e){return Pd(e)?Kd(Bd.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function $d(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Yd(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Xd(e,t){return t}var Jd=k((function e(t,n,r,i){zr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Xd})),Zd=null;function ep(){if(Zd)return Zd;var e=[];e.push(new Jd("bucket")),e.push(new Jd("generation")),e.push(new Jd("metageneration")),e.push(new Jd("name","fullPath",!0));var t=new Jd("name");t.xform=function(e,t){return function(e){return!Pd(e)||e.length<2?e:Yd(e)}(t)},e.push(t);var n=new Jd("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Jd("timeCreated")),e.push(new Jd("updated")),e.push(new Jd("md5Hash",null,!0)),e.push(new Jd("cacheControl",null,!0)),e.push(new Jd("contentDisposition",null,!0)),e.push(new Jd("contentEncoding",null,!0)),e.push(new Jd("contentLanguage",null,!0)),e.push(new Jd("contentType",null,!0)),e.push(new Jd("metadata","customMetadata",!0)),Zd=e}function tp(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Ad(n,r);return t._makeStorageReference(i)}})}(r,e),r}function np(e,t,n){var r=$d(t);return null===r?null:tp(e,r,n)}function rp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function ip(e,t,n){var r=$d(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Br(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Ad(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Br(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Ad(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var ap=k((function e(t,n,r,i){zr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function op(e){if(!e)throw wd()}function up(e,t){return function(n,r){var i=np(e,r,t);return op(null!==i),i}}function sp(e,t){return function(n,r){var i=np(e,r,t);return op(null!==i),function(e,t,n,r){var i=$d(t);if(null===i)return null;if(!Pd(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Md("/b/"+o(i)+"/o/"+o(a),n,r)+Fd({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function cp(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new kd("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new kd("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new kd("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new kd("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function lp(e){var t=cp(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new kd("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function fp(e,t,n){var r=Md(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ap(r,"GET",up(e,n),i);return a.errorHandler=lp(t),a}function hp(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Md(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new ap(o,"GET",function(e,t){return function(n,r){var i=ip(e,t,r);return op(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=cp(t),s}function dp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function pp(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=dp(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rp(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Qd.getBlob(c,r,l);if(null===f)throw _d();var h={name:s.fullPath},d=Md(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ap(d,"POST",up(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=cp(t),v}var vp=k((function e(t,n,r,i){zr(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function mp(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){op(!1)}return op(!!n&&-1!==(t||["active"]).indexOf(n)),n}var yp=262144;function gp(e,t,n,r,i,a,o,u){var s=new vp(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new kd("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw _d();var v=t.maxUploadRetryTime,m=new ap(n,"POST",(function(e,n){var i,o=mp(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?up(t,a)(e,n):null,new vp(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=cp(e),m}var kp={STATE_CHANGED:"state_changed"},bp={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wp(e){switch(e){case"running":case"pausing":case"canceling":return bp.RUNNING;case"paused":return bp.PAUSED;case"success":return bp.SUCCESS;case"canceled":return bp.CANCELED;default:return bp.ERROR}}var xp=k((function e(t,n,r){zr(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function _p(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Sp=function(){function e(){var t=this;zr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rd.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Rd.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Rd.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return k(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Cd("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Cd("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Cd("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ip=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Sp);function Ep(){return new Ip}var Tp=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;zr(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=ep(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return k(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=dp(t,r,i),u={name:o.fullPath},s=Md(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=rp(o,n),f=e.maxUploadRetryTime,h=new ap(s,"POST",(function(e){var t;mp(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){op(!1)}return op(Pd(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=cp(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ep,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ap(n,"POST",(function(e){var t=mp(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){op(!1)}n||op(!1);var i=Number(n);return op(!isNaN(i)),new vp(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=cp(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Ep,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=yp*this._chunkMultiplier,n=new vp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=gp(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Ep,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){yp*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=fp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Ep,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=pp(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ep,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=xd(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=wp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new xp(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(wp(this._state)){case bp.SUCCESS:_p(this._resolve.bind(null,this.snapshot))();break;case bp.CANCELED:case bp.ERROR:_p(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(wp(this._state)){case bp.RUNNING:case bp.PAUSED:e.next&&_p(e.next.bind(e,this.snapshot))();break;case bp.SUCCESS:e.complete&&_p(e.complete.bind(e))();break;default:e.error&&_p(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Cp=function(){function e(t,n){zr(this,e),this._service=t,this._location=n instanceof Ad?n:Ad.makeFromUrl(n,t.host)}return k(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Ad(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Yd(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Ad(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Ed(e)}}]),e}();function Rp(e,t,n){return Ap.apply(this,arguments)}function Ap(){return(Ap=Ti(Ii().mark((function e(t,n,r){var i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Np(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,yt(u.prefixes)),(a=n.items).push.apply(a,yt(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,Rp(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Np(e,t){null!=t&&"number"===typeof t.maxResults&&Ld("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=hp(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Ep)}function Pp(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Md(t.fullServerUrl(),e.host,e._protocol),a=rp(n,r),o=e.maxOperationRetryTime,u=new ap(i,"PATCH",up(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=lp(t),u}(e.storage,e._location,t,ep());return e.storage.makeRequestWithTokens(n,Ep)}function Op(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Md(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ap(r,"GET",sp(e,n),i);return a.errorHandler=lp(t),a}(e.storage,e._location,ep());return e.storage.makeRequestWithTokens(t,Ep).then((function(e){if(null===e)throw new kd("no-download-url","The given file does not have any download URLs.");return e}))}function Dp(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Md(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ap(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=lp(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ep)}function Lp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Ad(e._location.bucket,n);return new Cp(e.storage,r)}function Mp(e,t){if(e instanceof jp){var n=e;if(null==n._bucket)throw new kd("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Cp(n,n._bucket);return null!=t?Mp(r,t):r}return void 0!==t?Lp(e,t):e}function Fp(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jp)return new Cp(e,t);throw Sd("To use ref(service, url), the first argument must be a Storage instance.")}return Mp(e,t)}function Up(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Ad.makeFromBucketSpec(n,e)}function Vp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:ri(i,e.app.options.projectId))}var jp=function(){function e(t,n,r,i,a){zr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=gd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ad.makeFromBucketSpec(i,this._host):Up(this._host,this.app.options)}return k(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Ad.makeFromBucketSpec(this._url,e):this._bucket=Up(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Ld("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Ld("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ti(Ii().mark((function e(){var t,n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ti(Ii().mark((function e(){var t,n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Cp(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Nd(Id());var a=function(e,t,n,r,i,a){var o=Fd(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new Ud(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),zp="@firebase/storage",Bp="0.9.9",qp="storage";function Kp(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Tp(e,new Qd(t),n)}(e=Si(e),t,n)}function Gp(e){return function(e){e._throwIfRoot("getMetadata");var t=fp(e.storage,e._location,ep());return e.storage.makeRequestWithTokens(t,Ep)}(e=Si(e))}function Wp(e){return function(e){var t={prefixes:[],items:[]};return Rp(e,t).then((function(){return t}))}(e=Si(e))}function Hp(e,t){return Fp(e=Si(e),t)}function Qp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Vp(e,t,n,r)}function $p(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new jp(r,i,a,n,_a)}ma(new Ci(qp,$p,"PUBLIC").setMultipleInstances(!0)),Ra(zp,Bp,""),Ra(zp,Bp,"esm2017");var Yp=function(){function e(t,n,r){zr(this,e),this._delegate=t,this.task=n,this.ref=r}return k(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Xp=function(){function e(t,n){zr(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return k(e,[{key:"snapshot",get:function(){return new Yp(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Yp(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Yp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Yp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Jp=function(){function e(t,n){zr(this,e),this._delegate=t,this._service=n}return k(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Zp(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Zp(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Zp=function(){function e(t,n){zr(this,e),this._delegate=t,this.storage=n}return k(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Lp(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Xp(Kp(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bd.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Kd(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Xp(new Tp(this._delegate,new Qd(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Wp(this._delegate).then((function(t){return new Jp(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return Np(e=Si(e),t)}(this._delegate,e||void 0).then((function(e){return new Jp(e,t.storage)}))}},{key:"getMetadata",value:function(){return Gp(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Pp(e=Si(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Op(Si(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Dp(Si(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Ed(e)}}]),e}(),ev=function(){function e(t,n){zr(this,e),this.app=t,this._delegate=n}return k(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(tv(e))throw Sd("ref() expected a child path but got a URL, use refFromURL instead.");return new Zp(Hp(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!tv(e))throw Sd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ad.makeFromUrl(e,this._delegate.host)}catch(t){throw Sd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zp(Hp(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qp(this._delegate,e,t,n)}}]),e}();function tv(e){return/^[A-Za-z]+:\/\//.test(e)}function nv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new ev(r,i)}!function(e){var t={TaskState:bp,TaskEvent:kp,StringFormat:Bd,Storage:ev,Reference:Zp};e.INTERNAL.registerComponent(new Ci("storage-compat",nv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(Za);var rv,iv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},av={},ov=ov||{},uv=iv||self;function sv(){}function cv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fv="closure_uid_"+(1e9*Math.random()>>>0),hv=0;function dv(e,t,n){return e.call.apply(e.bind,arguments)}function pv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vv(e,t,n){return(vv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dv:pv).apply(null,arguments)}function mv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gv(){this.s=this.s,this.o=this.o}var kv={};gv.prototype.s=!1,gv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fv)&&e[fv]||(e[fv]=++hv)}(this);delete kv[e]}},gv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xv(e){return Array.prototype.concat.apply([],arguments)}function _v(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sv(e){return/^[\s\xa0]*$/.test(e)}var Iv,Ev=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tv(e,t){return-1!=e.indexOf(t)}function Cv(e,t){return e<t?-1:e>t?1:0}e:{var Rv=uv.navigator;if(Rv){var Av=Rv.userAgent;if(Av){Iv=Av;break e}}Iv=""}function Nv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Pv(e){var t={};for(var n in e)t[n]=e[n];return t}var Ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ov.length;a++)n=Ov[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lv(e){return Lv[" "](e),e}Lv[" "]=sv;var Mv,Fv=Tv(Iv,"Opera"),Uv=Tv(Iv,"Trident")||Tv(Iv,"MSIE"),Vv=Tv(Iv,"Edge"),jv=Vv||Uv,zv=Tv(Iv,"Gecko")&&!(Tv(Iv.toLowerCase(),"webkit")&&!Tv(Iv,"Edge"))&&!(Tv(Iv,"Trident")||Tv(Iv,"MSIE"))&&!Tv(Iv,"Edge"),Bv=Tv(Iv.toLowerCase(),"webkit")&&!Tv(Iv,"Edge");function qv(){var e=uv.document;return e?e.documentMode:void 0}e:{var Kv="",Gv=function(){var e=Iv;return zv?/rv:([^\);]+)(\)|;)/.exec(e):Vv?/Edge\/([\d\.]+)/.exec(e):Uv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bv?/WebKit\/(\S+)/.exec(e):Fv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Gv&&(Kv=Gv?Gv[1]:""),Uv){var Wv=qv();if(null!=Wv&&Wv>parseFloat(Kv)){Mv=String(Wv);break e}}Mv=Kv}var Hv,Qv={};function $v(){return function(e){var t=Qv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ev(String(Mv)).split("."),n=Ev("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Cv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Cv(0==a[2].length,0==o[2].length)||Cv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(uv.document&&Uv){var Yv=qv();Hv=Yv||(parseInt(Mv,10)||void 0)}else Hv=void 0;var Xv=Hv,Jv=function(){if(!uv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{uv.addEventListener("test",sv,t),uv.removeEventListener("test",sv,t)}catch(n){}return e}();function Zv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function em(e,t){if(Zv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zv){e:{try{Lv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&em.Z.h.call(this)}}Zv.prototype.h=function(){this.defaultPrevented=!0},yv(em,Zv);var tm={2:"touch",3:"pen",4:"mouse"};em.prototype.h=function(){em.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nm="closure_listenable_"+(1e6*Math.random()|0),rm=0;function im(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++rm,this.ca=this.fa=!1}function am(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function om(e){this.src=e,this.g={},this.h=0}function um(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(am(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}om.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=sm(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new im(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var cm="closure_lm_"+(1e6*Math.random()|0),lm={};function fm(e,t,n,r,i){if(r&&r.once)return dm(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fm(e,t[a],n,r,i);return null}return n=bm(n),e&&e[nm]?e.N(t,n,lv(r)?!!r.capture:!!r,i):hm(e,t,n,!1,r,i)}function hm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lv(i)?!!i.capture:!!i,u=gm(e);if(u||(e[cm]=u=new om(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ym;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dm(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dm(e,t[a],n,r,i);return null}return n=bm(n),e&&e[nm]?e.O(t,n,lv(r)?!!r.capture:!!r,i):hm(e,t,n,!0,r,i)}function pm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pm(e,t[a],n,r,i);else r=lv(r)?!!r.capture:!!r,n=bm(n),e&&e[nm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sm(a=e.g[t],n,r,i))&&(am(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sm(t,n,r,i)),(n=-1<e?t[e]:null)&&vm(n))}function vm(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[nm])um(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gm(t))?(um(n,e),0==n.h&&(n.src=null,t[cm]=null)):am(e)}}}function mm(e){return e in lm?lm[e]:lm[e]="on"+e}function ym(e,t){if(e.ca)e=!0;else{t=new em(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&vm(e),e=n.call(r,t)}return e}function gm(e){return(e=e[cm])instanceof om?e:null}var km="__closure_events_fn_"+(1e9*Math.random()>>>0);function bm(e){return"function"===typeof e?e:(e[km]||(e[km]=function(t){return e.handleEvent(t)}),e[km])}function wm(){gv.call(this),this.i=new om(this),this.P=this,this.I=null}function xm(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Zv(t,e);else if(t instanceof Zv)t.target=t.target||e;else{var i=t;Dv(t=new Zv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_m(o,r,!0,t)&&i}if(i=_m(o=t.g=e,r,!0,t)&&i,i=_m(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_m(o=t.g=n[a],r,!1,t)&&i}function _m(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&um(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}yv(wm,gv),wm.prototype[nm]=!0,wm.prototype.removeEventListener=function(e,t,n,r){pm(this,e,t,n,r)},wm.prototype.M=function(){if(wm.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)am(n[r]);delete t.g[e],t.h--}}this.I=null},wm.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wm.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sm=uv.JSON.stringify;function Im(){var e=Om,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Em,Tm=function(){function e(){zr(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=Cm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Cm=new(function(){function e(t,n){zr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Rm}),(function(e){return e.reset()})),Rm=function(){function e(){zr(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Am(e){uv.setTimeout((function(){throw e}),0)}function Nm(e,t){Em||function(){var e=uv.Promise.resolve(void 0);Em=function(){e.then(Dm)}}(),Pm||(Em(),Pm=!0),Om.add(e,t)}var Pm=!1,Om=new Tm;function Dm(){for(var e;e=Im();){try{e.h.call(e.g)}catch(n){Am(n)}var t=Cm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pm=!1}function Lm(e,t){wm.call(this),this.h=e||1,this.g=t||uv,this.j=vv(this.kb,this),this.l=Date.now()}function Mm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fm(e,t,n){if("function"===typeof e)n&&(e=vv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vv(e.handleEvent,e)}return 2147483647<Number(t)?-1:uv.setTimeout(e,t||0)}function Um(e){e.g=Fm((function(){e.g=null,e.i&&(e.i=!1,Um(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}yv(Lm,wm),(rv=Lm.prototype).da=!1,rv.S=null,rv.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xm(this,"tick"),this.da&&(Mm(this),this.start()))}},rv.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rv.M=function(){Lm.Z.M.call(this),Mm(this),delete this.g};var Vm=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Um(this)}},{key:"M",value:function(){to(Kr(n.prototype),"M",this).call(this),this.g&&(uv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gv);function jm(e){gv.call(this),this.h=e,this.g={}}yv(jm,gv);var zm=[];function Bm(e,t,n,r){Array.isArray(n)||(n&&(zm[0]=n.toString()),n=zm);for(var i=0;i<n.length;i++){var a=fm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qm(e){Nv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vm(e)}),e),e.g={}}function Km(){this.g=!0}function Gm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Sm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}jm.prototype.M=function(){jm.Z.M.call(this),qm(this)},jm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Km.prototype.Aa=function(){this.g=!1},Km.prototype.info=function(){};var Wm={},Hm=null;function Qm(){return Hm=Hm||new wm}function $m(e){Zv.call(this,Wm.Ma,e)}function Ym(e){var t=Qm();xm(t,new $m(t,e))}function Xm(e,t){Zv.call(this,Wm.STAT_EVENT,e),this.stat=t}function Jm(e){var t=Qm();xm(t,new Xm(t,e))}function Zm(e,t){Zv.call(this,Wm.Na,e),this.size=t}function ey(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return uv.setTimeout((function(){e()}),t)}Wm.Ma="serverreachability",yv($m,Zv),Wm.STAT_EVENT="statevent",yv(Xm,Zv),Wm.Na="timingevent",yv(Zm,Zv);var ty={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ny={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ry(){}function iy(e){return e.h||(e.h=e.i())}function ay(){}ry.prototype.h=null;var oy,uy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sy(){Zv.call(this,"d")}function cy(){Zv.call(this,"c")}function ly(){}function fy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new jm(this),this.P=dy,e=jv?125:void 0,this.W=new Lm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}yv(sy,Zv),yv(cy,Zv),yv(ly,ry),ly.prototype.g=function(){return new XMLHttpRequest},ly.prototype.i=function(){return{}},oy=new ly;var dy=45e3,py={},vy={};function my(e,t,n){e.K=1,e.v=Vy(Oy(t)),e.s=n,e.U=!0,yy(e,null)}function yy(e,t){e.F=Date.now(),wy(e),e.A=Oy(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Jy(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hy,e.g=ek(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Vm(vv(e.Ia,e,e.g),e.O)),Bm(e.V,e.g,"readystatechange",e.gb),t=e.H?Pv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ym(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ky(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=by(e,n))==vy){4==t&&(e.o=4,Jm(14),i=!1),Gm(e.j,e.m,null,"[Incomplete Response]");break}if(r==py){e.o=4,Jm(15),Gm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gm(e.j,e.m,r,null),Ey(e,r)}gy(e)&&r!=vy&&r!=py&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Jm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wg(t),t.L=!0,Jm(11))):(Gm(e.j,e.m,n,"[Invalid Chunked Response]"),Iy(e),Sy(e))}function by(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vy:(n=Number(t.substring(n,r)),isNaN(n)?py:(r+=1)+n>t.length?vy:(t=t.substr(r,n),e.C=r+n,t))}function wy(e){e.Y=Date.now()+e.P,xy(e,e.P)}function xy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ey(vv(e.eb,e),t)}function _y(e){e.B&&(uv.clearTimeout(e.B),e.B=null)}function Sy(e){0==e.l.G||e.I||$g(e.l,e)}function Iy(e){_y(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mm(e.W),qm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ey(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||og(n.i,e)))if(n.I=e.N,!e.J&&og(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qg(n),Fg(n)}Gg(n),Jm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ey(vv(n.ab,n),6e3));if(1>=ag(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Xg(n,11)}else if((e.J||n.g==e)&&Qg(n),!Sv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Tv(l,"spdy")||Tv(l,"quic")||Tv(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ug(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Uy(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Zg(r,r.H?r.la:null,r.W),d.J){sg(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(_y(p),wy(p)),r.g=d}else Kg(r);0<n.l.length&&jg(n)}else"stop"!=a[0]&&"close"!=a[0]||Xg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xg(n,7):Mg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ym(4)}catch(a){}}function Ty(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cv(e)||"string"===typeof e)wv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(cv(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(cv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Cy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ry(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ay(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ay(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ay(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rv=fy.prototype).setTimeout=function(e){this.P=e},rv.gb=function(e){e=e.target;var t=this.L;t&&3==Ng(e)?t.l():this.Ia(e)},rv.Ia=function(e){try{if(e==this.g)e:{var t=Ng(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||jv||this.g&&(this.h.h||this.g.ga()||Pg(this.g)))){this.I||4!=t||7==n||Ym(8==n||0>=r?3:2),_y(this);var i=this.g.ba();this.N=i;t:if(gy(this)){var a=Pg(this.g);e="";var o=a.length,u=4==Ng(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Iy(this),Sy(this);var s="";break t}this.h.i=new uv.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sv(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Jm(12),Iy(this),Sy(this);break e}Gm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ey(this,i)}this.U?(ky(this,t,s),jv&&this.i&&3==t&&(Bm(this.V,this.W,"tick",this.fb),this.W.start())):(Gm(this.j,this.m,s,null),Ey(this,s)),4==t&&Iy(this),this.i&&!this.I&&(4==t?$g(this.l,this):(this.i=!1,wy(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Jm(12)):(this.o=0,Jm(13)),Iy(this),Sy(this)}}}catch(t){}},rv.fb=function(){if(this.g){var e=Ng(this.g),t=this.g.ga();this.C<t.length&&(_y(this),ky(this,e,t),this.i&&4!=e&&wy(this))}},rv.cancel=function(){this.I=!0,Iy(this)},rv.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ym(3),Jm(17)),Iy(this),this.o=2,Sy(this)):xy(this,this.Y-e)},(rv=Cy.prototype).R=function(){Ry(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rv.T=function(){return Ry(this),this.g.concat()},rv.get=function(e,t){return Ay(this.h,e)?this.h[e]:t},rv.set=function(e,t){Ay(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rv.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ny=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Py(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Py){this.g=void 0!==t?t:e.g,Dy(this,e.j),this.s=e.s,Ly(this,e.i),My(this,e.m),this.l=e.l,t=e.h;var n=new Qy;n.i=t.i,t.g&&(n.g=new Cy(t.g),n.h=t.h),Fy(this,n),this.o=e.o}else e&&(n=String(e).match(Ny))?(this.g=!!t,Dy(this,n[1]||"",!0),this.s=jy(n[2]||""),Ly(this,n[3]||"",!0),My(this,n[4]),this.l=jy(n[5]||"",!0),Fy(this,n[6]||"",!0),this.o=jy(n[7]||"")):(this.g=!!t,this.h=new Qy(null,this.g))}function Oy(e){return new Py(e)}function Dy(e,t,n){e.j=n?jy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ly(e,t,n){e.i=n?jy(t,!0):t}function My(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fy(e,t,n){t instanceof Qy?(e.h=t,function(e,t){t&&!e.j&&($y(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yy(this,t),Jy(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zy(t,Wy)),e.h=new Qy(t,e.g))}function Uy(e,t,n){e.h.set(t,n)}function Vy(e){return Uy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,By),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function By(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Py.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zy(t,qy,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zy(t,qy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zy(n,"/"==n.charAt(0)?Gy:Ky,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zy(n,Hy)),e.join("")};var qy=/[#\/\?@]/g,Ky=/[#\?:]/g,Gy=/[#\?]/g,Wy=/[#\?@]/g,Hy=/#/g;function Qy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $y(e){e.g||(e.g=new Cy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yy(e,t){$y(e),t=Zy(e,t),Ay(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ay((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ry(e)))}function Xy(e,t){return $y(e),t=Zy(e,t),Ay(e.g.h,t)}function Jy(e,t,n){Yy(e,t),0<n.length&&(e.i=null,e.g.set(Zy(e,t),_v(n)),e.h+=n.length)}function Zy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rv=Qy.prototype).add=function(e,t){$y(this),this.i=null,e=Zy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rv.forEach=function(e,t){$y(this),this.g.forEach((function(n,r){wv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},rv.T=function(){$y(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},rv.R=function(e){$y(this);var t=[];if("string"===typeof e)Xy(this,e)&&(t=xv(t,this.g.get(Zy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xv(t,e[n])}return t},rv.set=function(e,t){return $y(this),this.i=null,Xy(this,e=Zy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rv.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var eg=k((function e(t,n){zr(this,e),this.h=t,this.g=n}));function tg(e){this.l=e||rg,uv.PerformanceNavigationTiming?e=0<(e=uv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(uv.g&&uv.g.Ea&&uv.g.Ea()&&uv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ng,rg=10;function ig(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ag(e){return e.h?1:e.g?e.g.size:0}function og(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ug(e,t){e.g?e.g.add(t):e.h=t}function sg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Br(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _v(e.i)}function lg(){}function fg(){this.g=new lg}function hg(e,t,n){var r=n||"";try{Ty(e,(function(e,n){var i=e;lv(e)&&(i=Sm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function pg(e){this.l=e.$b||null,this.j=e.ib||!1}function vg(e,t){wm.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tg.prototype.cancel=function(){if(this.i=cg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Br(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},lg.prototype.stringify=function(e){return uv.JSON.stringify(e,void 0)},lg.prototype.parse=function(e){return uv.JSON.parse(e,void 0)},yv(pg,ry),pg.prototype.g=function(){return new vg(this.l,this.j)},pg.prototype.i=(ng={},function(){return ng}),yv(vg,wm);var mg=0;function yg(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function gg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kg(e)}function kg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rv=vg.prototype).open=function(e,t){if(this.readyState!=mg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kg(this)},rv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||uv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gg(this)),this.readyState=mg},rv.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kg(this)),this.g&&(this.readyState=3,kg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof uv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yg(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rv.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gg(this):kg(this),3==this.readyState&&yg(this)}},rv.Ua=function(e){this.g&&(this.response=this.responseText=e,gg(this))},rv.Ta=function(e){this.g&&(this.response=e,gg(this))},rv.ha=function(){this.g&&gg(this)},rv.setRequestHeader=function(e,t){this.v.append(e,t)},rv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bg=uv.JSON.parse;function wg(e){wm.call(this),this.headers=new Cy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xg,this.K=this.L=!1}yv(wg,wm);var xg="",_g=/^https?$/i,Sg=["POST","PUT"];function Ig(e){return"content-type"==e.toLowerCase()}function Eg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tg(e),Rg(e)}function Tg(e){e.D||(e.D=!0,xm(e,"complete"),xm(e,"error"))}function Cg(e){if(e.h&&"undefined"!=typeof ov&&(!e.C[1]||4!=Ng(e)||2!=e.ba()))if(e.v&&4==Ng(e))Fm(e.Fa,0,e);else if(xm(e,"readystatechange"),4==Ng(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ny)[1]||null;if(!a&&uv.self&&uv.self.location){var o=uv.self.location.protocol;a=o.substr(0,o.length-1)}i=!_g.test(a?a.toLowerCase():"")}t=i}if(t)xm(e,"complete"),xm(e,"success");else{e.m=6;try{var u=2<Ng(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Tg(e)}}finally{Rg(e)}}}function Rg(e,t){if(e.g){Ag(e);var n=e.g,r=e.C[0]?sv:null;e.g=null,e.C=null,t||xm(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ag(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(uv.clearTimeout(e.A),e.A=null)}function Ng(e){return e.g?e.g.readyState:0}function Pg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Og(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Nv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Uy(e,t,n))}function Dg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lg(e){this.za=0,this.l=[],this.h=new Km,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dg("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dg("baseRetryDelayMs",5e3,e),this.$a=Dg("retryDelaySeedMs",1e4,e),this.Ya=Dg("forwardChannelMaxRetries",2,e),this.ra=Dg("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new tg(e&&e.concurrentRequestLimit),this.Ca=new fg,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Mg(e){if(Ug(e),3==e.G){var t=e.V++,n=Oy(e.F);Uy(n,"SID",e.J),Uy(n,"RID",t),Uy(n,"TYPE","terminate"),Bg(e,n),(t=new fy(e,e.h,t,void 0)).K=2,t.v=Vy(Oy(n)),n=!1,uv.navigator&&uv.navigator.sendBeacon&&(n=uv.navigator.sendBeacon(t.v.toString(),"")),!n&&uv.Image&&((new Image).src=t.v,n=!0),n||(t.g=ek(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wy(t)}Jg(e)}function Fg(e){e.g&&(Wg(e),e.g.cancel(),e.g=null)}function Ug(e){Fg(e),e.u&&(uv.clearTimeout(e.u),e.u=null),Qg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&uv.clearTimeout(e.m),e.m=null)}function Vg(e,t){e.l.push(new eg(e.Za++,t)),3==e.G&&jg(e)}function jg(e){ig(e.i)||e.m||(e.m=!0,Nm(e.Ha,e),e.C=0)}function zg(e,t){var n;n=t?t.m:e.V++;var r=Oy(e.F);Uy(r,"SID",e.J),Uy(r,"RID",n),Uy(r,"AID",e.U),Bg(e,r),e.o&&e.s&&Og(r,e.o,e.s),n=new fy(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=qg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ug(e.i,n),my(n,r,t)}function Bg(e,t){e.j&&Ty({},(function(e,n){Uy(t,n,e)}))}function qg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vv(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{hg(l,o,"req"+c+"_")}catch(Ck){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Kg(e){e.g||e.u||(e.Y=1,Nm(e.Ga,e),e.A=0)}function Gg(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ey(vv(e.Ga,e),Yg(e,e.A)),e.A++,!0)}function Wg(e){null!=e.B&&(uv.clearTimeout(e.B),e.B=null)}function Hg(e){e.g=new fy(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Oy(e.oa);Uy(t,"RID","rpc"),Uy(t,"SID",e.J),Uy(t,"CI",e.N?"0":"1"),Uy(t,"AID",e.U),Bg(e,t),Uy(t,"TYPE","xmlhttp"),e.o&&e.s&&Og(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vy(Oy(t)),n.s=null,n.U=!0,yy(n,e)}function Qg(e){null!=e.v&&(uv.clearTimeout(e.v),e.v=null)}function $g(e,t){var n=null;if(e.g==t){Qg(e),Wg(e),e.g=null;var r=2}else{if(!og(e.i,t))return;n=t.D,sg(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xm(r=Qm(),new Zm(r,n,t,i)),jg(e)}else Kg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ag(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ey(vv(e.Ha,e,t),Yg(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xg(e,5);break;case 4:Xg(e,10);break;case 3:Xg(e,6);break;default:Xg(e,2)}}function Yg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=vv(e.jb,e);n||(n=new Py("//www.google.com/images/cleardot.gif"),uv.location&&"http"==uv.location.protocol||Dy(n,"https"),Vy(n)),function(e,t){var n=new Km;if(uv.Image){var r=new Image;r.onload=mv(dg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mv(dg,n,r,"TestLoadImage: error",!1,t),r.onabort=mv(dg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mv(dg,n,r,"TestLoadImage: timeout",!1,t),uv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jm(2);e.G=0,e.j&&e.j.va(t),Jg(e),Ug(e)}function Jg(e){e.G=0,e.I=-1,e.j&&(0==cg(e.i).length&&0==e.l.length||(e.i.i.length=0,_v(e.l),e.l.length=0),e.j.ua())}function Zg(e,t,n){var r=function(e){return e instanceof Py?Oy(e):new Py(e,void 0)}(n);if(""!=r.i)t&&Ly(r,t+"."+r.i),My(r,r.m);else{var i=uv.location;r=function(e,t,n,r){var i=new Py(null,void 0);return e&&Dy(i,e),t&&Ly(i,t),n&&My(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Nv(e.aa,(function(e,t){Uy(r,t,e)})),t=e.D,n=e.sa,t&&n&&Uy(r,t,n),Uy(r,"VER",e.ma),Bg(e,r),r}function ek(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wg(new pg({ib:!0})):new wg(e.qa)).L=e.H,t}function tk(){}function nk(){if(Uv&&!(10<=Number(Xv)))throw Error("Environmental error: no available transport.")}function rk(e,t){wm.call(this),this.g=new Lg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Sv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ok(this)}function ik(e){sy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ak(){cy.call(this),this.status=1}function ok(e){this.g=e}(rv=wg.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oy.g(),this.C=this.u?iy(this.u):iy(oy),this.g.onreadystatechange=vv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Eg(this,a)}e=n||"";var i=new Cy(this.headers);r&&Ty(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ig,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=uv.FormData&&e instanceof uv.FormData,!(0<=bv(Sg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ag(this),0<this.B&&((this.K=function(e){return Uv&&$v()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vv(this.pa,this)):this.A=Fm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Eg(this,a)}},rv.pa=function(){"undefined"!=typeof ov&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xm(this,"timeout"),this.abort(8))},rv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xm(this,"complete"),xm(this,"abort"),Rg(this))},rv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rg(this,!0)),wg.Z.M.call(this)},rv.Fa=function(){this.s||(this.F||this.v||this.l?Cg(this):this.cb())},rv.cb=function(){Cg(this)},rv.ba=function(){try{return 2<Ng(this)?this.g.status:-1}catch(ng){return-1}},rv.ga=function(){try{return this.g?this.g.responseText:""}catch(ng){return""}},rv.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bg(t)}},rv.Da=function(){return this.m},rv.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(rv=Lg.prototype).ma=8,rv.G=1,rv.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},rv.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Dv(n=Pv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qg(this,t,r),Uy(i=Oy(this.F),"RID",e),Uy(i,"CVER",22),this.D&&Uy(i,"X-HTTP-Session-Id",this.D),Bg(this,i),this.o&&n&&Og(i,this.o,n),ug(this.i,t),this.Ra&&Uy(i,"TYPE","init"),this.ja?(Uy(i,"$req",r),Uy(i,"SID","null"),t.$=!0,my(t,i,null)):my(t,i,r),this.G=2}}else 3==this.G&&(e?zg(this,e):0==this.l.length||ig(this.i)||zg(this))},rv.Ga=function(){if(this.u=null,Hg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ey(vv(this.bb,this),e)}},rv.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jm(10),Fg(this),Hg(this))},rv.ab=function(){null!=this.v&&(this.v=null,Fg(this),Gg(this),Jm(19))},rv.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Jm(2)):(this.h.info("Failed to ping google.com"),Jm(1))},(rv=tk.prototype).xa=function(){},rv.wa=function(){},rv.va=function(){},rv.ua=function(){},rv.Oa=function(){},nk.prototype.g=function(e,t){return new rk(e,t)},yv(rk,wm),rk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Nm(vv(e.hb,e,t))),Jm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Zg(e,null,e.W),jg(e)},rk.prototype.close=function(){Mg(this.g)},rk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vg(this.g,t)}else this.v?((t={}).__data__=Sm(e),Vg(this.g,t)):Vg(this.g,e)},rk.prototype.M=function(){this.g.j=null,delete this.j,Mg(this.g),delete this.g,rk.Z.M.call(this)},yv(ik,sy),yv(ak,cy),yv(ok,tk),ok.prototype.xa=function(){xm(this.g,"a")},ok.prototype.wa=function(e){xm(this.g,new ik(e))},ok.prototype.va=function(e){xm(this.g,new ak(e))},ok.prototype.ua=function(){xm(this.g,"b")},nk.prototype.createWebChannel=nk.prototype.g,rk.prototype.send=rk.prototype.u,rk.prototype.open=rk.prototype.m,rk.prototype.close=rk.prototype.close,ty.NO_ERROR=0,ty.TIMEOUT=8,ty.HTTP_ERROR=6,ny.COMPLETE="complete",ay.EventType=uy,uy.OPEN="a",uy.CLOSE="b",uy.ERROR="c",uy.MESSAGE="d",wm.prototype.listen=wm.prototype.N,wg.prototype.listenOnce=wg.prototype.O,wg.prototype.getLastError=wg.prototype.La,wg.prototype.getLastErrorCode=wg.prototype.Da,wg.prototype.getStatus=wg.prototype.ba,wg.prototype.getResponseJson=wg.prototype.Qa,wg.prototype.getResponseText=wg.prototype.ga,wg.prototype.send=wg.prototype.ea;var uk=av.createWebChannelTransport=function(){return new nk},sk=av.getStatEventTarget=function(){return Qm()},ck=av.ErrorCode=ty,lk=av.EventType=ny,fk=av.Event=Wm,hk=av.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dk=av.FetchXmlHttpFactory=pg,pk=av.WebChannel=ay,vk=av.XhrIo=wg,mk="@firebase/firestore",yk=function(){function e(t){zr(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();yk.UNAUTHENTICATED=new yk(null),yk.GOOGLE_CREDENTIALS=new yk("google-credentials-uid"),yk.FIRST_PARTY=new yk("first-party-uid"),yk.MOCK_USER=new yk("mock-user");var gk="9.9.2",kk=new Vi("@firebase/firestore");function bk(){return kk.logLevel}function wk(e){if(kk.logLevel<=Pi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sk);kk.debug.apply(kk,["Firestore (".concat(gk,"): ").concat(e)].concat(yt(i)))}}function xk(e){if(kk.logLevel<=Pi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sk);kk.error.apply(kk,["Firestore (".concat(gk,"): ").concat(e)].concat(yt(i)))}}function _k(e){if(kk.logLevel<=Pi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sk);kk.warn.apply(kk,["Firestore (".concat(gk,"): ").concat(e)].concat(yt(i)))}}function Sk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ik(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(gk,") INTERNAL ASSERTION FAILED: ")+e;throw xk(t),new Error(t)}function Ek(e,t){e||Ik()}function Tk(e,t){return e}var Ck={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rk=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(fi),Ak=k((function e(){var t=this;zr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Nk=k((function e(t,n){zr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Pk=function(){function e(){zr(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ok=function(){function e(t){zr(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Dk=function(){function e(t){zr(this,e),this.t=t,this.currentUser=yk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ak;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ak,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){wk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(wk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ak)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(wk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ek("string"==typeof n.accessToken),new Nk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ek(null===e||"string"==typeof e),new yk(e)}}]),e}(),Lk=k((function e(t,n,r){zr(this,e),this.type="FirstParty",this.user=yk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Mk=function(){function e(t,n,r){zr(this,e),this.h=t,this.l=n,this.m=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new Lk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fk=k((function e(t){zr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Uk=function(){function e(t){zr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&wk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,wk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){wk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):wk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ek("string"==typeof t.token),e.p=t.token,new Fk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Vk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var jk=function(){function e(){zr(this,e)}return k(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zk(e,t){return e<t?-1:e>t?1:0}function Bk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qk(e){return e+"\0"}var Kk=function(){function e(t,n){if(zr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Rk(Ck.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rk(Ck.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Rk(Ck.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rk(Ck.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zk(this.nanoseconds,e.nanoseconds):zk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gk=function(){function e(t){zr(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Kk(0,0))}},{key:"max",value:function(){return new e(new Kk(253402300799,999999999))}}]),e}(),Wk=function(){function e(t,n,r){zr(this,e),void 0===n?n=0:n>t.length&&Ik(),void 0===r?r=t.length-n:r>t.length-n&&Ik(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hk=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,yt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wk),Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$k=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Rk(Ck.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Rk(Ck.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Rk(Ck.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wk),Yk=function(){function e(t){zr(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hk.fromString(t))}},{key:"fromName",value:function(t){return new e(Hk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hk.emptyPath())}},{key:"comparator",value:function(e,t){return Hk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hk(t.slice()))}}]),e}(),Xk=k((function e(t,n,r,i){zr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Jk(e){return e.fields.find((function(e){return 2===e.kind}))}function Zk(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xk.UNKNOWN_ID=-1;var eb=k((function e(t,n){zr(this,e),this.fieldPath=t,this.kind=n}));var tb=function(){function e(t,n){zr(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,ib.min())}}]),e}();function nb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gk.fromTimestamp(1e9===r?new Kk(n+1,0):new Kk(n,r));return new ib(i,Yk.empty(),t)}function rb(e){return new ib(e.readTime,e.key,-1)}var ib=function(){function e(t,n,r){zr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(Gk.min(),Yk.empty(),-1)}},{key:"max",value:function(){return new e(Gk.max(),Yk.empty(),-1)}}]),e}();function ab(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yk.comparator(e.documentKey,t.documentKey))?n:zk(e.largestBatchId,t.largestBatchId)}var ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ub=function(){function e(){zr(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function sb(e){return cb.apply(this,arguments)}function cb(){return cb=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ck.FAILED_PRECONDITION&&t.message===ob){e.next=2;break}throw t;case 2:wk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}var lb=function(){function e(t){var n=this;zr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ik(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Br(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),fb=function(){function e(t,n){var r=this;zr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Ak,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new pb(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=kb(e.target.error);r.T.reject(new pb(t,n))}}return k(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(wk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new mb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pb(n,t)}}}]),e}(),hb=function(){function e(t,n,r){zr(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(ii())&&xk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"k",value:function(){var e=Ti(Ii().mark((function e(t){var n=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return wk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new pb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Rk(Ck.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Rk(Ck.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new pb(t,n))},i.onupgradeneeded=function(e){wk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){wk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ti(Ii().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ii().mark((function e(){var n,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=fb.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),lb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,wk("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return wk("SimpleDb","Removing database:",e),yb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!li())return!1;if(e.S())return!0;var t=ii(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),db=function(){function e(t){zr(this,e),this.$=t,this.B=!1,this.L=null}return k(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return yb(this.$.delete())}}]),e}(),pb=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,Ck.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(Rk);function vb(e){return"IndexedDbTransactionError"===e.name}var mb=function(){function e(t){zr(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(wk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(wk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),yb(n)}},{key:"add",value:function(e){return wk("SimpleDb","ADD",this.store.name,e,e),yb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return yb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),wk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return wk("SimpleDb","DELETE",this.store.name,e),yb(this.store.delete(e))}},{key:"count",value:function(){return wk("SimpleDb","COUNT",this.store.name),yb(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new lb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new lb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){wk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new lb((function(n,r){t.onerror=function(e){var t=kb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new lb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new db(i),o=t(i.primaryKey,i.value,a);if(o instanceof lb){var u=o.catch((function(e){return a.done(),lb.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return lb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function yb(e){return new lb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=kb(e.target.error);n(t)}}))}var gb=!1;function kb(e){var t=hb.v(ii());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Rk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return gb||(gb=!0,setTimeout((function(){throw r}),0)),r}}return e}var bb=function(){function e(t,n){zr(this,e),this.asyncQueue=t,this.X=n,this.task=null}return k(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;wk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=wk,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!vb(e.t4)){e.next=17;break}wk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,sb(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),wb=function(){function e(t,n){zr(this,e),this.localStore=t,this.persistence=n}return k(e,[{key:"tt",value:function(){var e=Ti(Ii().mark((function e(){var t,n=this,r=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return lb.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return wk("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return wk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=rb(t);ab(r,n)>0&&(n=r)})),new ib(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),xb=function(){function e(t,n){var r=this;zr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function _b(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ib(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}xb.ot=-1;var Eb=function(){function e(t,n){zr(this,e),this.comparator=t,this.root=n||Cb.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Tb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Tb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Tb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Tb(this.root,e,this.comparator,!0)}}]),e}(),Tb=function(){function e(t,n,r,i){zr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Cb=function(){function e(t,n,r,i,a){zr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ik();if(this.right.isRed())throw Ik();var e=this.left.check();if(e!==this.right.check())throw Ik();return e+(this.isRed()?0:1)}}]),e}();Cb.EMPTY=null,Cb.RED=!0,Cb.BLACK=!1,Cb.EMPTY=new(function(){function e(){zr(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw Ik()}},{key:"value",get:function(){throw Ik()}},{key:"color",get:function(){throw Ik()}},{key:"left",get:function(){throw Ik()}},{key:"right",get:function(){throw Ik()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rb=function(){function e(t){zr(this,e),this.comparator=t,this.data=new Eb(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ab(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ab(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ab=function(){function e(t){zr(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Nb(e){return e.hasNext()?e.getNext():void 0}var Pb=function(){function e(t){zr(this,e),this.fields=t,t.sort($k.comparator)}return k(e,[{key:"unionWith",value:function(t){var n,r=new Rb($k.comparator),i=Br(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Br(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Br(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Bk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ob=function(e){function t(e){zr(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ob.EMPTY_BYTE_STRING=new Ob("");var Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lb(e){if(Ek(!!e),"string"==typeof e){var t=0,n=Db.exec(e);if(Ek(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mb(e.seconds),nanos:Mb(e.nanos)}}function Mb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fb(e){return"string"==typeof e?Ob.fromBase64String(e):Ob.fromUint8Array(e)}function Ub(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vb(e){var t=e.mapValue.fields.__previous_value__;return Ub(t)?Vb(t):t}function jb(e){var t=Lb(e.mapValue.fields.__local_write_time__.timestampValue);return new Kk(t.seconds,t.nanos)}var zb=k((function e(t,n,r,i,a,o,u,s){zr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Bb=function(){function e(t,n){zr(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function qb(e){return null==e}function Kb(e){return 0===e&&1/e==-1/0}function Gb(e){return"number"==typeof e&&Number.isInteger(e)&&!Kb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Wb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hb={nullValue:"NULL_VALUE"};function Qb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ub(e)?4:sw(e)?9007199254740991:10:Ik()}function $b(e,t){if(e===t)return!0;var n=Qb(e);if(n!==Qb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jb(e).isEqual(jb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Lb(e.timestampValue),r=Lb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fb(e.bytesValue).isEqual(Fb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mb(e.geoPointValue.latitude)===Mb(t.geoPointValue.latitude)&&Mb(e.geoPointValue.longitude)===Mb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mb(e.integerValue)===Mb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Mb(e.doubleValue),r=Mb(t.doubleValue);return n===r?Kb(n)===Kb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bk(e.arrayValue.values||[],t.arrayValue.values||[],$b);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_b(n)!==_b(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$b(n[i],r[i])))return!1;return!0}(e,t);default:return Ik()}}function Yb(e,t){return void 0!==(e.values||[]).find((function(e){return $b(e,t)}))}function Xb(e,t){if(e===t)return 0;var n=Qb(e),r=Qb(t);if(n!==r)return zk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Mb(e.integerValue||e.doubleValue),r=Mb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jb(e.timestampValue,t.timestampValue);case 4:return Jb(jb(e),jb(t));case 5:return zk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fb(e),r=Fb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zk(n[i],r[i]);if(0!==a)return a}return zk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zk(Mb(e.latitude),Mb(t.latitude));return 0!==n?n:zk(Mb(e.longitude),Mb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xb(n[i],r[i]);if(a)return a}return zk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Wb.mapValue&&t===Wb.mapValue)return 0;if(e===Wb.mapValue)return 1;if(t===Wb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=zk(r[o],a[o]);if(0!==u)return u;var s=Xb(n[r[o]],i[a[o]]);if(0!==s)return s}return zk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ik()}}function Jb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zk(e,t);var n=Lb(e),r=Lb(t),i=zk(n.seconds,r.seconds);return 0!==i?i:zk(n.nanos,r.nanos)}function Zb(e){return ew(e)}function ew(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Lb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Br(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ew(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Br(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ew(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ik();var t,n}function tw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function nw(e){return!!e&&"integerValue"in e}function rw(e){return!!e&&"arrayValue"in e}function iw(e){return!!e&&"nullValue"in e}function aw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ow(e){return!!e&&"mapValue"in e}function uw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Sb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=uw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=uw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function sw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function cw(e){return"nullValue"in e?Hb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?tw(Bb.empty(),Yk.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ik()}function lw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?tw(Bb.empty(),Yk.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Wb:Ik()}function fw(e,t){var n=Xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function hw(e,t){var n=Xb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var dw=function(){function e(t){zr(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ow(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uw(t)}},{key:"setAll",value:function(e){var t=this,n=$k.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=uw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ow(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $b(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ow(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Sb(t,(function(t,n){return e[t]=n}));var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(uw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function pw(e){var t=[];return Sb(e.fields,(function(e,n){var r=new $k([e]);if(ow(n)){var i=pw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Br(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Pb(t)}var vw=function(){function e(t,n,r,i,a,o){zr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=dw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=dw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Gk.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gk.min(),Gk.min(),dw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Gk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gk.min(),dw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gk.min(),dw.empty(),2)}}]),e}(),mw=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;zr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function yw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new mw(e,t,n,r,i,a,o)}function gw(e){var t=Tk(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Zb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),qb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Zb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Zb(e)})).join(",")),t.ut=n}return t.ut}function kw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Lw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$b(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fw(e.startAt,t.startAt)&&Fw(e.endAt,t.endAt)}function bw(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ww(e,t){return e.filters.filter((function(e){return e instanceof Sw&&e.field.isEqual(t)}))}function xw(e,t,n){var r,i=Hb,a=!0,o=Br(ww(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Hb,c=!0;switch(u.op){case"<":case"<=":s=cw(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Hb}fw({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];fw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function _w(e,t,n){var r,i=Wb,a=!0,o=Br(ww(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Wb,c=!0;switch(u.op){case">=":case">":s=lw(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Wb}hw({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];hw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Sw=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Xb(t,this.value)):null!==t&&Qb(this.value)===Qb(t)&&this.at(Xb(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ik()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Iw(e,t,r):"array-contains"===t?new Rw(e,r):"in"===t?new Aw(e,r):"not-in"===t?new Nw(e,r):"array-contains-any"===t?new Pw(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Ew(e,n):new Tw(e,n)}}]),n}(function(){return k((function e(){zr(this,e)}))}()),Iw=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,e,r,i)).key=Yk.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=Yk.comparator(e.key,this.key);return this.at(t)}}]),n}(Sw),Ew=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,"in",r)).keys=Cw("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sw),Tw=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,"not-in",r)).keys=Cw("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sw);function Cw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yk.fromName(e.referenceValue)}))}var Rw=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return rw(t)&&Yb(t.arrayValue,this.value)}}]),n}(Sw),Aw=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yb(this.value.arrayValue,t)}}]),n}(Sw),Nw=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(Yb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yb(this.value.arrayValue,t)}}]),n}(Sw),Pw=function(e){qr(n,e);var t=Hr(n);function n(e,r){return zr(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!rw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yb(t.value.arrayValue,e)}))}}]),n}(Sw),Ow=k((function e(t,n){zr(this,e),this.position=t,this.inclusive=n})),Dw=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";zr(this,e),this.field=t,this.dir=n}));function Lw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Mw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yk.comparator(Yk.fromName(o.referenceValue),n.key):Xb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$b(e.position[n],t.position[n]))return!1;return!0}var Uw=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;zr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Vw(e,t,n,r,i,a,o,u){return new Uw(e,t,n,r,i,a,o,u)}function jw(e){return new Uw(e)}function zw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qw(e){var t,n=Br(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kw(e){return null!==e.collectionGroup}function Gw(e){var t=Tk(e);if(null===t.lt){t.lt=[];var n=qw(t),r=Bw(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Dw(n)),t.lt.push(new Dw($k.keyField(),"asc"));else{var i,a=!1,o=Br(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Dw($k.keyField(),s))}}}return t.lt}function Ww(e){var t=Tk(e);if(!t.ft)if("F"===t.limitType)t.ft=yw(t.path,t.collectionGroup,Gw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Br(Gw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Dw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ow(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ow(t.startAt.position,t.startAt.inclusive):null;t.ft=yw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Hw(e,t,n){return new Uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qw(e,t){return kw(Ww(e),Ww(t))&&e.limitType===t.limitType}function $w(e){return"".concat(gw(Ww(e)),"|lt:").concat(e.limitType)}function Yw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Zb(t.value));var t})).join(", "),"]")),qb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Zb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Zb(e)})).join(",")),"Target(".concat(t,")")}(Ww(e)),"; limitType=").concat(e.limitType,")")}function Xw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Br(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Br(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Mw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Mw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gw(e),t))}(e,t)}function Jw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zw(e){return function(t,n){var r,i=!1,a=Br(Gw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ex(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ex(e,t,n){var r=e.field.isKeyField()?Yk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xb(r,i):Ik()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ik()}}function tx(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kb(t)?"-0":t}}function nx(e){return{integerValue:""+e}}function rx(e,t){return Gb(t)?nx(t):tx(e,t)}var ix=k((function e(){zr(this,e),this._=void 0}));function ax(e,t,n){return e instanceof sx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cx?lx(e,t):e instanceof fx?hx(e,t):function(e,t){var n=ux(e,t),r=px(n)+px(e._t);return nw(n)&&nw(e._t)?nx(r):tx(e.wt,r)}(e,t)}function ox(e,t,n){return e instanceof cx?lx(e,t):e instanceof fx?hx(e,t):n}function ux(e,t){return e instanceof dx?nw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sx=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n)}(ix),cx=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).elements=e,r}return k(n)}(ix);function lx(e,t){var n,r=vx(t),i=Br(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $b(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fx=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).elements=e,r}return k(n)}(ix);function hx(e,t){var n,r=vx(t),i=Br(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$b(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dx=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).wt=e,i._t=r,i}return k(n)}(ix);function px(e){return Mb(e.integerValue||e.doubleValue)}function vx(e){return rw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var mx=k((function e(t,n){zr(this,e),this.field=t,this.transform=n}));var yx=k((function e(t,n){zr(this,e),this.version=t,this.transformResults=n})),gx=function(){function e(t,n){zr(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function kx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var bx=k((function e(){zr(this,e)}));function wx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ox(e.key,gx.none()):new Ex(e.key,e.data,gx.none());var n,r=e.data,i=dw.empty(),a=new Rb($k.comparator),o=Br(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Tx(e.key,i,new Pb(a.toArray()),gx.none())}function xx(e,t,n){e instanceof Ex?function(e,t,n){var r=e.value.clone(),i=Rx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tx?function(e,t,n){if(kx(e.precondition,t)){var r=Rx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _x(e,t,n,r){return e instanceof Ex?function(e,t,n,r){if(!kx(e.precondition,t))return n;var i=e.value.clone(),a=Ax(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tx?function(e,t,n,r){if(!kx(e.precondition,t))return n;var i=Ax(e.fieldTransforms,r,t),a=t.data;return a.setAll(Cx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return kx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sx(e,t){var n,r=null,i=Br(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ux(a.transform,o||null);null!=u&&(null===r&&(r=dw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ix(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cx&&t instanceof cx||e instanceof fx&&t instanceof fx?Bk(e.elements,t.elements,$b):e instanceof dx&&t instanceof dx?$b(e._t,t._t):e instanceof sx&&t instanceof sx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ex=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return zr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Tx=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return zr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return k(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(bx);function Cx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rx(e,t,n){var r=new Map;Ek(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ox(o,u,n[i]))}return r}function Ax(e,t,n){var r,i=new Map,a=Br(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ax(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Nx,Px,Ox=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Dx=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Lx=k((function e(t){zr(this,e),this.count=t}));function Mx(e){switch(e){default:return Ik();case Ck.CANCELLED:case Ck.UNKNOWN:case Ck.DEADLINE_EXCEEDED:case Ck.RESOURCE_EXHAUSTED:case Ck.INTERNAL:case Ck.UNAVAILABLE:case Ck.UNAUTHENTICATED:return!1;case Ck.INVALID_ARGUMENT:case Ck.NOT_FOUND:case Ck.ALREADY_EXISTS:case Ck.PERMISSION_DENIED:case Ck.FAILED_PRECONDITION:case Ck.ABORTED:case Ck.OUT_OF_RANGE:case Ck.UNIMPLEMENTED:case Ck.DATA_LOSS:return!0}}function Fx(e){if(void 0===e)return xk("GRPC error has no .code"),Ck.UNKNOWN;switch(e){case Nx.OK:return Ck.OK;case Nx.CANCELLED:return Ck.CANCELLED;case Nx.UNKNOWN:return Ck.UNKNOWN;case Nx.DEADLINE_EXCEEDED:return Ck.DEADLINE_EXCEEDED;case Nx.RESOURCE_EXHAUSTED:return Ck.RESOURCE_EXHAUSTED;case Nx.INTERNAL:return Ck.INTERNAL;case Nx.UNAVAILABLE:return Ck.UNAVAILABLE;case Nx.UNAUTHENTICATED:return Ck.UNAUTHENTICATED;case Nx.INVALID_ARGUMENT:return Ck.INVALID_ARGUMENT;case Nx.NOT_FOUND:return Ck.NOT_FOUND;case Nx.ALREADY_EXISTS:return Ck.ALREADY_EXISTS;case Nx.PERMISSION_DENIED:return Ck.PERMISSION_DENIED;case Nx.FAILED_PRECONDITION:return Ck.FAILED_PRECONDITION;case Nx.ABORTED:return Ck.ABORTED;case Nx.OUT_OF_RANGE:return Ck.OUT_OF_RANGE;case Nx.UNIMPLEMENTED:return Ck.UNIMPLEMENTED;case Nx.DATA_LOSS:return Ck.DATA_LOSS;default:return Ik()}}(Px=Nx||(Nx={}))[Px.OK=0]="OK",Px[Px.CANCELLED=1]="CANCELLED",Px[Px.UNKNOWN=2]="UNKNOWN",Px[Px.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Px[Px.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Px[Px.NOT_FOUND=5]="NOT_FOUND",Px[Px.ALREADY_EXISTS=6]="ALREADY_EXISTS",Px[Px.PERMISSION_DENIED=7]="PERMISSION_DENIED",Px[Px.UNAUTHENTICATED=16]="UNAUTHENTICATED",Px[Px.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Px[Px.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Px[Px.ABORTED=10]="ABORTED",Px[Px.OUT_OF_RANGE=11]="OUT_OF_RANGE",Px[Px.UNIMPLEMENTED=12]="UNIMPLEMENTED",Px[Px.INTERNAL=13]="INTERNAL",Px[Px.UNAVAILABLE=14]="UNAVAILABLE",Px[Px.DATA_LOSS=15]="DATA_LOSS";var Ux=function(){function e(t,n){zr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Sb(this.inner,(function(t,n){var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ib(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Vx=new Eb(Yk.comparator);function jx(){return Vx}var zx=new Eb(Yk.comparator);function Bx(){for(var e=zx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function qx(e){var t=zx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Kx(){return Wx()}function Gx(){return Wx()}function Wx(){return new Ux((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hx=new Eb(Yk.comparator),Qx=new Rb(Yk.comparator);function $x(){for(var e=Qx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Yx=new Rb(zk);function Xx(){return Yx}var Jx=function(){function e(t,n,r,i,a){zr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Zx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Gk.min(),r,Xx(),jx(),$x())}}]),e}(),Zx=function(){function e(t,n,r,i,a){zr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ob.EMPTY_BYTE_STRING,n,$x(),$x(),$x())}}]),e}(),e_=k((function e(t,n,r,i){zr(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),t_=k((function e(t,n){zr(this,e),this.targetId=t,this.It=n})),n_=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ob.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;zr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),r_=function(){function e(){zr(this,e),this.Tt=0,this.Et=o_(),this.At=Ob.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return k(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=$x(),t=$x(),n=$x();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ik()}})),new Zx(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=o_()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),i_=function(){function e(t){zr(this,e),this.Ot=t,this.Ft=new Map,this.$t=jx(),this.Bt=a_(),this.Lt=new Rb(zk)}return k(e,[{key:"Ut",value:function(e){var t,n=Br(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Br(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Ik()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(bw(i))if(0===n){var a=new Yk(i.path);this.Kt(t,a,vw.newNoDocument(a,Gk.min()))}else Ek(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&bw(a.target)){var o=new Yk(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,vw.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=$x();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Jx(e,n,this.Lt,this.$t,r);return this.$t=jx(),this.Bt=a_(),this.Lt=new Rb(zk),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new r_,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Rb(zk),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||wk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new r_),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function a_(){return new Eb(Yk.comparator)}function o_(){return new Eb(Yk.comparator)}var u_={asc:"ASCENDING",desc:"DESCENDING"},s_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c_=k((function e(t,n){zr(this,e),this.databaseId=t,this.dt=n}));function l_(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function f_(e,t){return e.dt?t.toBase64():t.toUint8Array()}function h_(e,t){return l_(e,t.toTimestamp())}function d_(e){return Ek(!!e),Gk.fromTimestamp(function(e){var t=Lb(e);return new Kk(t.seconds,t.nanos)}(e))}function p_(e,t){return function(e){return new Hk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function v_(e){var t=Hk.fromString(e);return Ek(U_(t)),t}function m_(e,t){return p_(e.databaseId,t.path)}function y_(e,t){var n=v_(t);if(n.get(1)!==e.databaseId.projectId)throw new Rk(Ck.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rk(Ck.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yk(w_(n))}function g_(e,t){return p_(e.databaseId,t)}function k_(e){var t=v_(e);return 4===t.length?Hk.emptyPath():w_(t)}function b_(e){return new Hk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function w_(e){return Ek(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function x_(e,t,n){return{name:m_(e,t),fields:n.value.mapValue.fields}}function __(e,t,n){var r=y_(e,t.name),i=d_(t.updateTime),a=new dw({mapValue:{fields:t.fields}}),o=vw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function S_(e,t){return"found"in t?function(e,t){Ek(!!t.found),t.found.name,t.found.updateTime;var n=y_(e,t.found.name),r=d_(t.found.updateTime),i=new dw({mapValue:{fields:t.found.fields}});return vw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ek(!!t.missing),Ek(!!t.readTime);var n=y_(e,t.missing),r=d_(t.readTime);return vw.newNoDocument(n,r)}(e,t):Ik()}function I_(e,t){var n;if(t instanceof Ex)n={update:x_(e,t.key,t.value)};else if(t instanceof Ox)n={delete:m_(e,t.key)};else if(t instanceof Tx)n={update:x_(e,t.key,t.data),updateMask:F_(t.fieldMask)};else{if(!(t instanceof Dx))return Ik();n={verify:m_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dx)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ik()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:h_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ik()}(e,t.precondition)),n}function E_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?gx.updateTime(d_(e.updateTime)):void 0!==e.exists?gx.exists(e.exists):gx.none()}(t.currentDocument):gx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ek("REQUEST_TIME"===t.setToServerValue),n=new sx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new cx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new fx(i)}else"increment"in t?n=new dx(e,t.increment):Ik();var a=$k.fromServerFormat(t.fieldPath);return new mx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=y_(e,t.update.name),a=new dw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Pb(t.map((function(e){return $k.fromServerFormat(e)})))}(t.updateMask);return new Tx(i,a,o,n,r)}return new Ex(i,a,n,r)}if(t.delete){var u=y_(e,t.delete);return new Ox(u,n)}if(t.verify){var s=y_(e,t.verify);return new Dx(s,n)}return Ik()}function T_(e,t){return{documents:[g_(e,t.path)]}}function C_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=g_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=g_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(aw(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NAN"}};if(iw(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aw(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NOT_NAN"}};if(iw(e.value))return{unaryFilter:{field:O_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O_(e.field),op:P_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:O_(e.field),direction:N_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||qb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function R_(e){var t=k_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ek(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=A_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Dw(D_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return qb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ow(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ow(n,t)}(n.endAt)),Vw(t,i,u,o,s,"F",c,l)}function A_(e){return e?void 0!==e.unaryFilter?[M_(e)]:void 0!==e.fieldFilter?[L_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return A_(e)})).reduce((function(e,t){return e.concat(t)})):Ik():[]}function N_(e){return u_[e]}function P_(e){return s_[e]}function O_(e){return{fieldPath:e.canonicalString()}}function D_(e){return $k.fromServerFormat(e.fieldPath)}function L_(e){return Sw.create(D_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ik()}}(e.fieldFilter.op),e.fieldFilter.value)}function M_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=D_(e.unaryFilter.field);return Sw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=D_(e.unaryFilter.field);return Sw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=D_(e.unaryFilter.field);return Sw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=D_(e.unaryFilter.field);return Sw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ik()}}function F_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function U_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function V_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=z_(t)),t=j_(e.get(n),t);return z_(t)}function j_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function z_(e){return e+"\x01\x01"}function B_(e){var t=e.length;if(Ek(t>=2),2===t)return Ek("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ik(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ik()}a=o+2}return new Hk(r)}var q_=["userId","batchId"];function K_(e,t){return[e,V_(t)]}function G_(e,t,n){return[e,V_(t),n]}var W_={},H_=["prefixPath","collectionGroup","readTime","documentId"],Q_=["prefixPath","collectionGroup","documentId"],$_=["collectionGroup","readTime","prefixPath","documentId"],Y_=["canonicalId","targetId"],X_=["targetId","path"],J_=["path","targetId"],Z_=["collectionId","parent"],eS=["indexId","uid"],tS=["uid","sequenceNumber"],nS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rS=["indexId","uid","orderedDocumentKey"],iS=["userId","collectionPath","documentId"],aS=["userId","collectionPath","largestBatchId"],oS=["userId","collectionGroup","largestBatchId"],uS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sS=[].concat(yt(uS),["documentOverlays"]),cS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lS=cS,fS=[].concat(lS,["indexConfiguration","indexState","indexEntries"]),hS=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return k(n)}(ub);function dS(e,t){var n=Tk(e);return hb.N(n.ee,t)}var pS=function(){function e(t,n,r,i){zr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Br(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=_x(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Br(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=_x(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=wx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Gk.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$x())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Bk(this.mutations,e.mutations,(function(e,t){return Ix(e,t)}))&&Bk(this.baseMutations,e.baseMutations,(function(e,t){return Ix(e,t)}))}}]),e}(),vS=function(){function e(t,n,r,i){zr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){Ek(t.mutations.length===r.length);for(var i=Hx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),mS=function(){function e(t,n){zr(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),yS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ob.EMPTY_BYTE_STRING;zr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),gS=k((function e(t){zr(this,e),this.ne=t}));function kS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:m_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:l_(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wS(t.version)};else{if(!t.isUnknownDocument())return Ik();r.unknownDocument={path:n.path.toArray(),version:wS(t.version)}}return r}function bS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xS(e){var t=new Kk(e.seconds,e.nanoseconds);return Gk.fromTimestamp(t)}function _S(e,t){for(var n=(t.baseMutations||[]).map((function(t){return E_(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return E_(e.ne,t)})),u=Kk.fromMillis(t.localWriteTimeMs);return new pS(t.batchId,u,n,o)}function SS(e){var t,n,r=xS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?xS(e.lastLimboFreeSnapshotVersion):Gk.min();return void 0!==e.query.documents?(Ek(1===(n=e.query).documents.length),t=Ww(jw(k_(n.documents[0])))):t=function(e){return Ww(R_(e))}(e.query),new yS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ob.fromBase64String(e.resumeToken))}function IS(e,t){var n,r=wS(t.snapshotVersion),i=wS(t.lastLimboFreeSnapshotVersion);n=bw(t.target)?T_(e.ne,t.target):C_(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:gw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ES(e){var t=R_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hw(t,t.limit,"L"):t}function TS(e,t){return new mS(t.largestBatchId,E_(e.ne,t.overlayMutation))}function CS(e,t){var n=t.path.lastSegment();return[e,V_(t.path.popLast()),n]}function RS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wS(r.readTime),documentKey:V_(r.documentKey.path),largestBatchId:r.largestBatchId}}var AS=function(){function e(){zr(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return NS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:xS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return NS(e).put({bundleId:(n=t).id,createTime:wS(d_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return PS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ES(t.bundledQuery),readTime:xS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return PS(e).put(function(e){return{name:e.name,readTime:wS(d_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function NS(e){return dS(e,"bundles")}function PS(e){return dS(e,"namedQueries")}var OS=function(){function e(t,n){zr(this,e),this.wt=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return DS(e).get(CS(this.userId,t)).next((function(e){return e?TS(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kx();return lb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new mS(t,a);i.push(r.ie(e,o))})),lb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(V_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(DS(e).W("collectionPathOverlayIndex",i))})),lb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Kx(),a=V_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return DS(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Br(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=TS(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Kx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return DS(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=TS(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return DS(e).put(function(e,t,n){var r=s(CS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:I_(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function DS(e){return dS(e,"documentOverlays")}var LS=function(){function e(){zr(this,e)}return k(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Mb(e.integerValue));else if("doubleValue"in e){var n=Mb(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Kb(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Fb(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?sw(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ik()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Yk.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function MS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function FS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=MS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}LS.ye=new LS;var US=function(){function e(){zr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Br(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Br(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=FS(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=FS(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),VS=function(){function e(t){zr(this,e),this.Oe=t}return k(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),jS=function(){function e(t){zr(this,e),this.Oe=t}return k(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),zS=function(){function e(){zr(this,e),this.Oe=new US,this.Fe=new VS(this.Oe),this.$e=new jS(this.Oe)}return k(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),BS=function(){function e(t,n,r,i){zr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=KS(e.arrayValue,t.arrayValue))?n:0!==(n=KS(e.directionalValue,t.directionalValue))?n:Yk.comparator(e.documentKey,t.documentKey)}function KS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var GS=function(){function e(t){zr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Br(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"Ge",value:function(e){var t=Jk(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Zk(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Br(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),WS=function(){function e(){zr(this,e),this.ze=new HS}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),lb.resolve()}},{key:"getCollectionParents",value:function(e,t){return lb.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return lb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return lb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return lb.resolve(null)}},{key:"getIndexType",value:function(e,t){return lb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return lb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return lb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return lb.resolve(ib.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return lb.resolve(ib.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return lb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return lb.resolve()}}]),e}(),HS=function(){function e(){zr(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rb(Hk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rb(Hk.comparator)).toArray()}}]),e}(),QS=new Uint8Array(0),$S=function(){function e(t,n){zr(this,e),this.user=t,this.databaseId=n,this.He=new HS,this.Je=new Ux((function(e){return gw(e)}),(function(e,t){return kw(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:V_(i)};return YS(e).put(a)}return lb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qk(t),""],!1,!0);return YS(e).K(r).next((function(e){var r,i=Br(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(B_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=JS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ZS(e);return a.next((function(e){o.put(RS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=JS(e),r=ZS(e),i=XS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=XS(e),i=!0,a=new Map;return lb.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=$x(),o=[];return lb.forEach(a,(function(i,a){var u;wk("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(gw(t)));var s=function(e,t){var n=Jk(t);if(void 0===n)return null;var r,i=Br(ww(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Br(Zk(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Br(ww(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Br(Zk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?xw(e,o.fieldPath,e.startAt):_w(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ow(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Br(Zk(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?_w(e,o.fieldPath,e.endAt):xw(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ow(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return lb.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Yk.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return lb.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):QS,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,yt(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new BS(e,Yk.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new BS(e,Yk.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new GS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Br(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return lb.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Rb($k.comparator),r=!1,i=Br(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Br(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new zS,i=Br(Zk(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);LS.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new zS;return LS.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new zS;return LS.ye.re(tw(this.databaseId,t),n.Be(function(e){var t=Zk(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zS);var i,a=0,o=Br(Zk(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Br(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&rw(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);LS.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=yt(e),a=[],o=Br(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Br(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zS;f.seed(l.Me()),LS.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Sw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=JS(e),i=ZS(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return lb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new tb(t.sequenceNumber,new ib(xS(t.readTime),new Yk(B_(t.documentKey)),t.largestBatchId)):tb.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new eb($k.fromServerFormat(n),r)}));return new Xk(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=JS(e),a=ZS(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return lb.forEach(t,(function(t){return a.put(RS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return lb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?lb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),lb.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?lb.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return XS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return XS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=XS(e),i=new Rb(qS);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new BS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Rb(qS),r=this.on(t,e);if(null==r)return n;var i=Jk(t);if(null!=i){var a=e.data.field(i.fieldPath);if(rw(a)){var o,u=Br(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new BS(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new BS(t.indexId,e.key,QS,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;wk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Nb(a),s=Nb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Nb(o)):l?(i(u),u=Nb(a)):(u=Nb(a),s=Nb(o))}}(r,i,qS,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),lb.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ZS(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qS(e,t)})).filter((function(e,t,n){return!t||0!==qS(e,n[t-1])}));var r=[];r.push(e);var i,a=Br(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qS(o,e),s=qS(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,QS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,QS,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(eI)}},{key:"getMinOffset",value:function(e,t){var n=this;return lb.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Ik()}))})).next(eI)}}]),e}();function YS(e){return dS(e,"collectionParents")}function XS(e){return dS(e,"indexEntries")}function JS(e){return dS(e,"indexConfiguration")}function ZS(e){return dS(e,"indexState")}function eI(e){Ek(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ab(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ib(t.readTime,t.documentKey,n)}var tI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nI=function(){function e(t,n,r){zr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ek(1===u)})));var c,l=[],f=Br(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=G_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return lb.waitFor(a).next((function(){return l}))}function iI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ik();t=e.noDocument}return JSON.stringify(t).length}nI.DEFAULT_COLLECTION_PERCENTILE=10,nI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nI.DEFAULT=new nI(41943040,nI.DEFAULT_COLLECTION_PERCENTILE,nI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nI.DISABLED=new nI(-1,0,0);var aI=function(){function e(t,n,r,i){zr(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uI(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sI(e),o=uI(e);return o.add({}).next((function(u){Ek("number"==typeof u);var s,c=new pS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return I_(e.ne,t)})),i=n.mutations.map((function(t){return I_(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Rb((function(e,t){return zk(e.canonicalString(),t.canonicalString())})),d=Br(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=G_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,W_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),lb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return uI(e).get(t).next((function(e){return e?(Ek(e.userId===n.userId),_S(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?lb.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return uI(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ek(t.batchId>=r),a=_S(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uI(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uI(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return _S(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=K_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return sI(e).J({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=B_(l);if(c===n.userId&&t.path.isEqual(h))return uI(e).get(f).next((function(e){if(!e)throw Ik();Ek(e.userId===n.userId),a.push(_S(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rb(zk),i=[];return t.forEach((function(t){var a=K_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=sI(e).J({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=B_(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),lb.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=K_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Rb(zk);return sI(e).J({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=B_(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uI(e).get(t).next((function(e){if(null===e)throw Ik();Ek(e.userId===n.userId),r.push(_S(n.wt,e))})))})),lb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rI(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),lb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return lb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sI(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=B_(e[1]);i.push(a)}else r.done()})).next((function(){Ek(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return oI(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return cI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Ek(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function oI(e,t,n){var r=K_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return sI(e).J({range:a,H:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function uI(e){return dS(e,"mutations")}function sI(e){return dS(e,"documentMutations")}function cI(e){return dS(e,"mutationQueues")}var lI=function(){function e(t){zr(this,e),this.En=t}return k(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),fI=function(){function e(t,n){zr(this,e),this.referenceDelegate=t,this.wt=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new lI(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Gk.fromTimestamp(new Kk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hI(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Ek(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hI(e).J((function(o,u){var s=SS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return lb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hI(e).J((function(e,n){var r=SS(n);t(r)}))}},{key:"bn",value:function(e){return dI(e).get("targetGlobalKey").next((function(e){return Ek(null!==e),e}))}},{key:"Pn",value:function(e,t){return dI(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return hI(e).put(IS(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=gw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hI(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=SS(n);kw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pI(e);return t.forEach((function(t){var o=V_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),lb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pI(e);return lb.forEach(t,(function(t){var a=V_(t.path);return lb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pI(e),i=$x();return r.J({range:n,H:!0},(function(e,t,n){var r=B_(e[1]),a=new Yk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=V_(t.path),r=IDBKeyRange.bound([n],[qk(n)],!1,!0),i=0;return pI(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return hI(e).get(t).next((function(e){return e?SS(e):null}))}}]),e}();function hI(e){return dS(e,"targets")}function dI(e){return dS(e,"targetGlobal")}function pI(e){return dS(e,"targetDocuments")}function vI(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=zk(r,o);return 0===c?zk(i,u):c}var mI=function(){function e(t){zr(this,e),this.Sn=t,this.buffer=new Rb(vI),this.Dn=0}return k(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();vI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),yI=function(){function e(t,n,r){zr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return k(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;wk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!vb(e.t0)){e.next=12;break}wk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,sb(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),gI=function(){function e(t,n){zr(this,e),this.Mn=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return lb.resolve(xb.ot);var r=new mI(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wk("LruGarbageCollector","Garbage collection skipped; disabled"),lb.resolve(tI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),tI):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(wk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),bk()<=Pi.DEBUG&&wk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),lb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),kI=function(){function e(t,n){zr(this,e),this.db=t,this.garbageCollector=function(e,t){return new gI(e,t)}(this,n)}return k(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bI(e,n)}},{key:"removeReference",value:function(e,t,n){return bI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bI(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return cI(e).Y((function(r){return oI(e,r,t).next((function(e){return e&&(n=!0),lb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gk.min()),pI(e).delete([0,V_(o.path)])}))}));i.push(s)}})).next((function(){return lb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bI(e,t)}},{key:"Ln",value:function(e,t){var n,r=pI(e),i=xb.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==xb.ot&&t(new Yk(B_(n)),i),i=c,n=u):i=xb.ot})).next((function(){i!==xb.ot&&t(new Yk(B_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bI(e,t){return pI(e).put(function(e,t){return{targetId:0,path:V_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var wI=function(){function e(){zr(this,e),this.changes=new Ux((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,vw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?lb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),xI=function(){function e(t){zr(this,e),this.wt=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return EI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return EI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=vw.newInvalidDocument(t);return EI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(TI(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:vw.newInvalidDocument(t)};return EI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(TI(t))},(function(e,i){r={document:n.Kn(t,i),size:iI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=jx();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=jx(),i=new Eb(Yk.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,iI(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return lb.resolve();var r=new Rb(RI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(TI(r.first()),TI(r.last())),a=r.getIterator(),o=a.getNext();return EI(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yk.fromSegments([].concat(yt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&RI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(TI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),bS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return EI(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=jx(),i=Br(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Yk.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=jx(),o=CI(t,n),u=CI(t,ib.max());return EI(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Yk.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new SI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return II(e).get("remoteDocumentGlobalKey").next((function(e){return Ek(!!e),e}))}},{key:"qn",value:function(e,t){return II(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=__(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yk.fromSegments(t.noDocument.path),i=xS(t.noDocument.readTime);n=vw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ik();var a=Yk.fromSegments(t.unknownDocument.path),o=xS(t.unknownDocument.version);n=vw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Kk(e[0],e[1]);return Gk.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Gk.min()))return n}return vw.newInvalidDocument(e)}}]),e}();function _I(e){return new xI(e)}var SI=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Ux((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rb((function(e,t){return zk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=kS(t.zn.wt,o);i=i.add(a.path.popLast());var c=iI(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=kS(t.zn.wt,o.convertToNoDocument(Gk.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),lb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(wI);function II(e){return dS(e,"remoteDocumentGlobal")}function EI(e){return dS(e,"remoteDocumentsV14")}function TI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CI(e,t){var n=t.documentKey.path.toArray();return[e,bS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=zk(n[a],r[a]))return i;return(i=zk(n.length,r.length))||((i=zk(n[n.length-2],r[r.length-2]))||zk(n[n.length-1],r[r.length-1]))}var AI=k((function e(t,n){zr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),NI=function(){function e(t,n,r,i){zr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return k(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&_x(r.mutation,e,Pb.empty(),Kk.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,$x()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$x(),i=Kx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Bx();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Kx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,$x())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=jx(),a=Wx(),o=Wx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Tx)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),_x(o.mutation,t,o.mutation.getFieldMask(),Kk.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new AI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Wx(),i=new Eb((function(e,t){return e-t})),a=$x();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Br(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Pb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||$x()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gx();c.forEach((function(e){if(!a.has(e)){var n=wx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return lb.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):lb.resolve(Kx()),u=-1,s=a;return o.next((function(t){return lb.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?lb.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,$x())})).next((function(e){return{batchId:u,changes:qx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Yk(t)).next((function(e){var t=Bx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Bx();return this.indexManager.getCollectionParents(e,i).next((function(o){return lb.forEach(o,(function(o){var u=function(e,t){return new Uw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,vw.newInvalidDocument(n)))}));var n=Bx();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&_x(a.mutation,i,Pb.empty(),Kk.now()),Xw(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):lb.resolve(vw.newInvalidDocument(t))}}]),e}(),PI=function(){function e(t){zr(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return lb.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:d_(n.createTime)}),lb.resolve()}},{key:"getNamedQuery",value:function(e,t){return lb.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:ES(e.bundledQuery),readTime:d_(e.readTime)}}(t)),lb.resolve()}}]),e}(),OI=function(){function e(){zr(this,e),this.overlays=new Eb(Yk.comparator),this.Xn=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return lb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kx();return lb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),lb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),lb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Kx(),i=t.length+1,a=new Yk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return lb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Eb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Kx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Kx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return lb.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new mS(t,n));var a=this.Xn.get(t);void 0===a&&(a=$x(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),DI=function(){function e(){zr(this,e),this.Zn=new Rb(LI.ts),this.es=new Rb(LI.ns)}return k(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new LI(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new LI(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Yk(new Hk([])),r=new LI(n,e),i=new LI(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Yk(new Hk([])),n=new LI(t,e),r=new LI(t,e+1),i=$x();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new LI(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),LI=function(){function e(t,n){zr(this,e),this.key=t,this.ls=n}return k(e,null,[{key:"ts",value:function(e,t){return Yk.comparator(e.key,t.key)||zk(e.ls,t.ls)}},{key:"ns",value:function(e,t){return zk(e.ls,t.ls)||Yk.comparator(e.key,t.key)}}]),e}(),MI=function(){function e(t,n){zr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Rb(LI.ts)}return k(e,[{key:"checkEmpty",value:function(e){return lb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new pS(i,t,n,r);this.mutationQueue.push(a);var o,u=Br(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new LI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return lb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return lb.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return lb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return lb.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return lb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new LI(t,0),i=new LI(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),lb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rb(zk);return t.forEach((function(e){var t=new LI(e,0),i=new LI(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),lb.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yk.isDocumentKey(i)||(i=i.child(""));var a=new LI(new Yk(i),0),o=new Rb(zk);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),lb.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ek(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return lb.forEach(t.mutations,(function(i){var a=new LI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new LI(t,0),r=this.ds.firstAfterOrEqual(n);return lb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,lb.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),FI=function(){function e(t){zr(this,e),this.ps=t,this.docs=new Eb(Yk.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return lb.resolve(n?n.document.mutableCopy():vw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jx();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():vw.newInvalidDocument(e))})),lb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=jx(),i=new Yk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ab(rb(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return lb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ik()}},{key:"Is",value:function(e,t){return lb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new UI(this)}},{key:"getSize",value:function(e){return lb.resolve(this.size)}}]),e}(),UI=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).zn=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),lb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(wI),VI=function(){function e(t){zr(this,e),this.persistence=t,this.Ts=new Ux((function(e){return gw(e)}),kw),this.lastRemoteSnapshotVersion=Gk.min(),this.highestTargetId=0,this.Es=0,this.As=new DI,this.targetCount=0,this.Rs=lI.An()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),lb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return lb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return lb.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),lb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),lb.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new lI(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,lb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),lb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,lb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),lb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return lb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return lb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),lb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),lb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),lb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return lb.resolve(n)}},{key:"containsKey",value:function(e,t){return lb.resolve(this.As.containsKey(t))}}]),e}(),jI=function(){function e(t,n){var r=this;zr(this,e),this.bs={},this.overlays={},this.Ps=new xb(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new VI(this),this.indexManager=new WS,this.remoteDocumentCache=new FI((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new gS(n),this.Ds=new PI(this.wt)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new OI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new MI(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;wk("MemoryPersistence","Starting transaction:",e);var i=new zI(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return lb.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),zI=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(ub),BI=function(){function e(t){zr(this,e),this.persistence=t,this.ks=new DI,this.Ms=null}return k(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw Ik()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),lb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),lb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),lb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lb.forEach(this.Fs,(function(r){var i=Yk.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Gk.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return lb.or([function(){return lb.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),qI=function(){function e(t){zr(this,e),this.wt=t}return k(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new fb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q_,{unique:!0}),e.createObjectStore("documentMutations")}(e),KI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=lb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),KI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Gk.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return lb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:iS});t.createIndex("collectionPathOverlayIndex",aS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",oS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:H_});t.createIndex("documentKeyIndex",Q_),t.createIndex("collectionGroupIndex",$_)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:eS}).createIndex("sequenceNumberIndex",tS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:nS}).createIndex("documentKeyIndex",rS,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=iI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return lb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return lb.forEach(r,(function(r){Ek(r.userId===n.userId);var i=_S(t.wt,r);return rI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Hk(n),o=function(e){return[0,V_(e)]}(a);r.push(t.get(o).next((function(n){return n?lb.resolve():function(n){return t.put({targetId:0,path:V_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return lb.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Z_});var n=t.store("collectionParents"),r=new HS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:V_(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Hk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],B_(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=SS(r),a=IS(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yk(Hk.fromString(i.document.name).popFirst(5)):i.noDocument?Yk.fromSegments(i.noDocument.path):i.unknownDocument?Yk.fromSegments(i.unknownDocument.path):Ik()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return lb.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=_I(this.wt),a=new jI(BI.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:$x();_S(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),lb.forEach(r,(function(e,r){var o=new yk(r),u=OS.se(n.wt,o),s=a.getIndexManager(o),c=aI.se(o,n.wt,s,a.referenceDelegate);return new NI(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hS(t,xb.ot),e).next()}))}))}}]),e}();function KI(e){e.createObjectStore("targetDocuments",{keyPath:X_}).createIndex("documentTargetsIndex",J_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Y_,{unique:!0}),e.createObjectStore("targetGlobal")}var GI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(zr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Rk(Ck.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kI(this,i),this.ei=n+"main",this.wt=new gS(s),this.ni=new hb(this.ei,this.Hs,new qI(this.wt)),this.Vs=new fI(this.referenceDelegate,this.wt),this.remoteDocumentCache=_I(this.wt),this.Ds=new AS,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&xk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rk(Ck.FAILED_PRECONDITION,GI);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new xb(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Ti(Ii().mark((function n(r){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Ti(Ii().mark((function t(n){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return QI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(vb(t))return wk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return wk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return HI(e).get("owner").next((function(e){return lb.resolve(t.di(e))}))}},{key:"_i",value:function(e){return QI(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i,a=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dS(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return lb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Br(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?lb.resolve(!0):HI(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Rk(Ck.FAILED_PRECONDITION,GI);return!1}}return!(!t.networkEnabled||!t.inForeground)||QI(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&wk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ti(Ii().mark((function e(){var t=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hS(e,xb.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return QI(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return aI.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new $S(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return OS.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;wk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?fS:14===i?lS:13===i?cS:12===i?sS:11===i?uS:void Ik();return this.ni.runTransaction(e,o,u,(function(i){return a=new hS(i,r.Ps?r.Ps.next():xb.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw xk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Rk(Ck.FAILED_PRECONDITION,ob);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return HI(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Rk(Ck.FAILED_PRECONDITION,GI)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return HI(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=HI(e);return n.get("owner").next((function(e){return t.di(e)?(wk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):lb.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(xk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!oi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return wk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(yv){xk("Failed to set zombie client id.",yv)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(yv){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return hb.V()}}]),e}();function HI(e){return dS(e,"owner")}function QI(e){return dS(e,"clientMetadata")}function $I(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YI=function(){function e(t,n,r,i){zr(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return k(e,null,[{key:"Vi",value:function(t,n){var r,i=$x(),a=$x(),o=Br(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),XI=function(){function e(){zr(this,e),this.Si=!1}return k(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(zw(t))return lb.resolve(null);var r=Ww(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Hw(t,null,"F"),r=Ww(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=$x.apply(void 0,yt(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,Hw(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return zw(t)||r.isEqual(Gk.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(bk()<=Pi.DEBUG&&wk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yw(t)),i.Oi(e,o,t,nb(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Rb(Zw(e));return t.forEach((function(t,r){Xw(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return bk()<=Pi.DEBUG&&wk("QueryEngine","Using full collection scan to execute query:",Yw(t)),this.Di.getDocumentsMatchingQuery(e,t,ib.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),JI=function(){function e(t,n,r,i){zr(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Eb(zk),this.Bi=new Ux((function(e){return gw(e)}),kw),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return k(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function ZI(e,t,n,r){return new JI(e,t,n,r)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=$x(),s=Br(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Br(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Br(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Br(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){var n=Tk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=lb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ek(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=$x(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function rE(e){var t=Tk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function iE(e,t){var n=Tk(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ob.EMPTY_BYTE_STRING,Gk.min()).withLastLimboFreeSnapshotVersion(Gk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=jx(),s=$x();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aE(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Gk.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return lb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function aE(e,t,n){var r=$x(),i=$x();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jx();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Gk.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):wk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function oE(e,t){var n=Tk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function uE(e,t){var n=Tk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,lb.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new yS(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function sE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tk(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),vb(e.t1)){e.next=12;break}throw e.t1;case 12:wk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cE.apply(this,arguments)}function lE(e,t,n){var r=Tk(e),i=Gk.min(),a=$x();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Tk(e),i=r.Bi.get(n);return void 0!==i?lb.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Ww(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Gk.min(),n?a:$x())})).next((function(e){return dE(r,Jw(t),e),{documents:e,ji:a}}))}))}function fE(e,t){var n=Tk(e),r=Tk(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function hE(e,t){var n=Tk(e),r=n.Li.get(t)||Gk.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,nb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return dE(n,t,e),e}))}function dE(e,t,n){var r=Gk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function pE(e,t,n,r){return vE.apply(this,arguments)}function vE(){return vE=Ti(Ii().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Tk(t),o=$x(),u=jx(),s=Br(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,uE(a,function(e){return Ww(jw(Hk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return aE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Ti(Ii().mark((function e(t,n){var r,i,a,o=arguments;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:$x(),e.next=3,uE(t,Ww(ES(n.bundledQuery)));case 3:return i=e.sent,a=Tk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=d_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Ob.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wE=function(){function e(t,n,r,i){zr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Rk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(xk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xE=function(){function e(t,n,r){zr(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Rk(i.error.code,i.error.message))),a?new e(t,i.state,r):(xk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_E=function(){function e(t,n){zr(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Xx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(xk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),SE=function(){function e(t,n){zr(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),IE=function(){function e(){zr(this,e),this.activeTargetIds=Xx()}return k(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),EE=function(){function e(t,n,r,i,a){zr(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Eb(zk),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=gE(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new IE),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return k(e,[{key:"start",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Br(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gE(this.persistenceKey,i)))&&(o=_E.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Br(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bE(this.persistenceKey,e));if(n){var r=xE.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return wk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){wk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){wk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(wk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void xk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Ti(Ii().mark((function e(){var r,i,a,o,u,s,c;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=xb.ot;if(null!=e)try{var n=JSON.parse(e);Ek("number"==typeof n),t=n}catch(e){xk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==xb.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new wE(this.currentUser,e,t,n),i=kE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=kE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=bE(this.persistenceKey,e),i=new xE(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return _E.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wE.Ji(new yk(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return xE.Ji(r,t)}},{key:"wr",value:function(e){return SE.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:wk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Xx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TE=function(){function e(){zr(this,e),this.Fr=new IE,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new IE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CE=function(){function e(){zr(this,e)}return k(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),RE=function(){function e(){var t=this;zr(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return k(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){wk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Br(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){wk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Br(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),AE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NE=function(){function e(t){zr(this,e),this.jr=t.jr,this.Wr=t.Wr}return k(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),PE=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return k(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new vk;o.listenOnce(lk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ck.NO_ERROR:var t=o.getResponseJson();wk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ck.TIMEOUT:wk("Connection",'RPC "'+e+'" timed out'),a(new Rk(Ck.DEADLINE_EXCEEDED,"Request time out"));break;case ck.HTTP_ERROR:var n=o.getStatus();if(wk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ck).indexOf(t)>=0?t:Ck.UNKNOWN}(r.status);a(new Rk(u,r.message))}else a(new Rk(Ck.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Rk(Ck.UNAVAILABLE,"Connection failed."));break;default:Ik()}}finally{wk("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uk(),a=sk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new dk({})),this.uo(o.initMessageHeaders,t,n),ai()||si()||ii().indexOf("Electron/")>=0||ci()||ii().indexOf("MSAppHost/")>=0||ui()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");wk("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new NE({jr:function(e){l?wk("Connection","Not sending because WebChannel is closed:",e):(c||(wk("Connection","Opening WebChannel transport."),s.open(),c=!0),wk("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,pk.EventType.OPEN,(function(){l||wk("Connection","WebChannel transport opened.")})),h(s,pk.EventType.CLOSE,(function(){l||(l=!0,wk("Connection","WebChannel transport closed"),f.eo())})),h(s,pk.EventType.ERROR,(function(e){l||(l=!0,_k("Connection","WebChannel transport errored:",e),f.eo(new Rk(Ck.UNAVAILABLE,"The operation could not be completed")))})),h(s,pk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ek(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){wk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Nx[e];if(void 0!==t)return Fx(t)}(a),u=i.message;void 0===o&&(o=Ck.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Rk(o,u)),s.close()}else wk("Connection","WebChannel received:",n),f.no(n)}})),h(a,fk.STAT_EVENT,(function(e){e.stat===hk.PROXY?wk("Connection","Detected buffering proxy"):e.stat===hk.NOPROXY&&wk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){zr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return k(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);wk("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return wk("RestConnection","Received: ",e),e}),(function(t){throw _k("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=AE[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function OE(){return"undefined"!=typeof window?window:null}function DE(){return"undefined"!=typeof document?document:null}function LE(e){return new c_(e,!0)}var ME=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;zr(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&wk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),FE=function(){function e(t,n,r,i,a,o,u,s){zr(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ME(t,n)}return k(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Ck.RESOURCE_EXHAUSTED?(xk(n.toString()),xk("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Ck.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Rk(Ck.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return wk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(wk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),UE=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a,o,u){var s;return zr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return k(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ik()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Ek(void 0===t||"string"==typeof t),Ob.fromBase64String(t||"")):(Ek(void 0===t||t instanceof Uint8Array),Ob.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ck.UNKNOWN:Fx(e.code);return new Rk(t,e.message||"")}(o);n=new n_(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=y_(e,s.document.name),l=d_(s.document.updateTime),f=new dw({mapValue:{fields:s.document.fields}}),h=vw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new e_(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=y_(e,v.document),y=v.readTime?d_(v.readTime):Gk.min(),g=vw.newNoDocument(m,y),k=v.removedTargetIds||[];n=new e_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=y_(e,b.document),x=b.removedTargetIds||[];n=new e_([],x,w,null)}else{if(!("filter"in t))return Ik();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Lx(S),E=_.targetId;n=new t_(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Gk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gk.min():t.readTime?d_(t.readTime):Gk.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=b_(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=bw(r)?{documents:T_(e,r)}:{query:C_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=f_(e,t.resumeToken):t.snapshotVersion.compareTo(Gk.min())>0&&(n.readTime=l_(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ik()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=b_(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(FE),VE=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a,o,u){var s;return zr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return k(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,to(Kr(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Ek(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Ek(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?d_(e.updateTime):d_(t);return n.isEqual(Gk.min())&&(n=d_(t)),new yx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=d_(e.commitTime);return this.listener.Jo(n,t)}return Ek(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=b_(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return I_(t.wt,e)}))};this.Oo(n)}}]),n}(FE),jE=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a){var o;return zr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return k(n,[{key:"tu",value:function(){if(this.Zo)throw new Rk(Ck.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ck.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Rk(Ck.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.bo.ao(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ck.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Rk(Ck.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return k((function e(){zr(this,e)}))}()),zE=function(){function e(t,n){zr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return k(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(xk(t),this.su=!1):wk("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),BE=k((function e(t,n,r,i,a){var o=this;zr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ZE(o),!e.t0){e.next=5;break}return wk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tk(t)).lu.add(4),e.next=4,GE(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,qE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new zE(r,i)}));function qE(e){return KE.apply(this,arguments)}function KE(){return KE=Ti(Ii().mark((function e(t){var n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZE(t)){e.next=18;break}n=Br(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),KE.apply(this,arguments)}function GE(e){return WE.apply(this,arguments)}function WE(){return WE=Ti(Ii().mark((function e(t){var n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Br(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),WE.apply(this,arguments)}function HE(e,t){var n=Tk(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),JE(n)?XE(n):CT(n).Co()&&$E(n,t))}function QE(e,t){var n=Tk(e),r=CT(n);n.hu.delete(t),r.Co()&&YE(n,t),0===n.hu.size&&(r.Co()?r.ko():ZE(n)&&n._u.set("Unknown"))}function $E(e,t){e.wu.Nt(t.targetId),CT(e).Qo(t)}function YE(e,t){e.wu.Nt(t),CT(e).jo(t)}function XE(e){e.wu=new i_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),CT(e).start(),e._u.iu()}function JE(e){return ZE(e)&&!CT(e).Do()&&e.hu.size>0}function ZE(e){return 0===Tk(e).lu.size}function eT(e){e.wu=void 0}function tT(e){return nT.apply(this,arguments)}function nT(){return nT=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){$E(t,e)}));case 1:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eT(t),JE(t)?(t._u.uu(n),XE(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t,n){return oT.apply(this,arguments)}function oT(){return oT=Ti(Ii().mark((function e(t,n,r){var i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof n_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Br(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),wk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof e_?t.wu.Ut(n):n instanceof t_?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Gk.min())){e.next=29;break}return e.prev=14,e.next=17,rE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Ob.EMPTY_BYTE_STRING,n.snapshotVersion)),YE(e,t);var r=new yS(n.target,t,1,n.sequenceNumber);$E(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),wk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),oT.apply(this,arguments)}function uT(e,t,n){return sT.apply(this,arguments)}function sT(){return sT=Ti(Ii().mark((function e(t,n,r){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vb(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,GE(t);case 5:t._u.set("Offline"),r||(r=function(){return rE(t.localStore)}),t.asyncQueue.enqueueRetryable(Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,qE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function cT(e,t){return t().catch((function(n){return uT(e,n,t)}))}function lT(e){return fT.apply(this,arguments)}function fT(){return fT=Ti(Ii().mark((function e(t){var n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tk(t),r=RT(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!hT(n)){e.next=19;break}return e.prev=3,e.next=6,oE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,dT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uT(n,e.t0);case 17:e.next=2;break;case 19:pT(n)&&vT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fT.apply(this,arguments)}function hT(e){return ZE(e)&&e.au.length<10}function dT(e,t){e.au.push(t);var n=RT(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function pT(e){return ZE(e)&&!RT(e).Do()&&e.au.length>0}function vT(e){RT(e).start()}function mT(e){return yT.apply(this,arguments)}function yT(){return yT=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RT(t).Xo();case 1:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e){return kT.apply(this,arguments)}function kT(){return kT=Ti(Ii().mark((function e(t){var n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=RT(t),r=Br(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e,t,n){return wT.apply(this,arguments)}function wT(){return wT=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=vS.from(i,n,r),e.next=3,cT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lT(t);case 5:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(e,t){return _T.apply(this,arguments)}function _T(){return _T=Ti(Ii().mark((function e(t,n){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&RT(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mx(i=n.code)||i===Ck.ABORTED){e.next=7;break}return r=t.au.shift(),RT(t).No(),e.next=5,cT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pT(t)&&vT(t);case 5:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function ST(e,t){return IT.apply(this,arguments)}function IT(){return IT=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Tk(t)).asyncQueue.verifyOperationInProgress(),wk("RemoteStore","RemoteStore received new credentials"),i=ZE(r),r.lu.add(3),e.next=6,GE(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,qE(r);case 12:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ET(e,t){return TT.apply(this,arguments)}function TT(){return TT=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tk(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,qE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,GE(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e){return e.mu||(e.mu=function(e,t,n){var r=Tk(e);return r.tu(),new UE(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:tT.bind(null,e),Jr:rT.bind(null,e),Go:aT.bind(null,e)}),e.fu.push(function(){var t=Ti(Ii().mark((function t(n){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),JE(e)?XE(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:eT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function RT(e){return e.gu||(e.gu=function(e,t,n){var r=Tk(e);return r.tu(),new VE(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:mT.bind(null,e),Jr:xT.bind(null,e),Yo:gT.bind(null,e),Jo:bT.bind(null,e)}),e.fu.push(function(){var t=Ti(Ii().mark((function t(n){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,lT(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(wk("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var AT=function(){function e(t,n,r,i,a){zr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ak,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rk(Ck.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NT(e,t){if(xk("AsyncQueue","".concat(t,": ").concat(e)),vb(e))return new Rk(Ck.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var PT=function(){function e(t){zr(this,e),this.comparator=t?function(e,n){return t(e,n)||Yk.comparator(e.key,n.key)}:function(e,t){return Yk.comparator(e.key,t.key)},this.keyedMap=Bx(),this.sortedSet=new Eb(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),OT=function(){function e(){zr(this,e),this.yu=new Eb(Yk.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ik():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),DT=function(){function e(t,n,r,i,a,o,u,s){zr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,PT.emptySet(n),a,r,i,!0,!1)}}]),e}(),LT=k((function e(){zr(this,e),this.Iu=void 0,this.listeners=[]})),MT=k((function e(){zr(this,e),this.queries=new Ux((function(e){return $w(e)}),Qw),this.onlineState="Unknown",this.Tu=new Set}));function FT(e,t){return UT.apply(this,arguments)}function UT(){return UT=Ti(Ii().mark((function e(t,n){var r,i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new LT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=NT(e.t0,"Initialization of query '".concat(Yw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&qT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),UT.apply(this,arguments)}function VT(e,t){return jT.apply(this,arguments)}function jT(){return jT=Ti(Ii().mark((function e(t,n){var r,i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function zT(e,t){var n,r=Tk(e),i=!1,a=Br(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Br(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&qT(r)}function BT(e,t,n){var r=Tk(e),i=r.queries.get(t);if(i){var a,o=Br(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function qT(e){e.Tu.forEach((function(e){e.next()}))}var KT=function(){function e(t,n,r){zr(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Br(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new DT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=DT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),GT=function(){function e(t,n){zr(this,e),this.payload=t,this.byteLength=n}return k(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),WT=function(){function e(t){zr(this,e),this.wt=t}return k(e,[{key:"Wi",value:function(e){return y_(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?__(this.wt,e.document,!1):vw.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return d_(e)}}]),e}(),HT=function(){function e(t,n,r){zr(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QT(t)}return k(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Hk.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new WT(this.wt),i=Br(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Br(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||$x()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pE(this.localStore,new WT(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Br(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,mE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function QT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var $T=k((function e(t){zr(this,e),this.key=t})),YT=k((function e(t){zr(this,e),this.key=t})),XT=function(){function e(t,n){zr(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=$x(),this.mutatedKeys=$x(),this.Lu=Zw(t),this.Uu=new PT(this.Lu)}return k(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new OT,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Xw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ik()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new DT(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new OT,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=$x(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new YT(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new $T(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=$x();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return DT.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),JT=k((function e(t,n,r){zr(this,e),this.query=t,this.targetId=n,this.view=r})),ZT=k((function e(t){zr(this,e),this.key=t,this.Xu=!1})),eC=function(){function e(t,n,r,i,a,o){zr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Ux((function(e){return $w(e)}),Qw),this.ec=new Map,this.nc=new Set,this.sc=new Eb(Yk.comparator),this.ic=new Map,this.rc=new DI,this.oc={},this.uc=new Map,this.cc=lI.Rn(),this.onlineState="Unknown",this.ac=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function tC(e,t){return nC.apply(this,arguments)}function nC(){return nC=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QC(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,uE(r.localStore,Ww(n));case 8:return u=e.sent,r.isPrimaryClient&&HE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,rC(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t,n,r){return iC.apply(this,arguments)}function iC(){return iC=Ti(Ii().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ti(Ii().mark((function e(t,n,r,i){var a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,lE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(SC(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lE(t.localStore,n,!0);case 3:return a=e.sent,o=new XT(n,a.ji),u=o.Ku(a.documents),s=Zx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),SC(t,r,c.zu),l=new JT(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tk(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!Qw(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),QE(r.remoteStore,i.targetId),xC(r,i.targetId)})).catch(sb);case 9:e.next=14;break;case 11:return xC(r,i.targetId),e.next=14,sE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Ti(Ii().mark((function e(t,n,r){var i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$C(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Tk(e),a=Kk.now(),o=t.reduce((function(e,t){return e.add(t.key)}),$x());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=jx(),s=$x();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Br(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Sx(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Tx(c.key,l,pw(l.value.mapValue),gx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:qx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Eb(zk)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TC(i,a.changes);case 9:return e.next=11,lT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),e.prev=1,e.next=4,iE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Ek(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Ek(n.Xu):e.removedDocuments.size>0&&(Ek(n.Xu),n.Xu=!1))})),e.next=8,TC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,sb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),lC.apply(this,arguments)}function fC(e,t,n){var r=Tk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Tk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Br(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qT(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hC(e,t,n){return dC.apply(this,arguments)}function dC(){return dC=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s,c;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Tk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Eb(Yk.comparator)).insert(o,vw.newNoDocument(o,Gk.min())),s=$x().add(o),c=new Jx(Gk.min(),new Map,new Rb(zk),u,s),e.next=9,cC(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),EC(i),e.next=16;break;case 14:return e.next=16,sE(i.localStore,n,!1).then((function(){return xC(i,n,r)})).catch(sb);case 16:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),i=n.batch.batchId,e.prev=1,e.next=4,nE(r.localStore,n);case 4:return a=e.sent,wC(r,i,null),bC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vC.apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tk(t),e.prev=1,e.next=4,function(e,t){var n=Tk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ek(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wC(i,n,r),bC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,sb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yC.apply(this,arguments)}function gC(e,t){return kC.apply(this,arguments)}function kC(){return kC=Ti(Ii().mark((function e(t,n){var r,i,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZE((r=Tk(t)).remoteStore)||wk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Tk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=NT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),kC.apply(this,arguments)}function bC(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function wC(e,t,n){var r=Tk(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function xC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Br(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||_C(e,t)}))}function _C(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(QE(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),EC(e))}function SC(e,t,n){var r,i=Br(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $T?(e.rc.addReference(a.key,t),IC(e,a)):a instanceof YT?(wk("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||_C(e,a.key)):Ik()}}catch(o){i.e(o)}finally{i.f()}}function IC(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(wk("SyncEngine","New document in limbo: "+n),e.nc.add(r),EC(e))}function EC(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Yk(Hk.fromString(t)),r=e.cc.next();e.ic.set(r,new ZT(n)),e.sc=e.sc.insert(n,r),HE(e.remoteStore,new yS(Ww(jw(n.path)),r,2,xb.ot))}}function TC(e,t,n){return CC.apply(this,arguments)}function CC(){return CC=Ti(Ii().mark((function e(t,n,r){var i,a,o,u;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Tk(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=YI.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return lb.forEach(n,(function(t){return lb.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return lb.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),vb(e.t0)){e.next=10;break}throw e.t0;case 10:wk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Br(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function RC(e,t){return AC.apply(this,arguments)}function AC(){return AC=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Tk(t)).currentUser.isEqual(n)){e.next=11;break}return wk("SyncEngine","User change. New user:",n.toKey()),e.next=5,eE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Rk(Ck.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TC(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function NC(e,t){var n=Tk(e),r=n.ic.get(t);if(r&&r.Xu)return $x().add(r.key);var i=$x(),a=n.ec.get(t);if(!a)return i;var o,u=Br(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function PC(e,t){return OC.apply(this,arguments)}function OC(){return OC=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),e.next=3,lE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&SC(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function DC(e,t){return LC.apply(this,arguments)}function LC(){return LC=Ti(Ii().mark((function e(t,n){var r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),e.abrupt("return",hE(r.localStore,n).then((function(e){return TC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function MC(e,t,n,r){return FC.apply(this,arguments)}function FC(){return FC=Ti(Ii().mark((function e(t,n,r,i){var a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tk(t),e.next=3,function(e,t){var n=Tk(e),r=Tk(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):lb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,lT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(wC(a,n,i||null),bC(a,n),function(e,t){Tk(Tk(e).mutationQueue).In(t)}(a.localStore,n)):Ik();case 11:return e.next=13,TC(a,o);case 13:e.next=16;break;case 15:wk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QC(r=Tk(t)),$C(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jC(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,ET(r.remoteStore,!0);case 9:o=Br(a);try{for(o.s();!(u=o.n()).done;)s=u.value,HE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return xC(r,t),sE(r.localStore,t,!0)})),QE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jC(r,c);case 21:return function(e){var t=Tk(e);t.ic.forEach((function(e,n){QE(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Eb(Yk.comparator)}(r),r.ac=!1,e.next=25,ET(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function jC(e,t,n){return zC.apply(this,arguments)}function zC(){return zC=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Tk(t),a=[],o=[],u=Br(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,uE(i.localStore,Ww(f[0]));case 11:l=e.sent,h=Br(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,PC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fE(i.localStore,c);case 36:return y=e.sent,e.next=39,uE(i.localStore,y);case 39:return l=e.sent,e.next=42,rC(i,BC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zC.apply(this,arguments)}function BC(e){return Vw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qC(e){var t=Tk(e);return Tk(Tk(t.localStore).persistence).Ri()}function KC(e,t,n,r){return GC.apply(this,arguments)}function GC(){return GC=Ti(Ii().mark((function e(t,n,r,i){var a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Tk(t)).ac){e.next=3;break}return e.abrupt("return",void wk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hE(a.localStore,Jw(o[0]));case 10:return u=e.sent,s=Jx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,TC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,sE(a.localStore,n,!0);case 17:return xC(a,n,i),e.abrupt("break",20);case 19:Ik();case 20:case"end":return e.stop()}}),e)}))),GC.apply(this,arguments)}function WC(e,t,n){return HC.apply(this,arguments)}function HC(){return HC=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=QC(t)).ac){e.next=45;break}a=Br(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return wk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fE(i.localStore,u);case 12:return s=e.sent,e.next=15,uE(i.localStore,s);case 15:return c=e.sent,e.next=18,rC(i,BC(s),c.targetId,!1);case 18:HE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Br(r),e.prev=30,h=Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,sE(i.localStore,t,!1).then((function(){QE(i.remoteStore,t),xC(i,t)})).catch(sb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),HC.apply(this,arguments)}function QC(e){var t=Tk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hC.bind(null,t),t.Zu.Go=zT.bind(null,t.eventManager),t.Zu.lc=BT.bind(null,t.eventManager),t}function $C(e){var t=Tk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,t),t}function YC(e,t,n){var r=Tk(e);(function(){var e=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Tk(e),r=d_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(QT(i)),a=new HT(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,TC(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Tk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(_k("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var XC=function(){function e(){zr(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=LE(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return ZI(this.persistence,new XI,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new jI(BI.Os,this.wt)}},{key:"dc",value:function(e){return new TE}},{key:"terminate",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JC=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=Ti(Ii().mark((function e(t){var r=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(Kr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,$C(this.yc.syncEngine);case 6:return e.next=8,lT(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return ZI(this.persistence,new XI,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new yI(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new wb(t,this.persistence);return new bb(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=$I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nI.withCacheSize(this.cacheSizeBytes):nI.DEFAULT;return new WI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,OE(),DE(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new TE}}]),n}(XC),ZC=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=Ti(Ii().mark((function e(t){var r,i=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(Kr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof EE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:MC.bind(null,r),Mr:KC.bind(null,r),Or:WC.bind(null,r),Ri:qC.bind(null,r),Nr:DC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UC(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=OE();if(!EE.V(t))throw new Rk(Ck.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new EE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(JC),eR=function(){function e(){zr(this,e)}return k(e,[{key:"initialize",value:function(){var e=Ti(Ii().mark((function e(t,n){var r=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),e.next=12,ET(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new MT}},{key:"createDatastore",value:function(e){var t,n=LE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new PE(t));return function(e,t,n,r){return new jE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fC(o.syncEngine,e,0)},a=RE.V()?new RE:new CE,new BE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new eC(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tk(t),wk("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,GE(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ti(Ii().mark((function r(){var i;return Ii().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nR=function(){function e(t){zr(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):xk("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),rR=function(){function e(t,n){var r=this;zr(this,e),this.Ec=t,this.wt=n,this.metadata=new Ak,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Ti(Ii().mark((function e(){var t,n,r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new GT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Ti(Ii().mark((function e(){var t,n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Ti(Ii().mark((function e(){var t,n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iR=function(){function e(t){zr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=Ti(Ii().mark((function e(t){var n,r=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Rk(Ck.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),i=b_(r.wt)+"/documents",a={documents:n.map((function(e){return m_(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=S_(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ek(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ox(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ti(Ii().mark((function e(){var t,n=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yk.fromPath(t);n.mutations.push(new Dx(r,n.precondition(r)))})),e.next=7,function(){var e=Ti(Ii().mark((function e(t,n){var r,i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tk(t),i=b_(r.wt)+"/documents",a={writes:n.map((function(e){return I_(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ik();t=Gk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rk(Ck.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?gx.updateTime(t):gx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gk.min()))throw new Rk(Ck.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gx.updateTime(t)}return gx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),aR=function(){function e(t,n,r,i,a){zr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new ME(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Ti(Ii().mark((function t(){var n,r;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new iR(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!qb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Mx(t)}return!1}}]),e}(),oR=function(){function e(t,n,r,i){var a=this;zr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yk.UNAUTHENTICATED,this.clientId=jk.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return wk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=Ti(Ii().mark((function e(){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rk(Ck.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ak;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ti(Ii().mark((function n(){var r;return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uR(e,t){return sR.apply(this,arguments)}function sR(){return sR=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),wk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function cR(e,t){return lR.apply(this,arguments)}function lR(){return lR=Ti(Ii().mark((function e(t,n){var r,i;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fR(t);case 3:return r=e.sent,wk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ST(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ST(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e){return hR.apply(this,arguments)}function hR(){return hR=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return wk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uR(t,new XC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(e){return pR.apply(this,arguments)}function pR(){return pR=Ti(Ii().mark((function e(t){return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return wk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cR(t,new eR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),pR.apply(this,arguments)}function vR(e){return fR(e).then((function(e){return e.persistence}))}function mR(e){return fR(e).then((function(e){return e.localStore}))}function yR(e){return dR(e).then((function(e){return e.remoteStore}))}function gR(e){return dR(e).then((function(e){return e.syncEngine}))}function kR(e){return bR.apply(this,arguments)}function bR(){return bR=Ti(Ii().mark((function e(t){var n,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tC.bind(null,n.syncEngine),r.onUnlisten=aC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function wR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function i(){return Ii().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nR({next:function(a){t.enqueueAndForget((function(){return VT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Rk(Ck.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Rk(Ck.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new KT(jw(n.path),a,{includeMetadataChanges:!0,Du:!0});return FT(e,o)},i.next=3,kR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function i(){return Ii().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nR({next:function(n){t.enqueueAndForget((function(){return VT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Rk(Ck.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new KT(n,a,{includeMetadataChanges:!0,Du:!0});return FT(e,o)},i.next=3,kR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var _R=new Map;function SR(e,t,n){if(!n)throw new Rk(Ck.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IR(e,t,n,r){if(!0===t&&!0===r)throw new Rk(Ck.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ER(e){if(!Yk.isDocumentKey(e))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TR(e){if(Yk.isDocumentKey(e))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function CR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ik()}function RR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rk(Ck.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CR(e);throw new Rk(Ck.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function AR(e,t){if(t<=0)throw new Rk(Ck.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NR=function(){function e(t){var n;if(zr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Rk(Ck.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rk(Ck.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),PR=function(){function e(t,n,r){zr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NR({}),this._settingsFrozen=!1,t instanceof Bb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rk(Ck.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bb(e.options.projectId)}(t))}return k(e,[{key:"app",get:function(){if(!this._app)throw new Rk(Ck.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Rk(Ck.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pk;switch(e.type){case"gapi":var t=e.client;return Ek(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Rk(Ck.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_R.get(e);t&&(wk("ComponentProvider","Removing Datastore"),_R.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function OR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=RR(e,PR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&_k("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=yk.MOCK_USER;else{o=ri(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Rk(Ck.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yk(s)}e._authCredentials=new Ok(new Nk(o,u))}}var DR=function(){function e(t,n,r){zr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LR=function(){function e(t,n,r){zr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MR=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,e,r,jw(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DR(this.firestore,null,new Yk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LR);function FR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Si(e),SR("collection","path",t),e instanceof PR){var a=Hk.fromString.apply(Hk,[t].concat(r));return TR(a),new MR(e,null,a)}if(!(e instanceof DR||e instanceof MR))throw new Rk(Ck.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hk.fromString.apply(Hk,[t].concat(r)));return TR(o),new MR(e.firestore,null,o)}function UR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Si(e),1===arguments.length&&(t=jk.I()),SR("doc","path",t),e instanceof PR){var a=Hk.fromString.apply(Hk,[t].concat(r));return ER(a),new DR(e,null,new Yk(a))}if(!(e instanceof DR||e instanceof MR))throw new Rk(Ck.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hk.fromString.apply(Hk,[t].concat(r)));return ER(o),new DR(e.firestore,e instanceof MR?e.converter:null,new Yk(o))}function VR(e,t){return e=Si(e),t=Si(t),(e instanceof DR||e instanceof MR)&&(t instanceof DR||t instanceof MR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jR(e,t){return e=Si(e),t=Si(t),e instanceof LR&&t instanceof LR&&e.firestore===t.firestore&&Qw(e._query,t._query)&&e.converter===t.converter}var zR=function(){function e(){var t=this;zr(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ME(this,"async_queue_retry"),this.Kc=function(){var e=DE();e&&wk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=DE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return k(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=DE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Ak;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ti(Ii().mark((function e(){var t=this;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),vb(e.t0)){e.next=12;break}throw e.t0;case 12:wk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=AT.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Ik()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ti(Ii().mark((function e(){var t;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Br(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Br(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function BR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Br(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qR=function(){function e(){zr(this,e),this._progressObserver={},this._taskCompletionResolver=new Ak,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),KR=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zR,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||WR(this),this._firestoreClient.terminate()}}]),n}(PR);function GR(e){return e._firestoreClient||WR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new zb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HR(e,t,n){var r=new Ak;return e.asyncQueue.enqueue(Ti(Ii().mark((function i(){var a;return Ii().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uR(e,n);case 3:return i.next=5,cR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ck.FAILED_PRECONDITION||e.code===Ck.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:_k("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function QR(e){return function(e){return e.asyncQueue.enqueue(Ti(Ii().mark((function t(){var n,r;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vR(e);case 2:return n=t.sent,t.next=5,yR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Tk(e);return t.lu.delete(0),qE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(GR(e=RR(e,KR)))}function $R(e){return function(e){return e.asyncQueue.enqueue(Ti(Ii().mark((function t(){var n,r;return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vR(e);case 2:return n=t.sent,t.next=5,yR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Tk(t)).lu.add(0),e.next=4,GE(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(GR(e=RR(e,KR)))}function YR(e,t){var n=GR(e=RR(e,KR)),r=new qR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new rR(e,t)}(function(e,t){if(e instanceof Uint8Array)return tR(e,t);if(e instanceof ArrayBuffer)return tR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,LE(t));e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YC,t.next=3,gR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function XR(e,t){return function(e,t){return e.asyncQueue.enqueue(Ti(Ii().mark((function n(){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Tk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,mR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(GR(e=RR(e,KR)),t).then((function(t){return t?new LR(e,null,t.query):null}))}function JR(e){if(e._initialized||e._terminated)throw new Rk(Ck.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZR=function(){function e(){zr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $k(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eA=function(){function e(t){zr(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ob.fromBase64String(t))}catch(t){throw new Rk(Ck.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ob.fromUint8Array(t))}}]),e}(),tA=k((function e(t){zr(this,e),this._methodName=t})),nA=function(){function e(t,n){if(zr(this,e),!isFinite(t)||t<-90||t>90)throw new Rk(Ck.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rk(Ck.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zk(this._lat,e._lat)||zk(this._long,e._long)}}]),e}(),rA=/^__.*__$/,iA=function(){function e(t,n,r){zr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Tx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ex(e,this.data,t,this.fieldTransforms)}}]),e}(),aA=function(){function e(t,n,r){zr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new Tx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ik()}}var uA=function(){function e(t,n,r,i,a,o){zr(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return TA(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(oA(this.Zc)&&rA.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),sA=function(){function e(t,n,r){zr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||LE(t)}return k(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uA({Zc:e,methodName:t,ca:n,path:$k.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function cA(e){var t=e._freezeSettings(),n=LE(e._databaseId);return new sA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);_A("Data must be an object, but it was:",o,r);var u,s,c=wA(r,o);if(a.merge)u=new Pb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Br(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=SA(t,d,n);if(!o.contains(p))throw new Rk(Ck.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Pb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iA(new dw(c),u,s)}var fA=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tA);function hA(e,t,n){return new uA({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var dA=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new mx(e.path,new sx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tA),pA=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).ha=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=hA(this,e,!0),n=this.ha.map((function(e){return bA(e,t)})),r=new cx(n);return new mx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA),vA=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).ha=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=hA(this,e,!0),n=this.ha.map((function(e){return bA(e,t)})),r=new fx(n);return new mx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA),mA=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e)).la=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new dx(e.wt,rx(e.wt,this.la));return new mx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA);function yA(e,t,n,r){var i=e.aa(1,t,n);_A("Data must be an object, but it was:",i,r);var a=[],o=dw.empty();Sb(r,(function(e,r){var u=EA(t,e,n);r=Si(r);var s=i.ia(u);if(r instanceof fA)a.push(u);else{var c=bA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Pb(a);return new aA(o,u,i.fieldTransforms)}function gA(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[SA(t,r,n)],s=[i];if(a.length%2!=0)throw new Rk(Ck.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(SA(t,a[c])),s.push(a[c+1]);for(var l=[],f=dw.empty(),h=u.length-1;h>=0;--h)if(!CA(l,u[h])){var d=u[h],p=s[h];p=Si(p);var v=o.ia(d);if(p instanceof fA)l.push(d);else{var m=bA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Pb(l);return new aA(f,y,o.fieldTransforms)}function kA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bA(n,e.aa(r?4:3,t))}function bA(e,t){if(xA(e=Si(e)))return _A("Unsupported field value:",t,e),wA(e,t);if(e instanceof tA)return function(e,t){if(!oA(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Br(e);try{for(a.s();!(n=a.n()).done;){var o=bA(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Si(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rx(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Kk.fromDate(e);return{timestampValue:l_(t.wt,n)}}if(e instanceof Kk){var r=new Kk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:l_(t.wt,r)}}if(e instanceof nA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eA)return{bytesValue:f_(t.wt,e._byteString)};if(e instanceof DR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:p_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(CR(e)))}(e,t)}function wA(e,t){var n={};return Ib(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sb(e,(function(e,r){var i=bA(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kk||e instanceof nA||e instanceof eA||e instanceof DR||e instanceof tA)}function _A(e,t,n){if(!xA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=CR(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function SA(e,t,n){if((t=Si(t))instanceof ZR)return t._internalPath;if("string"==typeof t)return EA(e,t);throw TA("Field path arguments must be of type string or ",e,!1,void 0,n)}var IA=new RegExp("[~\\*/\\[\\]]");function EA(e,t,n){if(t.search(IA)>=0)throw TA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Qr(ZR,yt(t.split(".")))._internalPath}catch(r){throw TA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Rk(Ck.INVALID_ARGUMENT,u+e+s)}function CA(e,t){return e.some((function(e){return e.isEqual(t)}))}var RA=function(){function e(t,n,r,i,a){zr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),AA=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return to(Kr(n.prototype),"data",this).call(this)}}]),n}(RA);function NA(e,t){return"string"==typeof t?EA(e,t):t instanceof ZR?t._internalPath:t._delegate._internalPath}var PA=function(){function e(t,n){zr(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OA=function(e){qr(n,e);var t=Hr(n);function n(e,r,i,a,o,u){var s;return zr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return k(n,[{key:"exists",value:function(){return to(Kr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(RA),DA=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return to(Kr(n.prototype),"data",this).call(this,e)}}]),n}(OA),LA=function(){function e(t,n,r,i){zr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new PA(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DA(n._firestore,n._userDataWriter,r.key,r,new PA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rk(Ck.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:MA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function MA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ik()}}function FA(e,t){return e instanceof OA&&t instanceof OA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LA&&t instanceof LA&&e._firestore===t._firestore&&jR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function UA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rk(Ck.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VA=k((function e(){zr(this,e)}));function jA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zA=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=cA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){JA(o,a);var s,c=[],l=Br(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(XA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=XA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||JA(o,a),u=kA(n,"where",o,"in"===a||"not-in"===a);var h=Sw.create(i,a,u);return function(e,t){if(t.ht()){var n=qw(e);if(null!==n&&!n.isEqual(t.field))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Bw(e);null!==r&&ZA(e,t.field,r)}var i=function(e,t){var n,r=Br(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new LR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VA);var BA=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dw(t,n);return function(e,t){if(null===Bw(e)){var n=qw(e);null!==n&&ZA(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new LR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Uw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(VA);var qA=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return k(n,[{key:"_apply",value:function(e){return new LR(e.firestore,e.converter,Hw(e._query,this.ma,this.ga))}}]),n}(VA);var KA=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return k(n,[{key:"_apply",value:function(e){var t=YA(e,this.type,this.ya,this.pa);return new LR(e.firestore,e.converter,function(e,t){return new Uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(VA);function GA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KA("startAt",t,!0)}function WA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KA("startAfter",t,!1)}var HA=function(e){qr(n,e);var t=Hr(n);function n(e,r,i){var a;return zr(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return k(n,[{key:"_apply",value:function(e){var t=YA(e,this.type,this.ya,this.pa);return new LR(e.firestore,e.converter,function(e,t){return new Uw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(VA);function QA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HA("endBefore",t,!1)}function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HA("endAt",t,!0)}function YA(e,t,n,r){if(n[0]=Si(n[0]),n[0]instanceof RA)return function(e,t,n,r,i){if(!r)throw new Rk(Ck.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Br(Gw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(tw(t,r.key));else{var c=r.data.field(s.field);if(Ub(c))throw new Rk(Ck.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ow(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Rk(Ck.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kw(e)&&-1!==c.indexOf("/"))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Hk.fromString(c));if(!Yk.isDocumentKey(l))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yk(l);u.push(tw(t,f))}else{var h=kA(n,r,c);u.push(h)}}return new Ow(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function XA(e,t,n){if("string"==typeof(n=Si(n))){if(""===n)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kw(t)&&-1!==n.indexOf("/"))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hk.fromString(n));if(!Yk.isDocumentKey(r))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return tw(e,new Yk(r))}if(n instanceof DR)return tw(e,n._key);throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(CR(n),"."))}function JA(e,t){if(!Array.isArray(e)||0===e.length)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ZA(e,t,n){if(!n.isEqual(t))throw new Rk(Ck.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var eN={maxAttempts:5},tN=function(){function e(){zr(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ik()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Sb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nA(Mb(e.latitude),Mb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Vb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Lb(e);return new Kk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hk.fromString(e);Ek(U_(n));var r=new Bb(n.get(1),n.get(3)),i=new Yk(n.popFirst(5));return r.isEqual(t)||xk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rN=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new eA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DR(this.firestore,null,t)}}]),n}(tN),iN=function(){function e(t,n){zr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cA(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aN(e,this._firestore),i=nN(r.converter,t,n),a=lA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,gx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Si(t))||t instanceof ZR?gA(this._dataReader,"WriteBatch.update",i._key,t,n,o):yA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,gx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aN(e,this._firestore);return this._mutations=this._mutations.concat(new Ox(t._key,gx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Rk(Ck.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aN(e,t){if((e=Si(e)).firestore!==t)throw new Rk(Ck.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oN=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new eA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DR(this.firestore,null,t)}}]),n}(tN);function uN(e){e=RR(e,DR);var t=RR(e.firestore,KR),n=GR(t),r=new oN(t);return function(e,t){var n=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function r(){return Ii().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ti(Ii().mark((function e(t,n,r){var i,a;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Tk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Rk(Ck.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=NT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OA(t,r,e._key,n,new PA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sN(e){e=RR(e,LR);var t=RR(e.firestore,KR),n=GR(t),r=new oN(t);return function(e,t){var n=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function r(){return Ii().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ti(Ii().mark((function e(t,n,r){var i,a,o,u,s;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lE(t,n,!0);case 3:i=e.sent,a=new XT(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=NT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LA(t,r,e,n)}))}function cN(e,t,n){e=RR(e,DR);var r=RR(e.firestore,KR),i=nN(e.converter,t,n);return dN(r,[lA(cA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gx.none())])}function lN(e,t,n){e=RR(e,DR);for(var r=RR(e.firestore,KR),i=cA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dN(r,[("string"==typeof(t=Si(t))||t instanceof ZR?gA(i,"updateDoc",e._key,t,n,o):yA(i,"updateDoc",e._key,t)).toMutation(e._key,gx.exists(!0))])}function fN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Si(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof DR)l=RR(e.firestore,KR),f=jw(e._key.path),c={next:function(t){n[s]&&n[s](pN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=RR(e,LR);l=RR(p.firestore,KR),f=p._query;var v=new oN(l);c={next:function(e){n[s]&&n[s](new LA(l,v,p,e))},error:n[s+1],complete:n[s+2]},UA(e._query)}return function(e,t,n,r){var i=new nR(r),a=new KT(t,i,n);return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FT,t.next=3,kR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VT,t.next=3,kR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GR(l),f,h,c)}function hN(e,t){return function(e,t){var n=new nR(t);return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tk(e).Tu.add(t),t.next()},t.next=3,kR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function t(){return Ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Tk(e).Tu.delete(t)},t.next=3,kR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GR(e=RR(e,KR)),BR(t)?t:{next:t})}function dN(e,t){return function(e,t){var n=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function r(){return Ii().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=uC,r.next=3,gR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(GR(e),t)}function pN(e,t,n){var r=n.docs.get(t._key),i=new oN(e);return new OA(e,i,t._key,r,new PA(n.hasPendingWrites,n.fromCache),t.converter)}var vN=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=aN(e,this._firestore),i=new oN(this._firestore);return to(Kr(n.prototype),"get",this).call(this,e).then((function(e){return new OA(t._firestore,i,r._key,e._document,new PA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){zr(this,e),this._firestore=t,this._transaction=n,this._dataReader=cA(t)}return k(e,[{key:"get",value:function(e){var t=this,n=aN(e,this._firestore),r=new rN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ik();var i=e[0];if(i.isFoundDocument())return new RA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new RA(t._firestore,r,n._key,null,n.converter);throw Ik()}))}},{key:"set",value:function(e,t,n){var r=aN(e,this._firestore),i=nN(r.converter,t,n),a=lA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Si(t))||t instanceof ZR?gA(this._dataReader,"Transaction.update",i._key,t,n,o):yA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mN(e,t,n){e=RR(e,KR);var r=Object.assign(Object.assign({},eN),n);return function(e){if(e.maxAttempts<1)throw new Rk(Ck.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function i(){var a;return Ii().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return dR(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new aR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(GR(e),(function(n){return t(new vN(e,n))}),r)}function yN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pA("arrayUnion",t)}function gN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){gk=e}(_a),ma(new Ci("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new KR(i,new Dk(e.getProvider("auth-internal")),new Uk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ra(mk,"3.4.14",e),Ra(mk,"3.4.14","esm2017")}();function kN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bN(){if("undefined"===typeof Uint8Array)throw new Rk("unimplemented","Uint8Arrays are not available in this environment.")}function wN(){if("undefined"==typeof atob)throw new Rk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xN=function(){function e(t){zr(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return wN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wN(),new e(eA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bN(),new e(eA.fromUint8Array(t))}}]),e}();function _N(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Br(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var SN=function(){function e(){zr(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){JR(e=RR(e,KR));var n=GR(e),r=e._freezeSettings(),i=new eR;return HR(n,i,new JC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){JR(e=RR(e,KR));var t=GR(e),n=e._freezeSettings(),r=new eR;return HR(t,r,new ZC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Rk(Ck.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ak;return e._queue.enqueueAndForgetEvenWhileRestricted(Ti(Ii().mark((function n(){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ti(Ii().mark((function e(t){var n;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hb.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,hb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($I(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),IN=function(){function e(t,n,r){var i=this;zr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Bb||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||_k("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};OR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QR(this._delegate)}},{key:"disableNetwork",value:function(){return $R(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&IR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ak;return e.asyncQueue.enqueueAndForget(Ti(Ii().mark((function n(){return Ii().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=gC,n.next=3,gR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(GR(e=RR(e,KR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Rk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new VN(this,FR(this._delegate,e))}catch(t){throw NN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new AN(this,UR(this._delegate,e))}catch(t){throw NN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new MN(this,function(e,t){if(e=RR(e,PR),SR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rk(Ck.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LR(e,null,function(e){return new Uw(Hk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw NN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return mN(this._delegate,(function(n){return e(new TN(t,n))}))}},{key:"batch",value:function(){var e=this;return GR(this._delegate),new CN(new iN(this._delegate,(function(t){return dN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return XR(this._delegate,e).then((function(e){return e?new MN(t,e):null}))}}]),e}(),EN=function(e){qr(n,e);var t=Hr(n);function n(e){var r;return zr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new xN(new eA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return AN.forKey(t,this.firestore,null)}}]),n}(tN);var TN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new EN(t)}return k(e,[{key:"get",value:function(e){var t=this,n=jN(e);return this._delegate.get(n).then((function(e){return new DN(t._firestore,new OA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=jN(e);return n?(kN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jN(e);return this._delegate.delete(t),this}}]),e}(),CN=function(){function e(t){zr(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=jN(e);return n?(kN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),RN=function(){function e(t,n,r){zr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new DA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new EN(t),n),i.set(n,a)),a}}]),e}();RN.INSTANCES=new WeakMap;var AN=function(){function e(t,n){zr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new EN(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new VN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new VN(this.firestore,FR(this._delegate,e))}catch(t){throw NN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Si(e))instanceof DR&&VR(this._delegate,e)}},{key:"set",value:function(e,t){t=kN("DocumentReference.set",t);try{return t?cN(this._delegate,e,t):cN(this._delegate,e)}catch(n){throw NN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lN(this._delegate,e):lN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw NN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dN(RR(e.firestore,KR),[new Ox(e._key,gx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PN(n),a=ON(n,(function(t){return new DN(e.firestore,new OA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RR(e,DR);var t=RR(e.firestore,KR);return wR(GR(t),e._key,{source:"server"}).then((function(n){return pN(t,e,n)}))}(this._delegate):function(e){e=RR(e,DR);var t=RR(e.firestore,KR);return wR(GR(t),e._key).then((function(n){return pN(t,e,n)}))}(this._delegate),t.then((function(e){return new DN(n.firestore,new OA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Rk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DR(n._delegate,r,new Yk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DR(n._delegate,r,t))}}]),e}();function NN(e,t,n){return e.message=e.message.replace(t,n),e}function PN(e){var t,n=Br(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!_N(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ON(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_N(e[0])?e[0]:_N(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new AN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FA(this._delegate,e._delegate)}}]),e}(),LN=function(e){qr(n,e);var t=Hr(n);function n(){return zr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ik()}(void 0!==t),t}}]),n}(DN),MN=function(){function e(t,n){zr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new EN(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,jA(this._delegate,function(e,t,n){var r=t,i=NA("where",e);return new zA(i,r,n)}(t,n,r)))}catch(i){throw NN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,jA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NA("orderBy",e);return new BA(n,t)}(t,n)))}catch(r){throw NN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,jA(this._delegate,function(e){return AR("limit",e),new qA("limit",e,"F")}(t)))}catch(n){throw NN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,jA(this._delegate,function(e){return AR("limitToLast",e),new qA("limitToLast",e,"L")}(t)))}catch(n){throw NN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,jA(this._delegate,GA.apply(void 0,arguments)))}catch(t){throw NN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,jA(this._delegate,WA.apply(void 0,arguments)))}catch(t){throw NN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,jA(this._delegate,QA.apply(void 0,arguments)))}catch(t){throw NN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,jA(this._delegate,$A.apply(void 0,arguments)))}catch(t){throw NN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=RR(e,LR);var t=RR(e.firestore,KR),n=GR(t),r=new oN(t);return xR(n,e._query,{source:"server"}).then((function(n){return new LA(t,r,e,n)}))}(this._delegate):function(e){e=RR(e,LR);var t=RR(e.firestore,KR),n=GR(t),r=new oN(t);return UA(e._query),xR(n,e._query).then((function(n){return new LA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new UN(n.firestore,new LA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PN(n),a=ON(n,(function(t){return new UN(e.firestore,new LA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(RN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),FN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),UN=function(){function e(t,n){zr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new MN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new FN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FA(this._delegate,e._delegate)}}]),e}(),VN=function(e){qr(n,e);var t=Hr(n);function n(e,r){var i;return zr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new AN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new AN(this.firestore,void 0===e?UR(this._delegate):UR(this._delegate,e))}catch(t){throw NN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=RR(e.firestore,KR),r=UR(e),i=nN(e.converter,t);return dN(n,[lA(cA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new AN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return VR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(RN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(MN);function jN(e){return RR(e,DR)}var zN=function(){function e(){zr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Qr(ZR,n)}return k(e,[{key:"isEqual",value:function(e){return(e=Si(e))instanceof ZR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e($k.keyField().canonicalString())}}]),e}(),BN=function(){function e(t){zr(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qN={Firestore:IN,GeoPoint:nA,Timestamp:Kk,Blob:xN,Transaction:TN,WriteBatch:CN,DocumentReference:AN,DocumentSnapshot:DN,Query:MN,QueryDocumentSnapshot:LN,QuerySnapshot:UN,CollectionReference:VN,FieldPath:zN,FieldValue:BN,setLogLevel:function(e){!function(e){kk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ci("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qN)))}(e,(function(e,t){return new IN(e,t,new SN)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(Za);var KN=Za.initializeApp({apiKey:"AIzaSyB4FsWIhOrtfy6RBcXq393JHEWBuTkZ1FQ",authDomain:"instagram-clone-28d27.firebaseapp.com",projectId:"instagram-clone-28d27",storageBucket:"instagram-clone-28d27.appspot.com",messagingSenderId:"1067913801877",appId:"1:1067913801877:web:18778e5b7b091c97f16b9c"}).firestore(),GN=Za.auth(),WN=Za.storage(),HN=n(184);var QN=function(e){var n=e.username,r=e.postId,i=e.caption,a=e.user,o=e.imageurl,u=s((0,t.useState)([]),2),c=u[0],l=u[1],f=s((0,t.useState)(""),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){var e;return r&&(e=KN.collection("posts").doc(r).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[r]),(0,HN.jsxs)("div",{className:"post",children:[(0,HN.jsxs)("div",{className:"post_header",children:[(0,HN.jsx)(jr,{className:"post_avatar",alt:"Ankit kumar",src:"/static/images/avatar/1.jpg"}),(0,HN.jsx)("h2",{children:n})]}),(0,HN.jsx)("img",{className:"post_image",src:o,alt:"it's a server error"}),(0,HN.jsxs)("h4",{className:"post_handle",children:[(0,HN.jsx)("strong",{children:n})," ",i]}),(0,HN.jsx)("div",{className:"Input_comments",children:c.map((function(e){return(0,HN.jsxs)("p",{children:[(0,HN.jsxs)("strong",{children:["  ",e.username," "]}),e.text]})}))}),a&&(0,HN.jsxs)("form",{className:"post_form",children:[(0,HN.jsx)("input",{className:"post_comment",type:"text",placeholder:"Place a comment here.....",value:h,onChange:function(e){return d(e.target.value)}}),(0,HN.jsx)("button",{className:"post_button",disabled:!h,type:"submit",onClick:function(e){e.preventDefault(),KN.collection("posts").doc(r).collection("comments").add({text:h,username:a.displayName,timestamp:Za.firestore.FieldValue.serverTimestamp()}),l("")},children:"Post"})]})]})};var $N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn(e,c({defaultTheme:Or},t))},YN=n(164);function XN(e){return e&&e.ownerDocument||document}function JN(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ZN(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){JN(e,t),JN(n,t)}}),[e,n])}var eP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var tP=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=e.onRendered,s=t.useState(null),c=s[0],l=s[1],f=ZN(t.isValidElement(r)?r.ref:null,n);return eP((function(){o||l(function(e){return e="function"===typeof e?e():e,YN.findDOMNode(e)}(i)||document.body)}),[i,o]),eP((function(){if(c&&!o)return JN(n,c),function(){JN(n,null)}}),[n,c,o]),eP((function(){u&&(c||o)&&u()}),[u,c,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:c?YN.createPortal(r,c):c}));function nP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var rP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function iP(e){var n=t.useRef(e);return rP((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function aP(e){var t,n=XN(e);return n.body===e?(t=n,XN(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function oP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function uP(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function sP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(yt(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&oP(e,i)}))}function cP(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function lP(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(aP(a)){var o=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(uP(a)+o,"px"),n=XN(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(uP(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var fP=function(){function e(){zr(this,e),this.modals=[],this.containers=[]}return k(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&oP(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);sP(t,e.mountNode,e.modalRef,r,!0);var i=cP(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=cP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=lP(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=cP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&oP(e.modalRef,!0),sP(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&oP(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var hP=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getDoc,l=e.isEnabled,f=e.open,h=t.useRef(),d=t.useRef(null),p=t.useRef(null),v=t.useRef(),m=t.useRef(null),y=t.useCallback((function(e){m.current=YN.findDOMNode(e)}),[]),g=ZN(n.ref,y),k=t.useRef();return t.useEffect((function(){k.current=f}),[f]),!k.current&&f&&"undefined"!==typeof window&&(v.current=c().activeElement),t.useEffect((function(){if(f){var e=XN(m.current);i||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&l()&&!h.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():h.current=!1)},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===m.current&&(h.current=!0,t.shiftKey?p.current.focus():d.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[i,o,s,l,f]),t.createElement(t.Fragment,null,t.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:g}),t.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},dP={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},pP=t.forwardRef((function(e,n){var r=e.invisible,i=void 0!==r&&r,a=e.open,o=f(e,["invisible","open"]);return a?t.createElement("div",c({"aria-hidden":!0,ref:n},o,{style:c({},dP.root,i?dP.invisible:{},o.style)})):null}));var vP=new fP,mP=t.forwardRef((function(e,n){var r=Ue(),i=Ln({name:"MuiModal",props:c({},e),theme:r}),a=i.BackdropComponent,o=void 0===a?pP:a,u=i.BackdropProps,s=i.children,l=i.closeAfterTransition,h=void 0!==l&&l,d=i.container,p=i.disableAutoFocus,v=void 0!==p&&p,m=i.disableBackdropClick,y=void 0!==m&&m,g=i.disableEnforceFocus,k=void 0!==g&&g,b=i.disableEscapeKeyDown,w=void 0!==b&&b,x=i.disablePortal,_=void 0!==x&&x,S=i.disableRestoreFocus,I=void 0!==S&&S,E=i.disableScrollLock,T=void 0!==E&&E,C=i.hideBackdrop,R=void 0!==C&&C,A=i.keepMounted,N=void 0!==A&&A,P=i.manager,O=void 0===P?vP:P,D=i.onBackdropClick,L=i.onClose,M=i.onEscapeKeyDown,F=i.onRendered,U=i.open,V=f(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=t.useState(!0),z=j[0],B=j[1],q=t.useRef({}),K=t.useRef(null),G=t.useRef(null),W=ZN(G,n),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),Q=function(){return XN(K.current)},$=function(){return q.current.modalRef=G.current,q.current.mountNode=K.current,q.current},Y=function(){O.mount($(),{disableScrollLock:T}),G.current.scrollTop=0},X=iP((function(){var e=function(e){return e="function"===typeof e?e():e,YN.findDOMNode(e)}(d)||Q().body;O.add($(),e),G.current&&Y()})),J=t.useCallback((function(){return O.isTopModal($())}),[O]),Z=iP((function(e){K.current=e,e&&(F&&F(),U&&J()?Y():oP(G.current,!0))})),ee=t.useCallback((function(){O.remove($())}),[O]);if(t.useEffect((function(){return function(){ee()}}),[ee]),t.useEffect((function(){U?X():H&&h||ee()}),[U,ee,H,h,X]),!N&&!U&&(!H||z))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:Nr}),ne={};return void 0===s.props.tabIndex&&(ne.tabIndex=s.props.tabIndex||"-1"),H&&(ne.onEnter=nP((function(){B(!1)}),s.props.onEnter),ne.onExited=nP((function(){B(!0),h&&ee()}),s.props.onExited)),t.createElement(tP,{ref:Z,container:d,disablePortal:_},t.createElement("div",c({ref:W,onKeyDown:function(e){"Escape"===e.key&&J()&&(M&&M(e),w||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))},role:"presentation"},V,{style:c({},te.root,!U&&z?te.hidden:{},V.style)}),R?null:t.createElement(o,c({open:U,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),!y&&L&&L(e,"backdropClick"))}},u)),t.createElement(hP,{disableEnforceFocus:k,disableAutoFocus:v,disableRestoreFocus:I,getDoc:Q,isEnabled:J,open:U},t.cloneElement(s,ne))))})),yP=!0,gP=!1,kP=null,bP={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function wP(e){e.metaKey||e.altKey||e.ctrlKey||(yP=!0)}function xP(){yP=!1}function _P(){"hidden"===this.visibilityState&&gP&&(yP=!0)}function SP(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return yP||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!bP[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function IP(){gP=!0,window.clearTimeout(kP),kP=window.setTimeout((function(){gP=!1}),100)}function EP(){var e=t.useCallback((function(e){var t,n=YN.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",wP,!0),t.addEventListener("mousedown",xP,!0),t.addEventListener("pointerdown",xP,!0),t.addEventListener("touchstart",xP,!0),t.addEventListener("visibilitychange",_P,!0))}),[]);return{isFocusVisible:SP,onBlurVisible:IP,ref:e}}var TP=t.createContext(null);function CP(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function RP(e,t,n){return null!=n[t]?n[t]:e.props[t]}function AP(e,n,r){var i=CP(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:RP(u,"exit",e),enter:RP(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:RP(u,"exit",e),enter:RP(u,"enter",e)})}})),a}var NP=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},PP=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(x(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}w(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,CP(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:RP(e,"appear",r),enter:RP(e,"enter",r),exit:RP(e,"exit",r)})}))):AP(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=CP(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=NP(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(TP.Provider,{value:a},o):t.createElement(TP.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);PP.propTypes={},PP.defaultProps={component:"div",childFactory:function(e){return e}};var OP=PP,DP="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var LP=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=t.useState(!1),p=h[0],v=h[1],m=d(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:u,height:u,top:-u/2+o,left:-u/2+a},g=d(n.child,p&&n.childLeaving,i&&n.childPulsate),k=iP(l);return DP((function(){if(!s){v(!0);var e=setTimeout(k,f);return function(){clearTimeout(e)}}}),[k,s,f]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:g}))},MP=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,u=f(e,["center","classes","className"]),s=t.useState([]),l=s[0],h=s[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[l]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,u=e.cb;h((function(e){return[].concat(yt(e),[t.createElement(LP,{key:p.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),p.current+=1,v.current=u}),[a]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),t.createElement("span",c({className:d(a.root,o),ref:k},u),t.createElement(OP,{component:null,exit:!0},l))})),FP=Dr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(MP)),UP=t.forwardRef((function(e,n){var r=e.action,i=e.buttonRef,a=e.centerRipple,o=void 0!==a&&a,u=e.children,s=e.classes,l=e.className,h=e.component,p=void 0===h?"button":h,v=e.disabled,m=void 0!==v&&v,y=e.disableRipple,g=void 0!==y&&y,k=e.disableTouchRipple,b=void 0!==k&&k,w=e.focusRipple,x=void 0!==w&&w,_=e.focusVisibleClassName,S=e.onBlur,I=e.onClick,E=e.onFocus,T=e.onFocusVisible,C=e.onKeyDown,R=e.onKeyUp,A=e.onMouseDown,N=e.onMouseLeave,P=e.onMouseUp,O=e.onTouchEnd,D=e.onTouchMove,L=e.onTouchStart,M=e.onDragLeave,F=e.tabIndex,U=void 0===F?0:F,V=e.TouchRippleProps,j=e.type,z=void 0===j?"button":j,B=f(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=t.useRef(null);var K=t.useRef(null),G=t.useState(!1),W=G[0],H=G[1];m&&W&&H(!1);var Q=EP(),$=Q.isFocusVisible,Y=Q.onBlurVisible,X=Q.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return iP((function(r){return t&&t(r),!n&&K.current&&K.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){H(!0),q.current.focus()}}}),[]),t.useEffect((function(){W&&x&&!g&&K.current.pulsate()}),[g,x,W]);var Z=J("start",A),ee=J("stop",M),te=J("stop",P),ne=J("stop",(function(e){W&&e.preventDefault(),N&&N(e)})),re=J("start",L),ie=J("stop",O),ae=J("stop",D),oe=J("stop",(function(e){W&&(Y(e),H(!1)),S&&S(e)}),!1),ue=iP((function(e){q.current||(q.current=e.currentTarget),$(e)&&(H(!0),T&&T(e)),E&&E(e)})),se=function(){var e=YN.findDOMNode(q.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},ce=t.useRef(!1),le=iP((function(e){x&&!ce.current&&W&&K.current&&" "===e.key&&(ce.current=!0,e.persist(),K.current.stop(e,(function(){K.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!m&&(e.preventDefault(),I&&I(e))})),fe=iP((function(e){x&&" "===e.key&&K.current&&W&&!e.defaultPrevented&&(ce.current=!1,e.persist(),K.current.stop(e,(function(){K.current.pulsate(e)}))),R&&R(e),I&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&I(e)})),he=p;"button"===he&&B.href&&(he="a");var de={};"button"===he?(de.type=z,de.disabled=m):("a"===he&&B.href||(de.role="button"),de["aria-disabled"]=m);var pe=ZN(i,n),ve=ZN(X,q),me=ZN(pe,ve),ye=t.useState(!1),ge=ye[0],ke=ye[1];t.useEffect((function(){ke(!0)}),[]);var be=ge&&!g&&!m;return t.createElement(he,c({className:d(s.root,l,W&&[s.focusVisible,_],m&&s.disabled),onBlur:oe,onClick:I,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:Z,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:me,tabIndex:m?-1:U},de,B),u,be?t.createElement(FP,c({ref:K,center:o},V)):null)})),VP=Dr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(UP),jP=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,l=void 0===s?"button":s,h=e.disabled,p=void 0!==h&&h,v=e.disableElevation,m=void 0!==v&&v,y=e.disableFocusRipple,g=void 0!==y&&y,k=e.endIcon,b=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,_=e.size,S=void 0===_?"medium":_,I=e.startIcon,E=e.type,T=void 0===E?"button":E,C=e.variant,R=void 0===C?"text":C,A=f(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=I&&t.createElement("span",{className:d(i.startIcon,i["iconSize".concat(Lr(S))])},I),P=k&&t.createElement("span",{className:d(i.endIcon,i["iconSize".concat(Lr(S))])},k);return t.createElement(VP,c({className:d(i.root,i[R],a,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(R).concat(Lr(u))],"medium"!==S&&[i["".concat(R,"Size").concat(Lr(S))],i["size".concat(Lr(S))]],m&&i.disableElevation,p&&i.disabled,x&&i.fullWidth),component:l,disabled:p,focusRipple:!g,focusVisibleClassName:d(i.focusVisible,b),ref:n,type:T},A),t.createElement("span",{className:i.label},N,r,P))})),zP=Dr((function(e){return{root:c({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:er(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(er(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(er(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(jP);var BP=t.createContext();var qP=BP;function KP(e,t){return parseInt(e[t],10)||0}var GP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,WP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},HP=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,a=e.rowsMax,o=e.rowsMin,u=e.maxRows,s=e.minRows,l=void 0===s?1:s,h=e.style,d=e.value,p=f(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=u||a,m=i||o||l,y=t.useRef(null!=d).current,g=t.useRef(null),k=ZN(n,g),b=t.useRef(null),w=t.useRef(0),x=t.useState({}),_=x[0],S=x[1],I=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=KP(n,"padding-bottom")+KP(n,"padding-top"),o=KP(n,"border-bottom-width")+KP(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;m&&(c=Math.max(Number(m)*s,c)),v&&(c=Math.min(Number(v)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;S((function(e){return w.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(w.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,e.placeholder]);t.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){w.current=0,I()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[I]),GP((function(){I()})),t.useEffect((function(){w.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",c({value:d,onChange:function(e){w.current=0,y||I(),r&&r(e)},ref:k,rows:m,style:c({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},h)},p)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:c({},WP,h)}))})),QP=HP;function $P(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var YP="undefined"===typeof window?t.useEffect:t.useLayoutEffect,XP=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,o=e.classes,u=e.className,s=(e.color,e.defaultValue),l=e.disabled,h=e.endAdornment,p=(e.error,e.fullWidth),v=void 0!==p&&p,m=e.id,y=e.inputComponent,g=void 0===y?"input":y,k=e.inputProps,b=void 0===k?{}:k,w=e.inputRef,x=(e.margin,e.multiline),_=void 0!==x&&x,S=e.name,I=e.onBlur,E=e.onChange,T=e.onClick,C=e.onFocus,R=e.onKeyDown,A=e.onKeyUp,N=e.placeholder,P=e.readOnly,O=e.renderSuffix,D=e.rows,L=e.rowsMax,M=e.rowsMin,F=e.maxRows,U=e.minRows,V=e.startAdornment,j=e.type,z=void 0===j?"text":j,B=e.value,q=f(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),K=null!=b.value?b.value:B,G=t.useRef(null!=K).current,W=t.useRef(),H=t.useCallback((function(e){0}),[]),Q=ZN(b.ref,H),$=ZN(w,Q),Y=ZN(W,$),X=t.useState(!1),J=X[0],Z=X[1],ee=t.useContext(BP);var te=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});te.focused=ee?ee.focused:J,t.useEffect((function(){!ee&&l&&J&&(Z(!1),I&&I())}),[ee,l,J,I]);var ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,ie=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&($P(e.value)&&""!==e.value||t&&$P(e.defaultValue)&&""!==e.defaultValue)}(e)?re&&re():ne&&ne()}),[ne,re]);YP((function(){G&&ie({value:K})}),[K,ie,G]);t.useEffect((function(){ie(W.current)}),[]);var ae=g,oe=c({},b,{ref:Y});"string"!==typeof ae?oe=c({inputRef:Y,type:z},oe,{ref:null}):_?!D||F||U||L||M?(oe=c({minRows:D||U,rowsMax:L,maxRows:F},oe),ae=QP):ae="textarea":oe=c({type:z},oe);return t.useEffect((function(){ee&&ee.setAdornedStart(Boolean(V))}),[ee,V]),t.createElement("div",c({className:d(o.root,o["color".concat(Lr(te.color||"primary"))],u,te.disabled&&o.disabled,te.error&&o.error,v&&o.fullWidth,te.focused&&o.focused,ee&&o.formControl,_&&o.multiline,V&&o.adornedStart,h&&o.adornedEnd,"dense"===te.margin&&o.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),T&&T(e)},ref:n},q),V,t.createElement(qP.Provider,{value:null},t.createElement(ae,c({"aria-invalid":te.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:s,disabled:te.disabled,id:m,onAnimationStart:function(e){ie("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:S,placeholder:N,readOnly:P,required:te.required,rows:D,value:K,onKeyDown:R,onKeyUp:A},oe,{className:d(o.input,b.className,te.disabled&&o.disabled,_&&o.inputMultiline,te.hiddenLabel&&o.inputHiddenLabel,V&&o.inputAdornedStart,h&&o.inputAdornedEnd,"search"===z&&o.inputTypeSearch,"dense"===te.margin&&o.inputMarginDense),onBlur:function(e){I&&I(e),b.onBlur&&b.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):Z(!1)},onChange:function(e){if(!G){var t=e.target||W.current;if(null==t)throw new Error(zn(1));ie({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];b.onChange&&b.onChange.apply(b,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){te.disabled?e.stopPropagation():(C&&C(e),b.onFocus&&b.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):Z(!0))}}))),h,O?O(c({},te,{startAdornment:V})):null)})),JP=Dr((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:c({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(XP),ZP=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,l=e.multiline,h=void 0!==l&&l,p=e.type,v=void 0===p?"text":p,m=f(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(JP,c({classes:c({},i,{root:d(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:h,ref:n,type:v},m))}));ZP.muiName="Input";var eO=Dr((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(ZP);var tO=function(e){var n=e.username,r=s((0,t.useState)(null),2),i=r[0],a=r[1],o=s((0,t.useState)(""),2),u=o[0],c=o[1],l=s((0,t.useState)(0),2),f=l[0],h=l[1];return(0,HN.jsxs)("div",{className:"ImageUpload",children:[(0,HN.jsx)("progress",{className:"progress",value:f,max:"100"}),(0,HN.jsx)("input",{type:"text",placeholder:"Enter the caption......",onChange:function(e){return c(e.target.value)},value:u}),(0,HN.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,HN.jsx)(zP,{onClick:function(){WN.ref("/images/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);h(t)}),(function(e){console.log(e),alert(e.message)}),(function(){WN.ref("images").child(i.name).getDownloadURL().then((function(e){KN.collection("posts").add({timestamp:Za.firestore.FieldValue.serverTimestamp(),caption:u,imageurl:e,username:n}),h(0),c(""),a(null)}))}))},children:" Upload "})]})},nO=n(344),rO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iO=function(){return iO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iO.apply(this,arguments)},aO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oO=function(e){function n(t){var n=e.call(this,t)||this;return n.request=null,n.cancel=function(){n.request&&n.request.cancel()},n.handleFetchSuccess=function(e){n.props.onSuccess&&n.props.onSuccess(e),n.setState({html:e.html},(function(){window.instgrm.Embeds.process(),n.props.onAfterRender&&n.props.onAfterRender()}))},n.handleFetchFailure=function(e){clearTimeout(n.timer),n.props.onFailure&&n.props.onFailure(e)},n.createRequestPromise=function(e){var t={};return t.promise=new Promise((function(r,i){var a=fetch(e,{headers:{Authorization:"Bearer "+n.props.clientAccessToken}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return i(e)}));return t.cancel=function(){return i(new Error("Cancelled"))},a})),t},n.state={html:null},n}return rO(n,e),n.prototype.componentDidMount=function(){var e=this;window.instgrm?this.fetchEmbed(this.getQueryParams(this.props)):(this.props.injectScript&&!document.getElementById("react-instagram-embed-script")&&this.injectScript(),this.checkAPI().then((function(){e.fetchEmbed(e.getQueryParams(e.props))})))},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.url,r=t.clientAccessToken,i=t.hideCaption,a=t.maxWidth,o=t.containerTagName,u=t.className;e.url===n&&e.clientAccessToken===r&&e.hideCaption===i&&e.maxWidth===a&&e.containerTagName===o&&e.className===u||(this.request.cancel(),this.fetchEmbed(this.getQueryParams(this.props)))},n.prototype.componentWillUnmount=function(){this.cancel()},n.prototype.render=function(){var e=this.props.containerTagName;return t.createElement(e,iO({},this.omitComponentProps(),{dangerouslySetInnerHTML:{__html:this.state.html||""}}))},n.prototype.fetchEmbed=function(e){this.request=this.createRequestPromise("https://graph.facebook.com/v11.0/instagram_oembed/?"+e),this.props.onLoading&&this.props.onLoading(),this.request.promise.then(this.handleFetchSuccess).catch(this.handleFetchFailure)},n.prototype.omitComponentProps=function(){var e=this.props;e.url,e.clientAccessToken,e.hideCaption,e.maxWidth,e.containerTagName,e.onLoading,e.onSuccess,e.onAfterRender,e.onFailure,e.protocol,e.injectScript;return aO(e,["url","clientAccessToken","hideCaption","maxWidth","containerTagName","onLoading","onSuccess","onAfterRender","onFailure","protocol","injectScript"])},n.prototype.injectScript=function(){var e=0===window.location.protocol.indexOf("file")?this.props.protocol:"",t=document.createElement("script");t.async=t.defer=!0,t.src=e+"//platform.instagram.com/en_US/embeds.js",t.id="react-instagram-embed-script";var n=document.body;n&&n.appendChild(t)},n.prototype.checkAPI=function(){var e=this;return new Promise((function(t){!function e(n){n.timer=window.setTimeout((function(){window.instgrm?(clearTimeout(n.timer),t()):e(n)}),20)}(e)}))},n.prototype.getQueryParams=function(e){var t=e.url,n=e.hideCaption,r=e.maxWidth,i={url:t,hidecaption:n,omitscript:!0,fields:"html"};return"number"===typeof r&&320<=r&&r<=658&&(i.maxwidth=r),(0,nO.stringify)(i)},n.defaultProps={hideCaption:!1,containerTagName:"div",protocol:"https:",injectScript:!0},n}(t.Component),uO=oO;function sO(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var cO=$N((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.spacing(2,4,3)}}}));var lO=function(){var e=cO(),n=s((0,t.useState)(sO),1)[0],r=s((0,t.useState)([]),2),i=r[0],a=r[1],o=s((0,t.useState)(!1),2),u=o[0],c=o[1],l=s((0,t.useState)(""),2),f=l[0],h=l[1],d=s((0,t.useState)(!1),2),p=d[0],v=d[1],m=s((0,t.useState)(""),2),y=m[0],g=m[1],k=s((0,t.useState)(""),2),b=k[0],w=k[1],x=s((0,t.useState)(null),2),_=x[0],S=x[1];return(0,t.useEffect)((function(){var e=GN.onAuthStateChanged((function(e){e?(console.log(e),S(e)):S(null)}));return function(){e()}}),[_,f]),(0,t.useEffect)((function(){KN.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){a(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,HN.jsxs)("div",{className:"app",children:[(0,HN.jsx)(mP,{open:u,onClose:function(){return c(!1)},children:(0,HN.jsx)("div",{style:n,className:e.paper,children:(0,HN.jsxs)("form",{className:"sign_up",children:[(0,HN.jsx)("center",{children:(0,HN.jsx)("img",{className:"header_image",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"error on loading"})}),(0,HN.jsx)(eO,{type:"text",placeholder:"username",value:f,onChange:function(e){return h(e.target.value)}}),(0,HN.jsx)(eO,{type:"text",placeholder:"email",value:y,onChange:function(e){return g(e.target.value)}}),(0,HN.jsx)(eO,{type:"password",placeholder:"password",value:b,onChange:function(e){return w(e.target.value)}}),(0,HN.jsx)(zP,{type:"submit",onClick:function(e){e.preventDefault(),GN.createUserWithEmailAndPassword(y,b).then((function(e){return e.user.updateProfile({displayName:f})})).catch((function(e){return alert("fill the field correctly")})),c(!1)},children:"sign   Up"})]})})}),(0,HN.jsx)(mP,{open:p,onClose:function(){return v(!1)},children:(0,HN.jsx)("div",{style:n,className:e.paper,children:(0,HN.jsxs)("form",{className:"sign_up",children:[(0,HN.jsx)("center",{children:(0,HN.jsx)("img",{className:"header_image",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"error on loading"})}),(0,HN.jsx)(eO,{type:"text",placeholder:"email",value:y,onChange:function(e){return g(e.target.value)}}),(0,HN.jsx)(eO,{type:"password",placeholder:"password",value:b,onChange:function(e){return w(e.target.value)}}),(0,HN.jsx)(zP,{type:"submit",onClick:function(e){e.preventDefault(),GN.signInWithEmailAndPassword(y,b).catch((function(e){return alert(e.message)})),v(!1)},children:" sign In"})]})})}),(0,HN.jsx)("div",{}),(0,HN.jsxs)("div",{className:"app_header",children:[(0,HN.jsx)("img",{className:"app_headerLogo",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"it has a server error"}),_?(0,HN.jsx)(zP,{onClick:function(){return GN.signOut()},children:"logout"}):(0,HN.jsxs)("div",{className:"app_loginContainer",children:[(0,HN.jsx)(zP,{onClick:function(){return v(!0)},children:"Sign In"}),(0,HN.jsx)(zP,{onClick:function(){return c(!0)},children:"Sign Up"})]})]}),(0,HN.jsxs)("div",{className:"posts",children:[(0,HN.jsx)("div",{className:"left_part",children:i.map((function(e){var t=e.id,n=e.post;return(0,HN.jsx)(QN,{postId:t,username:n.username,user:_,caption:n.caption,imageurl:n.imageurl},t)}))}),(0,HN.jsx)("div",{className:"right_part",children:(0,HN.jsx)(uO,{url:"https://instagr.am/p/Zw9o4/",clientAccessToken:"123|456",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),null!==_&&void 0!==_&&_.displayName?(0,HN.jsx)(tO,{username:_.displayName}):(0,HN.jsx)("h3",{children:"Sorry ,login first to upload"})]})};r.createRoot(document.getElementById("root")).render((0,HN.jsx)(t.StrictMode,{children:(0,HN.jsx)(lO,{})}))}()}();
//# sourceMappingURL=main.9f5fa574.js.map